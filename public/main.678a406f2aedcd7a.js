"use strict";(self.webpackChunkErrorTicket=self.webpackChunkErrorTicket||[]).push([[179],{939:(Ri,In,Oe)=>{Oe.d(In,{$:()=>tp,A:()=>oe,G:()=>yt,K:()=>Wf,L:()=>Ss,N:()=>xr,P:()=>Vv,R:()=>kv,U:()=>ye,V:()=>_r,W:()=>Tt,X:()=>Gl,Y:()=>Qu,Z:()=>Mi,_:()=>As,a:()=>Hn,a0:()=>Na,a1:()=>ql,a2:()=>sp,a3:()=>op,a4:()=>yv,a5:()=>zi,a6:()=>ap,a7:()=>bv,a8:()=>bn,a9:()=>qe,aA:()=>tt,aB:()=>rt,aC:()=>ie,aD:()=>lo,aE:()=>K,aF:()=>Fe,aG:()=>Pp,aH:()=>Mp,aI:()=>Wv,aJ:()=>yn,aN:()=>Po,aQ:()=>to,aa:()=>vr,ab:()=>di,ac:()=>So,ad:()=>Ms,ae:()=>No,af:()=>Ao,ag:()=>Oa,ah:()=>kr,ak:()=>ss,al:()=>xa,am:()=>ut,ap:()=>_v,aq:()=>Oi,as:()=>JE,at:()=>gp,au:()=>Bt,av:()=>ve,aw:()=>V,ax:()=>Ze,ay:()=>Za,az:()=>Vp,b:()=>Ev,c:()=>Uv,d:()=>Hv,e:()=>Rp,f:()=>te,g:()=>Ga,h:()=>wi,i:()=>Sv,j:()=>yd,k:()=>Lo,l:()=>Lv,m:()=>Sd,p:()=>Vt,r:()=>Np,s:()=>Fv,u:()=>nc});var E=Oe(861),z=Oe(58),P=Oe(534),Te=Oe(879),Xe=Oe(582),tn=Oe(537);const Vt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const yt=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},nn=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},it=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new Te.Yd("@firebase/auth");function rn(h,...c){Be.logLevel<=Te.in.ERROR&&Be.error(`Auth (${P.SDK_VERSION}): ${h}`,...c)}function Ze(h,...c){throw We(h,...c)}function rt(h,...c){return We(h,...c)}function oi(h,c,u){const p=Object.assign(Object.assign({},nn()),{[c]:u});return new z.LL("auth","Firebase",p).create(c,{appName:h.name})}function Tn(h,c,u){if(!(c instanceof u))throw u.name!==c.constructor.name&&Ze(h,"argument-error"),oi(h,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(h,...c){if("string"!=typeof h){const u=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(u,...p)}return it.create(h,...c)}function ie(h,c,...u){if(!h)throw We(c,...u)}function ot(h){const c="INTERNAL ASSERTION FAILED: "+h;throw rn(c),new Error(c)}function Bt(h,c){h||ot(c)}function un(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function sn(){return"http:"===Vi()||"https:"===Vi()}function Vi(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class ai{constructor(c,u){this.shortDelay=c,this.longDelay=u,Bt(u>c,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function Bi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sn()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function er(h,c){Bt(h.emulator,"Emulator should always be set here");const{url:u}=h.emulator;return c?`${u}${c.startsWith("/")?c.slice(1):c}`:u}class U{static initialize(c,u,p){this.fetchImpl=c,u&&(this.headersImpl=u),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},B=new ai(3e4,6e4);function j(h,c){return h.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:h.tenantId}):c}function X(h,c,u,p){return J.apply(this,arguments)}function J(){return(J=(0,E.Z)(function*(h,c,u,p,_={}){return de(h,_,(0,E.Z)(function*(){let w={},M={};p&&("GET"===c?M=p:w={body:JSON.stringify(p)});const H=(0,z.xO)(Object.assign({key:h.config.apiKey},M)).slice(1),re=yield h._getAdditionalHeaders();return re["Content-Type"]="application/json",h.languageCode&&(re["X-Firebase-Locale"]=h.languageCode),U.fetch()(gt(h,h.config.apiHost,u,H),Object.assign({method:c,headers:re,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function de(h,c,u){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,E.Z)(function*(h,c,u){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},W),c);try{const _=new Nt(h),w=yield Promise.race([u(),_.promise]);_.clearNetworkTimeout();const M=yield w.json();if("needConfirmation"in M)throw Jt(h,"account-exists-with-different-credential",M);if(w.ok&&!("errorMessage"in M))return M;{const H=w.ok?M.errorMessage:M.error.message,[re,we]=H.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===re)throw Jt(h,"credential-already-in-use",M);if("EMAIL_EXISTS"===re)throw Jt(h,"email-already-in-use",M);if("USER_DISABLED"===re)throw Jt(h,"user-disabled",M);const Me=p[re]||re.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw oi(h,Me,we);Ze(h,Me)}}catch(_){if(_ instanceof z.ZR)throw _;Ze(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function ge(h,c,u,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,E.Z)(function*(h,c,u,p,_={}){const w=yield X(h,c,u,p,_);return"mfaPendingCredential"in w&&Ze(h,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function gt(h,c,u,p){const _=`${c}${u}?${p}`;return h.config.emulator?er(h.config,_):`${h.config.apiScheme}://${_}`}function Yt(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((u,p)=>{this.timer=setTimeout(()=>p(rt(this.auth,"network-request-failed")),B.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jt(h,c,u){const p={appName:h.name};u.email&&(p.email=u.email),u.phoneNumber&&(p.phoneNumber=u.phoneNumber);const _=rt(h,c,p);return _.customData._tokenResponse=u,_}function _n(h){return void 0!==h&&void 0!==h.getResponse}function L(h){return void 0!==h&&void 0!==h.enterprise}class x{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===c)return Yt(u.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Q(){return(Q=(0,E.Z)(function*(h){return(yield X(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ue(h,c){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(h,c){return X(h,"GET","/v2/recaptchaConfig",j(h,c))})).apply(this,arguments)}function at(){return(at=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ut(){return(Ut=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Bn(){return(Bn=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Wn(h){if(h)try{const c=new Date(Number(h));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function mt(){return(mt=(0,E.Z)(function*(h,c=!1){const u=(0,z.m9)(h),p=yield u.getIdToken(c),_=Rt(p);ie(_&&_.exp&&_.auth_time&&_.iat,u.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,M=w?.sign_in_provider;return{claims:_,token:p,authTime:Wn(Dt(_.auth_time)),issuedAtTime:Wn(Dt(_.iat)),expirationTime:Wn(Dt(_.exp)),signInProvider:M||null,signInSecondFactor:w?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(h){return 1e3*Number(h)}function Rt(h){const[c,u,p]=h.split(".");if(void 0===c||void 0===u||void 0===p)return rn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,z.tV)(u);return _?JSON.parse(_):(rn("Failed to decode base64 JWT payload"),null)}catch(_){return rn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Qt(h,c){return on.apply(this,arguments)}function on(){return(on=(0,E.Z)(function*(h,c,u=!1){if(u)return c;try{return yield c}catch(p){throw p instanceof z.ZR&&function pr({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class ji{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var u;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var u=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,E.Z)(function*(){yield u.iteration()}),p)}iteration(){var c=this;return(0,E.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&c.schedule(!0))}c.schedule()})()}}class gr{constructor(c,u){this.createdAt=c,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(h){return Un.apply(this,arguments)}function Un(){return Un=(0,E.Z)(function*(h){var c;const u=h.auth,p=yield h.getIdToken(),_=yield Qt(h,function dn(h,c){return Bn.apply(this,arguments)}(u,{idToken:p}));ie(_?.users.length,u,"internal-error");const w=_.users[0];h._notifyReloadListener(w);const M=null!==(c=w.providerUserInfo)&&void 0!==c&&c.length?function Ts(h){return h.map(c=>{var{providerId:u}=c,p=(0,Xe._T)(c,["providerId"]);return{providerId:u,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(w.providerUserInfo):[],H=function Do(h,c){return[...h.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(h.providerData,M),Me=!!h.isAnonymous&&!(h.email&&w.passwordHash||H?.length),st={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:H,metadata:new gr(w.createdAt,w.lastLoginAt),isAnonymous:Me};Object.assign(h,st)}),Un.apply(this,arguments)}function Ui(){return(Ui=(0,E.Z)(function*(h){const c=(0,z.m9)(h);yield jn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Or(){return(Or=(0,E.Z)(function*(h,c){const u=yield de(h,{},(0,E.Z)(function*(){const p=(0,z.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:w}=h.config,M=gt(h,_,"/v1/token",`key=${w}`),H=yield h._getAdditionalHeaders();return H["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(M,{method:"POST",headers:H,body:p})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function T(){return(T=(0,E.Z)(function*(h,c){return X(h,"POST","/v2/accounts:revokeToken",j(h,c))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ie(c.idToken,"internal-error"),ie(typeof c.idToken<"u","internal-error"),ie(typeof c.refreshToken<"u","internal-error");const u="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ys(h){const c=Rt(h);return ie(c,"internal-error"),ie(typeof c.exp<"u","internal-error"),ie(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,u)}getToken(c,u=!1){var p=this;return(0,E.Z)(function*(){return ie(!p.accessToken||p.refreshToken,c,"user-token-expired"),u||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,u){var p=this;return(0,E.Z)(function*(){const{accessToken:_,refreshToken:w,expiresIn:M}=yield function Js(h,c){return Or.apply(this,arguments)}(c,u);p.updateTokensAndExpiration(_,w,Number(M))})()}updateTokensAndExpiration(c,u,p){this.refreshToken=u||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,u){const{refreshToken:p,accessToken:_,expirationTime:w}=u,M=new b;return p&&(ie("string"==typeof p,"internal-error",{appName:c}),M.refreshToken=p),_&&(ie("string"==typeof _,"internal-error",{appName:c}),M.accessToken=_),w&&(ie("number"==typeof w,"internal-error",{appName:c}),M.expirationTime=w),M}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return ot("not implemented")}}function C(h,c){ie("string"==typeof h||typeof h>"u","internal-error",{appName:c})}class y{constructor(c){var{uid:u,auth:p,stsTokenManager:_}=c,w=(0,Xe._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ji(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new gr(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(c){var u=this;return(0,E.Z)(function*(){const p=yield Qt(u,u.stsTokenManager.getToken(u.auth,c));return ie(p,u.auth,"internal-error"),u.accessToken!==p&&(u.accessToken=p,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),p})()}getIdTokenResult(c){return function Pt(h){return mt.apply(this,arguments)}(this,c)}reload(){return function yi(h){return Ui.apply(this,arguments)}(this)}_assign(c){this!==c&&(ie(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(u=>Object.assign({},u)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const u=new y(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(c){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,u=!1){var p=this;return(0,E.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),u&&(yield jn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,E.Z)(function*(){const u=yield c.getIdToken();return yield Qt(c,function jt(h,c){return at.apply(this,arguments)}(c.auth,{idToken:u})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,u){var p,_,w,M,H,re,we,Me;const st=null!==(p=u.displayName)&&void 0!==p?p:void 0,Pi=null!==(_=u.email)&&void 0!==_?_:void 0,wr=null!==(w=u.phoneNumber)&&void 0!==w?w:void 0,jr=null!==(M=u.photoURL)&&void 0!==M?M:void 0,Yp=null!==(H=u.tenantId)&&void 0!==H?H:void 0,mc=null!==(re=u._redirectEventId)&&void 0!==re?re:void 0,Md=null!==(we=u.createdAt)&&void 0!==we?we:void 0,Vo=null!==(Me=u.lastLoginAt)&&void 0!==Me?Me:void 0,{uid:Od,emailVerified:pi,isAnonymous:Jp,providerData:Dn,stsTokenManager:_c}=u;ie(Od&&_c,c,"internal-error");const sy=b.fromJSON(this.name,_c);ie("string"==typeof Od,c,"internal-error"),C(st,c.name),C(Pi,c.name),ie("boolean"==typeof pi,c,"internal-error"),ie("boolean"==typeof Jp,c,"internal-error"),C(wr,c.name),C(jr,c.name),C(Yp,c.name),C(mc,c.name),C(Md,c.name),C(Vo,c.name);const vc=new y({uid:Od,auth:c,email:Pi,emailVerified:pi,displayName:st,isAnonymous:Jp,photoURL:jr,phoneNumber:wr,tenantId:Yp,stsTokenManager:sy,createdAt:Md,lastLoginAt:Vo});return Dn&&Array.isArray(Dn)&&(vc.providerData=Dn.map(uo=>Object.assign({},uo))),mc&&(vc._redirectEventId=mc),vc}static _fromIdTokenResponse(c,u,p=!1){return(0,E.Z)(function*(){const _=new b;_.updateFromServerResponse(u);const w=new y({uid:u.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield jn(w),w})()}}const N=new Map;function K(h){Bt(h instanceof Function,"Expected a class definition");let c=N.get(h);return c?(Bt(c instanceof h,"Instance stored in cache mismatched with class"),c):(c=new h,N.set(h,c),c)}const ye=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(u,p){var _=this;return(0,E.Z)(function*(){_.storage[u]=p})()}_get(u){var p=this;return(0,E.Z)(function*(){const _=p.storage[u];return void 0===_?null:_})()}_remove(u){var p=this;return(0,E.Z)(function*(){delete p.storage[u]})()}_addListener(u,p){}_removeListener(u,p){}}return h.type="NONE",h})();function Fe(h,c,u){return`firebase:${h}:${c}:${u}`}class bt{constructor(c,u,p){this.persistence=c,this.auth=u,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=Fe(this.userKey,_.apiKey,w),this.fullPersistenceKey=Fe("persistence",_.apiKey,w),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,E.Z)(function*(){const u=yield c.persistence._get(c.fullUserKey);return u?y._fromJSON(c.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var u=this;return(0,E.Z)(function*(){if(u.persistence===c)return;const p=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=c,p?u.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,u,p="authUser"){return(0,E.Z)(function*(){if(!u.length)return new bt(K(ye),c,p);const _=(yield Promise.all(u.map(function(){var we=(0,E.Z)(function*(Me){if(yield Me._isAvailable())return Me});return function(Me){return we.apply(this,arguments)}}()))).filter(we=>we);let w=_[0]||K(ye);const M=Fe(p,c.config.apiKey,c.name);let H=null;for(const we of u)try{const Me=yield we._get(M);if(Me){const st=y._fromJSON(c,Me);we!==w&&(H=st),w=we;break}}catch{}const re=_.filter(we=>we._shouldAllowMigration);return w._shouldAllowMigration&&re.length?(w=re[0],H&&(yield w._set(M,H.toJSON())),yield Promise.all(u.map(function(){var we=(0,E.Z)(function*(Me){if(Me!==w)try{yield Me._remove(M)}catch{}});return function(Me){return we.apply(this,arguments)}}())),new bt(w,c,p)):new bt(w,c,p)})()}}function _e(h){const c=h.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Qs(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ht(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(R(c))return"Blackberry";if(ne(c))return"Webos";if(Ae(c))return"Safari";if((c.includes("chrome/")||zn(c))&&!c.includes("edge/"))return"Chrome";if(V(c))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Ht(h=(0,z.z$)()){return/firefox\//i.test(h)}function Ae(h=(0,z.z$)()){const c=h.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function zn(h=(0,z.z$)()){return/crios\//i.test(h)}function Qs(h=(0,z.z$)()){return/iemobile/i.test(h)}function V(h=(0,z.z$)()){return/android/i.test(h)}function R(h=(0,z.z$)()){return/blackberry/i.test(h)}function ne(h=(0,z.z$)()){return/webos/i.test(h)}function ve(h=(0,z.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function tt(h=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}function vn(h=(0,z.z$)()){return ve(h)||V(h)||ne(h)||R(h)||/windows phone/i.test(h)||Qs(h)}function nt(h,c=[]){let u;switch(h){case"Browser":u=_e((0,z.z$)());break;case"Worker":u=`${_e((0,z.z$)())}-${h}`;break;default:u=h}const p=c.length?c.join(","):"FirebaseCore-web";return`${u}/JsCore/${P.SDK_VERSION}/${p}`}class ya{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,u){const p=w=>new Promise((M,H)=>{try{M(c(w))}catch(re){H(re)}});p.onAbort=u,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var u=this;return(0,E.Z)(function*(){if(u.auth.currentUser===c)return;const p=[];try{for(const _ of u.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Gu(){return(Gu=(0,E.Z)(function*(h,c={}){return X(h,"GET","/v2/passwordPolicy",j(h,c))})).apply(this,arguments)}class Hi{constructor(c){var u,p,_,w;const M=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=M.minPasswordLength)&&void 0!==u?u:6,M.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=M.maxPasswordLength),void 0!==M.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=M.containsLowercaseCharacter),void 0!==M.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=M.containsUppercaseCharacter),void 0!==M.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=M.containsNumericCharacter),void 0!==M.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=M.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=c.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=c.schemaVersion}validatePassword(c){var u,p,_,w,M,H;const re={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,re),this.validatePasswordCharacterOptions(c,re),re.isValid&&(re.isValid=null===(u=re.meetsMinPasswordLength)||void 0===u||u),re.isValid&&(re.isValid=null===(p=re.meetsMaxPasswordLength)||void 0===p||p),re.isValid&&(re.isValid=null===(_=re.containsLowercaseLetter)||void 0===_||_),re.isValid&&(re.isValid=null===(w=re.containsUppercaseLetter)||void 0===w||w),re.isValid&&(re.isValid=null===(M=re.containsNumericCharacter)||void 0===M||M),re.isValid&&(re.isValid=null===(H=re.containsNonAlphanumericCharacter)||void 0===H||H),re}validatePasswordLengthOptions(c,u){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(u.meetsMinPasswordLength=c.length>=p),_&&(u.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,u){let p;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(u,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,u,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=w))}}class LE{constructor(c,u,p,_){this.app=c,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new ya(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=it,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,u){var p=this;return u&&(this._popupRedirectResolver=K(u)),this._initializationPromise=this.queue((0,E.Z)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield bt.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(u),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,E.Z)(function*(){if(c._deleted)return;const u=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||u){if(c.currentUser&&u&&c.currentUser.uid===u.uid)return c._currentUser._assign(u),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(u,!0)}})()}initializeCurrentUser(c){var u=this;return(0,E.Z)(function*(){var p;const _=yield u.assertedPersistence.getCurrentUser();let w=_,M=!1;if(c&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const H=null===(p=u.redirectUser)||void 0===p?void 0:p._redirectEventId,re=w?._redirectEventId,we=yield u.tryRedirectSignIn(c);(!H||H===re)&&we?.user&&(w=we.user,M=!0)}if(!w)return u.directlySetCurrentUser(null);if(!w._redirectEventId){if(M)try{yield u.beforeStateQueue.runMiddleware(w)}catch(H){w=_,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(H))}return w?u.reloadAndSetCurrentUserOrClear(w):u.directlySetCurrentUser(null)}return ie(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===w._redirectEventId?u.directlySetCurrentUser(w):u.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(c){var u=this;return(0,E.Z)(function*(){let p=null;try{p=yield u._popupRedirectResolver._completeRedirectFn(u,c,!0)}catch{yield u._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var u=this;return(0,E.Z)(function*(){try{yield jn(c)}catch(p){if("auth/network-request-failed"!==p?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var c=this;return(0,E.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var u=this;return(0,E.Z)(function*(){const p=c?(0,z.m9)(c):null;return p&&ie(p.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(p&&p._clone(u))})()}_updateCurrentUser(c,u=!1){var p=this;return(0,E.Z)(function*(){if(!p._deleted)return c&&ie(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),u||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,E.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,E.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var u=this;return this.queue((0,E.Z)(function*(){yield u.assertedPersistence.setPersistence(K(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var u=this;return(0,E.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const p=u._getPasswordPolicyInternal();return p.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,E.Z)(function*(){const u=yield function FE(h){return Gu.apply(this,arguments)}(c),p=new Hi(u);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new z.LL("auth","Firebase",c())}onAuthStateChanged(c,u,p){return this.registerStateListener(this.authStateSubscription,c,u,p)}beforeAuthStateChanged(c,u){return this.beforeStateQueue.pushCallback(c,u)}onIdTokenChanged(c,u,p){return this.registerStateListener(this.idTokenSubscription,c,u,p)}authStateReady(){return new Promise((c,u)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},u)}})}revokeAccessToken(c){var u=this;return(0,E.Z)(function*(){if(u.currentUser){const p=yield u.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=u.tenantId&&(_.tenantId=u.tenantId),yield function A(h,c){return T.apply(this,arguments)}(u,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,u){var p=this;return(0,E.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(u);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var u=this;return(0,E.Z)(function*(){if(!u.redirectPersistenceManager){const p=c&&K(c)||u._popupRedirectResolver;ie(p,u,"argument-error"),u.redirectPersistenceManager=yield bt.create(u,[K(p._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(c){var u=this;return(0,E.Z)(function*(){var p,_;return u._isInitialized&&(yield u.queue((0,E.Z)(function*(){}))),(null===(p=u._currentUser)||void 0===p?void 0:p._redirectEventId)===c?u._currentUser:(null===(_=u.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?u.redirectUser:null})()}_persistUserIfCurrent(c){var u=this;return(0,E.Z)(function*(){if(c===u.currentUser)return u.queue((0,E.Z)(function*(){return u.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(u=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,u,p,_){if(this._deleted)return()=>{};const w="function"==typeof u?u:u.next.bind(u);let M=!1;const H=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(H,this,"internal-error"),H.then(()=>{M||w(this.currentUser)}),"function"==typeof u){const re=c.addObserver(u,p,_);return()=>{M=!0,re()}}{const re=c.addObserver(u);return()=>{M=!0,re()}}}directlySetCurrentUser(c){var u=this;return(0,E.Z)(function*(){u.currentUser&&u.currentUser!==c&&u._currentUser._stopProactiveRefresh(),c&&u.isProactiveRefreshEnabled&&c._startProactiveRefresh(),u.currentUser=c,c?yield u.assertedPersistence.setCurrentUser(c):yield u.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,E.Z)(function*(){var u;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(u=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield c._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var c=this;return(0,E.Z)(function*(){var u;const p=yield null===(u=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return p?.error&&function An(h,...c){Be.logLevel<=Te.in.WARN&&Be.warn(`Auth (${P.SDK_VERSION}): ${h}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function yn(h){return(0,z.m9)(h)}class av{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,z.ne)(u=>this.observer=u)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mr={loadJS:()=>(0,E.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uf(h){return mr.loadJS(h)}function cv(h){return`__${h}${Math.floor(1e6*Math.random())}`}class $i{constructor(c){this.type="recaptcha-enterprise",this.auth=yn(c)}verify(c="verify",u=!1){var p=this;return(0,E.Z)(function*(){function w(){return w=(0,E.Z)(function*(H){if(!u){if(null==H.tenantId&&null!=H._agentRecaptchaConfig)return H._agentRecaptchaConfig.siteKey;if(null!=H.tenantId&&void 0!==H._tenantRecaptchaConfigs[H.tenantId])return H._tenantRecaptchaConfigs[H.tenantId].siteKey}return new Promise(function(){var re=(0,E.Z)(function*(we,Me){ue(H,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const Pi=new x(st);return null==H.tenantId?H._agentRecaptchaConfig=Pi:H._tenantRecaptchaConfigs[H.tenantId]=Pi,we(Pi.siteKey)}Me(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{Me(st)})});return function(we,Me){return re.apply(this,arguments)}}())}),w.apply(this,arguments)}function M(H,re,we){const Me=window.grecaptcha;L(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(H,{action:c}).then(st=>{re(st)}).catch(()=>{re("NO_RECAPTCHA")})}):we(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((H,re)=>{(function _(H){return w.apply(this,arguments)})(p.auth).then(we=>{if(!u&&L(window.grecaptcha))M(we,H,re);else{if(typeof window>"u")return void re(new Error("RecaptchaVerifier is only supported in browser"));let Me=function jE(){return mr.recaptchaEnterpriseScript}();0!==Me.length&&(Me+=we),Uf(Me).then(()=>{M(we,H,re)}).catch(st=>{re(st)})}}).catch(we=>{re(we)})})})()}}function je(h,c,u){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,E.Z)(function*(h,c,u,p=!1){const _=new $i(h);let w;try{w=yield _.verify(u)}catch{w=yield _.verify(u,!0)}const M=Object.assign({},c);return Object.assign(M,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(M,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(M,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),M})).apply(this,arguments)}function Ul(h,c,u,p){return $f.apply(this,arguments)}function $f(){return $f=(0,E.Z)(function*(h,c,u,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield je(h,c,u,"getOobCode"===u);return p(h,w)}return p(h,c).catch(function(){var w=(0,E.Z)(function*(M){if("auth/missing-recaptcha-token"===M.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const H=yield je(h,c,u,"getOobCode"===u);return p(h,H)}return Promise.reject(M)});return function(M){return w.apply(this,arguments)}}())}),$f.apply(this,arguments)}function Wf(h,c,u){const p=yn(h);ie(p._canInitEmulator,p,"emulator-config-failed"),ie(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!u?.disableWarnings,w=zu(c),{host:M,port:H}=function dv(h){const c=zu(h),u=/(\/\/)?([^?#/]+)/.exec(h.substr(c.length));if(!u)return{host:"",port:null};const p=u[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:ba(p.substr(w.length+1))}}{const[w,M]=p.split(":");return{host:w,port:ba(M)}}}(c);p.config.emulator={url:`${w}//${M}${null===H?"":`:${H}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:M,port:H,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function $l(){function h(){const c=document.createElement("p"),u=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}function zu(h){const c=h.indexOf(":");return c<0?"":h.substr(0,c+1)}function ba(h){if(!h)return null;const c=Number(h);return isNaN(c)?null:c}class Ss{constructor(c,u){this.providerId=c,this.signInMethod=u}toJSON(){return ot("not implemented")}_getIdTokenResponse(c){return ot("not implemented")}_linkToIdToken(c,u){return ot("not implemented")}_getReauthenticationResolver(c){return ot("not implemented")}}function qu(h,c){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:resetPassword",j(h,c))})).apply(this,arguments)}function wa(){return(wa=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function zf(h,c){return li.apply(this,arguments)}function li(){return(li=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Kf(){return(Kf=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:update",j(h,c))})).apply(this,arguments)}function Xt(h,c){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithPassword",j(h,c))})).apply(this,arguments)}function Zu(h,c){return fe.apply(this,arguments)}function fe(){return(fe=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:sendOobCode",j(h,c))})).apply(this,arguments)}function Ca(){return(Ca=(0,E.Z)(function*(h,c){return Zu(h,c)})).apply(this,arguments)}function Yf(h,c){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,E.Z)(function*(h,c){return Zu(h,c)})).apply(this,arguments)}function hv(h,c){return Da.apply(this,arguments)}function Da(){return(Da=(0,E.Z)(function*(h,c){return Zu(h,c)})).apply(this,arguments)}function Jf(){return(Jf=(0,E.Z)(function*(h,c){return Zu(h,c)})).apply(this,arguments)}function Qf(){return(Qf=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithEmailLink",j(h,c))})).apply(this,arguments)}function Xs(){return(Xs=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithEmailLink",j(h,c))})).apply(this,arguments)}class eo extends Ss{constructor(c,u,p,_=null){super("password",p),this._email=c,this._password=u,this._tenantId=_}static _fromEmailAndPassword(c,u){return new eo(c,u,"password")}static _fromEmailAndCode(c,u,p=null){return new eo(c,u,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(c){var u=this;return(0,E.Z)(function*(){switch(u.signInMethod){case"password":return Ul(c,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xt);case"emailLink":return function $E(h,c){return Qf.apply(this,arguments)}(c,{email:u._email,oobCode:u._password});default:Ze(c,"internal-error")}})()}_linkToIdToken(c,u){var p=this;return(0,E.Z)(function*(){switch(p.signInMethod){case"password":return Ul(c,{idToken:u,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zf);case"emailLink":return function GE(h,c){return Xs.apply(this,arguments)}(c,{idToken:u,email:p._email,oobCode:p._password});default:Ze(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function tr(h,c){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithIdp",j(h,c))})).apply(this,arguments)}class xr extends Ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const u=new xr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(u.idToken=c.idToken),c.accessToken&&(u.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(u.nonce=c.nonce),c.pendingToken&&(u.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(u.accessToken=c.oauthToken,u.secret=c.oauthTokenSecret):Ze("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=u,w=(0,Xe._T)(u,["providerId","signInMethod"]);if(!p||!_)return null;const M=new xr(p,_);return M.idToken=w.idToken||void 0,M.accessToken=w.accessToken||void 0,M.secret=w.secret,M.nonce=w.nonce,M.pendingToken=w.pendingToken||null,M}_getIdTokenResponse(c){return tr(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,tr(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,tr(c,u)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),c.postBody=(0,z.xO)(u)}return c}}function Ns(){return(Ns=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:sendVerificationCode",j(h,c))})).apply(this,arguments)}function Pr(){return(Pr=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithPhoneNumber",j(h,c))})).apply(this,arguments)}function ee(){return(ee=(0,E.Z)(function*(h,c){const u=yield ge(h,"POST","/v1/accounts:signInWithPhoneNumber",j(h,c));if(u.temporaryProof)throw Jt(h,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const ep={USER_NOT_FOUND:"user-not-found"};function Io(){return(Io=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithPhoneNumber",j(h,Object.assign(Object.assign({},c),{operation:"REAUTH"})),ep)})).apply(this,arguments)}class is extends Ss{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,u){return new is({verificationId:c,verificationCode:u})}static _fromTokenResponse(c,u){return new is({phoneNumber:c,temporaryProof:u})}_getIdTokenResponse(c){return function pv(h,c){return Pr.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,u){return function gv(h,c){return ee.apply(this,arguments)}(c,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function ce(h,c){return Io.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:u,verificationId:p,verificationCode:_}=this.params;return c&&u?{temporaryProof:c,phoneNumber:u}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:u,verificationCode:p,phoneNumber:_,temporaryProof:w}=c;return p||u||_||w?new is({verificationId:u,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class Ta{constructor(c){var u,p,_,w,M,H;const re=(0,z.zd)((0,z.pd)(c)),we=null!==(u=re.apiKey)&&void 0!==u?u:null,Me=null!==(p=re.oobCode)&&void 0!==p?p:null,st=function Ia(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=re.mode)&&void 0!==_?_:null);ie(we&&Me&&st,"argument-error"),this.apiKey=we,this.operation=st,this.code=Me,this.continueUrl=null!==(w=re.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(M=re.languageCode)&&void 0!==M?M:null,this.tenantId=null!==(H=re.tenantId)&&void 0!==H?H:null}static parseLink(c){const u=function mv(h){const c=(0,z.zd)((0,z.pd)(h)).link,u=c?(0,z.zd)((0,z.pd)(c)).deep_link_id:null,p=(0,z.zd)((0,z.pd)(h)).deep_link_id;return(p?(0,z.zd)((0,z.pd)(p)).link:null)||p||u||c||h}(c);try{return new Ta(u)}catch{return null}}}let _r=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(u,p){return eo._fromEmailAndPassword(u,p)}static credentialWithLink(u,p){const _=Ta.parseLink(p);return ie(_,"argument-error"),eo._fromEmailAndCode(u,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class nr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ci extends nr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Mi extends ci{static credentialFromJSON(c){const u="string"==typeof c?JSON.parse(c):c;return ie("providerId"in u&&"signInMethod"in u,"argument-error"),xr._fromParams(u)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ie(c.idToken||c.accessToken,"argument-error"),xr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Mi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Mi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:u,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:M,providerId:H}=c;if(!p&&!_&&!u&&!w||!H)return null;try{return new Mi(H)._credential({idToken:u,accessToken:p,nonce:M,pendingToken:w})}catch{return null}}}let Tt=(()=>{class h extends ci{constructor(){super("facebook.com")}static credential(u){return xr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),Gl=(()=>{class h extends ci{constructor(){super("google.com"),this.addScope("profile")}static credential(u,p){return xr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:p})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:p,oauthAccessToken:_}=u;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),Qu=(()=>{class h extends ci{constructor(){super("github.com")}static credential(u){return xr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class to extends Ss{constructor(c,u){super(c,c),this.pendingToken=u}_getIdTokenResponse(c){return tr(c,this.buildRequest())}_linkToIdToken(c,u){const p=this.buildRequest();return p.idToken=u,tr(c,p)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,tr(c,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:w}=u;return p&&_&&w&&p===_?new to(p,w):null}static _create(c,u){return new to(c,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class As extends nr{constructor(c){ie(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return As.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return As.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const u=to.fromJSON(c);return ie(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:u,providerId:p}=c;if(!u||!p)return null;try{return to._create(p,u)}catch{return null}}}let tp=(()=>{class h extends ci{constructor(){super("twitter.com")}static credential(u,p){return xr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:p})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=u;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function ed(h,c){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signUp",j(h,c))})).apply(this,arguments)}class Gi{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,u,p,_=!1){return(0,E.Z)(function*(){const w=yield y._fromIdTokenResponse(c,p,_),M=td(p);return new Gi({user:w,providerId:M,_tokenResponse:p,operationType:u})})()}static _forOperation(c,u,p){return(0,E.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=td(p);return new Gi({user:c,providerId:_,_tokenResponse:p,operationType:u})})()}}function td(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Na(h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,E.Z)(function*(h){var c;const u=yn(h);if(yield u._initializationPromise,null!==(c=u.currentUser)&&void 0!==c&&c.isAnonymous)return new Gi({user:u.currentUser,providerId:null,operationType:"signIn"});const p=yield ed(u,{returnSecureToken:!0}),_=yield Gi._fromIdTokenResponse(u,"signIn",p,!0);return yield u._updateCurrentUser(_.user),_})).apply(this,arguments)}class Aa extends z.ZR{constructor(c,u,p,_){var w;super(u.code,u.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Aa.prototype),this.customData={appName:c.name,tenantId:null!==(w=c.tenantId)&&void 0!==w?w:void 0,_serverResponse:u.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,u,p,_){return new Aa(c,u,p,_)}}function np(h,c,u,p){return("reauthenticate"===c?u._getReauthenticationResolver(h):u._getIdTokenResponse(h)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?Aa._fromErrorAndOperation(h,w,c,p):w})}function nd(h){return new Set(h.map(({providerId:c})=>c).filter(c=>!!c))}function _v(h,c){return id.apply(this,arguments)}function id(){return id=(0,E.Z)(function*(h,c){const u=(0,z.m9)(h);yield Ra(!0,u,c);const{providerUserInfo:p}=yield function et(h,c){return Ut.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[c]}),_=nd(p||[]);return u.providerData=u.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),id.apply(this,arguments)}function Wi(h,c){return rd.apply(this,arguments)}function rd(){return(rd=(0,E.Z)(function*(h,c,u=!1){const p=yield Qt(h,c._linkToIdToken(h.auth,yield h.getIdToken()),u);return Gi._forOperation(h,"link",p)})).apply(this,arguments)}function Ra(h,c,u){return sd.apply(this,arguments)}function sd(){return(sd=(0,E.Z)(function*(h,c,u){yield jn(c);const _=!1===h?"provider-already-linked":"no-such-provider";ie(nd(c.providerData).has(u)===h,c.auth,_)})).apply(this,arguments)}function ip(h,c){return od.apply(this,arguments)}function od(){return(od=(0,E.Z)(function*(h,c,u=!1){const{auth:p}=h,_="reauthenticate";try{const w=yield Qt(h,np(p,_,c,h),u);ie(w.idToken,p,"internal-error");const M=Rt(w.idToken);ie(M,p,"internal-error");const{sub:H}=M;return ie(h.uid===H,p,"user-mismatch"),Gi._forOperation(h,_,w)}catch(w){throw"auth/user-not-found"===w?.code&&Ze(p,"user-mismatch"),w}})).apply(this,arguments)}function rp(h,c){return zl.apply(this,arguments)}function zl(){return(zl=(0,E.Z)(function*(h,c,u=!1){const p="signIn",_=yield np(h,p,c),w=yield Gi._fromIdTokenResponse(h,p,_);return u||(yield h._updateCurrentUser(w.user)),w})).apply(this,arguments)}function ql(h,c){return ad.apply(this,arguments)}function ad(){return(ad=(0,E.Z)(function*(h,c){return rp(yn(h),c)})).apply(this,arguments)}function sp(h,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,E.Z)(function*(h,c){const u=(0,z.m9)(h);return yield Ra(!1,u,c.providerId),Wi(u,c)})).apply(this,arguments)}function op(h,c){return ld.apply(this,arguments)}function ld(){return(ld=(0,E.Z)(function*(h,c){return ip((0,z.m9)(h),c)})).apply(this,arguments)}function wt(){return(wt=(0,E.Z)(function*(h,c){return ge(h,"POST","/v1/accounts:signInWithCustomToken",j(h,c))})).apply(this,arguments)}function yv(h,c){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,E.Z)(function*(h,c){const u=yn(h),p=yield function vv(h,c){return wt.apply(this,arguments)}(u,{token:c,returnSecureToken:!0}),_=yield Gi._fromIdTokenResponse(u,"signIn",p);return yield u._updateCurrentUser(_.user),_}),Kl.apply(this,arguments)}class le{constructor(c,u){this.factorId=c,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(c,u){return"phoneInfo"in u?ui._fromServerResponse(c,u):"totpInfo"in u?_t._fromServerResponse(c,u):Ze(c,"internal-error")}}class ui extends le{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,u){return new ui(u)}}class _t extends le{constructor(c){super("totp",c)}static _fromServerResponse(c,u){return new _t(u)}}function kn(h,c,u){var p;ie((null===(p=u.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),ie(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),c.continueUrl=u.url,c.dynamicLinkDomain=u.dynamicLinkDomain,c.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(ie(u.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),c.iOSBundleId=u.iOS.bundleId),u.android&&(ie(u.android.packageName.length>0,h,"missing-android-pkg-name"),c.androidInstallApp=u.android.installApp,c.androidMinimumVersionCode=u.android.minimumVersion,c.androidPackageName=u.android.packageName)}function Jn(h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,E.Z)(function*(h){const c=yn(h);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function zi(h,c,u){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,E.Z)(function*(h,c,u){const p=yn(h),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};u&&kn(p,_,u),yield Ul(p,_,"getOobCode",Yf)})).apply(this,arguments)}function ap(h,c,u){return To.apply(this,arguments)}function To(){return To=(0,E.Z)(function*(h,c,u){yield qu((0,z.m9)(h),{oobCode:c,newPassword:u}).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Jn(h),_});return function(_){return p.apply(this,arguments)}}())}),To.apply(this,arguments)}function bv(h,c){return cd.apply(this,arguments)}function cd(){return cd=(0,E.Z)(function*(h,c){yield function qf(h,c){return Kf.apply(this,arguments)}((0,z.m9)(h),{oobCode:c})}),cd.apply(this,arguments)}function bn(h,c){return me.apply(this,arguments)}function me(){return(me=(0,E.Z)(function*(h,c){const u=(0,z.m9)(h),p=yield qu(u,{oobCode:c}),_=p.requestType;switch(ie(_,u,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(p.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(p.mfaInfo,u,"internal-error");default:ie(p.email,u,"internal-error")}let w=null;return p.mfaInfo&&(w=le._fromServerResponse(yn(u),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function qe(h,c){return en.apply(this,arguments)}function en(){return(en=(0,E.Z)(function*(h,c){const{data:u}=yield bn((0,z.m9)(h),c);return u.email})).apply(this,arguments)}function vr(h,c,u){return no.apply(this,arguments)}function no(){return(no=(0,E.Z)(function*(h,c,u){const p=yn(h),M=yield Ul(p,{returnSecureToken:!0,email:c,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ed).catch(re=>{throw"auth/password-does-not-meet-requirements"===re.code&&Jn(h),re}),H=yield Gi._fromIdTokenResponse(p,"signIn",M);return yield p._updateCurrentUser(H.user),H})).apply(this,arguments)}function di(h,c,u){return ql((0,z.m9)(h),_r.credential(c,u)).catch(function(){var p=(0,E.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Jn(h),_});return function(_){return p.apply(this,arguments)}}())}function So(h,c,u){return wn.apply(this,arguments)}function wn(){return(wn=(0,E.Z)(function*(h,c,u){const p=yn(h),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function w(M,H){ie(H.handleCodeInApp,p,"argument-error"),H&&kn(p,M,H)})(_,u),yield Ul(p,_,"getOobCode",hv)})).apply(this,arguments)}function Ms(h,c){const u=Ta.parseLink(c);return"EMAIL_SIGNIN"===u?.operation}function No(h,c,u){return $e.apply(this,arguments)}function $e(){return($e=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h),_=_r.credentialWithLink(c,u||un());return ie(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),ql(p,_)})).apply(this,arguments)}function Yl(){return(Yl=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:createAuthUri",j(h,c))})).apply(this,arguments)}function Ao(h,c){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,E.Z)(function*(h,c){const p={identifier:c,continueUri:sn()?un():"http://localhost"},{signinMethods:_}=yield function Ma(h,c){return Yl.apply(this,arguments)}((0,z.m9)(h),p);return _||[]}),Cn.apply(this,arguments)}function Oa(h,c){return Os.apply(this,arguments)}function Os(){return Os=(0,E.Z)(function*(h,c){const u=(0,z.m9)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};c&&kn(u.auth,_,c);const{email:w}=yield function Yu(h,c){return Ca.apply(this,arguments)}(u.auth,_);w!==h.email&&(yield h.reload())}),Os.apply(this,arguments)}function kr(h,c,u){return io.apply(this,arguments)}function io(){return io=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:c};u&&kn(p.auth,w,u);const{email:M}=yield function HE(h,c){return Jf.apply(this,arguments)}(p.auth,w);M!==h.email&&(yield h.reload())}),io.apply(this,arguments)}function Fr(){return(Fr=(0,E.Z)(function*(h,c){return X(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ss(h,c){return ro.apply(this,arguments)}function ro(){return ro=(0,E.Z)(function*(h,{displayName:c,photoURL:u}){if(void 0===c&&void 0===u)return;const p=(0,z.m9)(h),w={idToken:yield p.getIdToken(),displayName:c,photoUrl:u,returnSecureToken:!0},M=yield Qt(p,function lp(h,c){return Fr.apply(this,arguments)}(p.auth,w));p.displayName=M.displayName||null,p.photoURL=M.photoUrl||null;const H=p.providerData.find(({providerId:re})=>"password"===re);H&&(H.displayName=p.displayName,H.photoURL=p.photoURL),yield p._updateTokensIfNecessary(M)}),ro.apply(this,arguments)}function xa(h,c){return wv((0,z.m9)(h),c,null)}function ut(h,c){return wv((0,z.m9)(h),null,c)}function wv(h,c,u){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,E.Z)(function*(h,c,u){const{auth:p}=h,w={idToken:yield h.getIdToken(),returnSecureToken:!0};c&&(w.email=c),u&&(w.password=u);const M=yield Qt(h,function ct(h,c){return wa.apply(this,arguments)}(p,w));yield h._updateTokensIfNecessary(M,!0)}),Pa.apply(this,arguments)}class bi{constructor(c,u,p={}){this.isNewUser=c,this.providerId=u,this.profile=p}}class ka extends bi{constructor(c,u,p,_){super(c,u,p),this.username=_}}class Ro extends bi{constructor(c,u){super(c,"facebook.com",u)}}class Fa extends ka{constructor(c,u){super(c,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class Qn extends bi{constructor(c,u){super(c,"google.com",u)}}class zE extends ka{constructor(c,u,p){super(c,"twitter.com",u,p)}}function Oi(h){const{user:c,_tokenResponse:u}=h;return c.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function cp(h){var c,u;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},w=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const M=null===(u=null===(c=Rt(h.idToken))||void 0===c?void 0:c.firebase)||void 0===u?void 0:u.sign_in_provider;if(M)return new bi(w,"anonymous"!==M&&"custom"!==M?M:null)}if(!p)return null;switch(p){case"facebook.com":return new Ro(w,_);case"github.com":return new Fa(w,_);case"google.com":return new Qn(w,_);case"twitter.com":return new zE(w,_,h.screenName||null);case"custom":case"anonymous":return new bi(w,null);default:return new bi(w,p,_)}}(u)}class xo{constructor(c,u,p){this.type=c,this.credential=u,this.user=p}static _fromIdtoken(c,u){return new xo("enroll",c,u)}static _fromMfaPendingCredential(c){return new xo("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var u,p;if(c?.multiFactorSession){if(null!==(u=c.multiFactorSession)&&void 0!==u&&u.pendingCredential)return xo._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return xo._fromIdtoken(c.multiFactorSession.idToken)}return null}}class hp{constructor(c,u,p){this.session=c,this.hints=u,this.signInResolver=p}static _fromError(c,u){const p=yn(c),_=u.customData._serverResponse,w=(_.mfaInfo||[]).map(H=>le._fromServerResponse(p,H));ie(_.mfaPendingCredential,p,"internal-error");const M=xo._fromMfaPendingCredential(_.mfaPendingCredential);return new hp(M,w,function(){var H=(0,E.Z)(function*(re){const we=yield re._process(p,M);delete _.mfaInfo,delete _.mfaPendingCredential;const Me=Object.assign(Object.assign({},_),{idToken:we.idToken,refreshToken:we.refreshToken});switch(u.operationType){case"signIn":const st=yield Gi._fromIdTokenResponse(p,u.operationType,Me);return yield p._updateCurrentUser(st.user),st;case"reauthenticate":return ie(u.user,p,"internal-error"),Gi._forOperation(u.user,u.operationType,Me);default:Ze(p,"internal-error")}});return function(re){return H.apply(this,arguments)}}())}resolveSignIn(c){var u=this;return(0,E.Z)(function*(){return u.signInResolver(c)})()}}function JE(h,c){var u;const p=(0,z.m9)(h),_=c;return ie(c.customData.operationType,p,"argument-error"),ie(null===(u=_.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,p,"argument-error"),hp._fromError(p,_)}class fp{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(p=>le._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new fp(c)}getSession(){var c=this;return(0,E.Z)(function*(){return xo._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,u){var p=this;return(0,E.Z)(function*(){const _=c,w=yield p.getSession(),M=yield Qt(p.user,_._process(p.user.auth,w,u));return yield p.user._updateTokensIfNecessary(M),p.user.reload()})()}unenroll(c){var u=this;return(0,E.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield u.user.getIdToken();try{const w=yield Qt(u.user,function tD(h,c){return X(h,"POST","/v2/accounts/mfaEnrollment:withdraw",j(h,c))}(u.user.auth,{idToken:_,mfaEnrollmentId:p}));u.enrolledFactors=u.enrolledFactors.filter(({uid:M})=>M!==p),yield u.user._updateTokensIfNecessary(w),yield u.user.reload()}catch(w){throw w}})()}}const pp=new WeakMap;function gp(h){const c=(0,z.m9)(h);return pp.has(c)||pp.set(c,fp._fromUser(c)),pp.get(c)}const La="__sak";class Cv{constructor(c,u){this.storageRetriever=c,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(La,"1"),this.storage.removeItem(La),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,u){return this.storage.setItem(c,JSON.stringify(u)),Promise.resolve()}_get(c){const u=this.storage.getItem(c);return Promise.resolve(u?JSON.parse(u):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ev=(()=>{class h extends Cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,p)=>this.onStorageEvent(u,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nD(){const h=(0,z.z$)();return Ae(h)||ve(h)}()&&function Ee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vn(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&u(p,w,_)}}onStorageEvent(u,p=!1){if(!u.key)return void this.forAllChangedKeys((H,re,we)=>{this.notifyListeners(H,we)});const _=u.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const H=this.storage.getItem(_);if(u.newValue!==H)null!==u.newValue?this.storage.setItem(_,u.newValue):this.storage.removeItem(_);else if(this.localCache[_]===u.newValue&&!p)return}const w=()=>{const H=this.storage.getItem(_);!p&&this.localCache[_]===H||this.notifyListeners(_,H)},M=this.storage.getItem(_);!function q(){return(0,z.w1)()&&10===document.documentMode}()||M===u.newValue||u.newValue===u.oldValue?w():setTimeout(w,10)}notifyListeners(u,p){this.localCache[u]=p;const _=this.listeners[u];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,p){var _=()=>super._set,w=this;return(0,E.Z)(function*(){yield _().call(w,u,p),w.localCache[u]=JSON.stringify(p)})()}_get(u){var p=()=>super._get,_=this;return(0,E.Z)(function*(){const w=yield p().call(_,u);return _.localCache[u]=JSON.stringify(w),w})()}_remove(u){var p=()=>super._remove,_=this;return(0,E.Z)(function*(){yield p().call(_,u),delete _.localCache[u]})()}}return h.type="LOCAL",h})(),Hn=(()=>{class h extends Cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,p){}_removeListener(u,p){}}return h.type="SESSION",h})();let ir=(()=>{class h{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const p=this.receivers.find(w=>w.isListeningto(u));if(p)return p;const _=new h(u);return this.receivers.push(_),_}isListeningto(u){return this.eventTarget===u}handleEvent(u){var p=this;return(0,E.Z)(function*(){const _=u,{eventId:w,eventType:M,data:H}=_.data,re=p.handlersMap[M];if(!re?.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:M});const we=Array.from(re).map(function(){var st=(0,E.Z)(function*(Pi){return Pi(_.origin,H)});return function(Pi){return st.apply(this,arguments)}}()),Me=yield function Jl(h){return Promise.all(h.map(function(){var c=(0,E.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(p){return{fulfilled:!1,reason:p}}});return function(u){return c.apply(this,arguments)}}()))}(we);_.ports[0].postMessage({status:"done",eventId:w,eventType:M,response:Me})})()}_subscribe(u,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(p)}_unsubscribe(u,p){this.handlersMap[u]&&p&&this.handlersMap[u].delete(p),(!p||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function Po(h="",c=10){let u="";for(let p=0;p<c;p++)u+=Math.floor(10*Math.random());return h+u}class mp{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,u,p=50){var _=this;return(0,E.Z)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let M,H;return new Promise((re,we)=>{const Me=Po("",20);w.port1.start();const st=setTimeout(()=>{we(new Error("unsupported_event"))},p);H={messageChannel:w,onMessage(Pi){const wr=Pi;if(wr.data.eventId===Me)switch(wr.data.status){case"ack":clearTimeout(st),M=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),re(wr.data.response);break;default:clearTimeout(st),clearTimeout(M),we(new Error("invalid_response"))}}},_.handlers.add(H),w.port1.addEventListener("message",H.onMessage),_.target.postMessage({eventType:c,eventId:Me,data:u},[w.port2])}).finally(()=>{H&&_.removeMessageHandler(H)})})()}}function Rn(){return window}function Va(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function Ba(){return(Ba=(0,E.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hd="firebaseLocalStorageDb",ao="firebaseLocalStorage",ko="fbase_key";class Lr{constructor(c){this.request=c}toPromise(){return new Promise((c,u)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function ja(h,c){return h.transaction([ao],c?"readwrite":"readonly").objectStore(ao)}function wp(){const h=indexedDB.open(hd,1);return new Promise((c,u)=>{h.addEventListener("error",()=>{u(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(ao,{keyPath:ko})}catch(_){u(_)}}),h.addEventListener("success",(0,E.Z)(function*(){const p=h.result;p.objectStoreNames.contains(ao)?c(p):(p.close(),yield function rD(){const h=indexedDB.deleteDatabase(hd);return new Lr(h).toPromise()}(),c(yield wp()))}))})}function Dv(h,c,u){return fd.apply(this,arguments)}function fd(){return(fd=(0,E.Z)(function*(h,c,u){const p=ja(h,!0).put({[ko]:c,value:u});return new Lr(p).toPromise()})).apply(this,arguments)}function Cp(){return(Cp=(0,E.Z)(function*(h,c){const u=ja(h,!1).get(c),p=yield new Lr(u).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function pd(h,c){const u=ja(h,!0).delete(c);return new Lr(u).toPromise()}const Sv=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,E.Z)(function*(){return u.db||(u.db=yield wp()),u.db})()}_withRetries(u){var p=this;return(0,E.Z)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield u(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,E.Z)(function*(){return Va()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,E.Z)(function*(){u.receiver=ir._getInstance(function yp(){return Va()?self:null}()),u.receiver._subscribe("keyChanged",function(){var p=(0,E.Z)(function*(_,w){return{keyProcessed:(yield u._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var p=(0,E.Z)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,E.Z)(function*(){var p,_;if(u.activeServiceWorker=yield function vp(){return Ba.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new mp(u.activeServiceWorker);const w=yield u.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var p=this;return(0,E.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function dd(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:u},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const u=yield wp();return yield Dv(u,La,"1"),yield pd(u,La),!0}catch{}return!1})()}_withPendingWrite(u){var p=this;return(0,E.Z)(function*(){p.pendingWrites++;try{yield u()}finally{p.pendingWrites--}})()}_set(u,p){var _=this;return(0,E.Z)(function*(){return _._withPendingWrite((0,E.Z)(function*(){return yield _._withRetries(w=>Dv(w,u,p)),_.localCache[u]=p,_.notifyServiceWorker(u)}))})()}_get(u){var p=this;return(0,E.Z)(function*(){const _=yield p._withRetries(w=>function Iv(h,c){return Cp.apply(this,arguments)}(w,u));return p.localCache[u]=_,_})()}_remove(u){var p=this;return(0,E.Z)(function*(){return p._withPendingWrite((0,E.Z)(function*(){return yield p._withRetries(_=>pd(_,u)),delete p.localCache[u],p.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,E.Z)(function*(){const p=yield u._withRetries(M=>{const H=ja(M,!1).getAll();return new Lr(H).toPromise()});if(!p)return[];if(0!==u.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:M,value:H}of p)w.add(M),JSON.stringify(u.localCache[M])!==JSON.stringify(H)&&(u.notifyListeners(M,H),_.push(M));for(const M of Object.keys(u.localCache))u.localCache[M]&&!w.has(M)&&(u.notifyListeners(M,null),_.push(M));return _})()}notifyListeners(u,p){this.localCache[u]=p;const _=this.listeners[u];if(_)for(const w of Array.from(_))w(p)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(p)}_removeListener(u,p){this.listeners[u]&&(this.listeners[u].delete(p),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),Ql=1e12;class Rv{constructor(c){this.auth=c,this.counter=Ql,this._widgets=new Map}render(c,u){const p=this.counter;return this._widgets.set(p,new Tp(c,this.auth.name,u||{})),this.counter++,p}reset(c){var u;const p=c||Ql;null===(u=this._widgets.get(p))||void 0===u||u.delete(),this._widgets.delete(p)}getResponse(c){var u;return(null===(u=this._widgets.get(c||Ql))||void 0===u?void 0:u.getResponse())||""}execute(c){var u=this;return(0,E.Z)(function*(){var p;return null===(p=u._widgets.get(c||Ql))||void 0===p||p.execute(),""})()}}class Tp{constructor(c,u,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;ie(_,"argument-error",{appName:u}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mv(h){const c=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)c.push(u.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":u}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xl=cv("rcb"),Ov=new ai(3e4,6e4);class oD{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Rn().grecaptcha)||void 0===c||!c.render)}load(c,u=""){return ie(function xv(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(u),c,"argument-error"),this.shouldResolveImmediately(u)&&_n(Rn().grecaptcha)?Promise.resolve(Rn().grecaptcha):new Promise((p,_)=>{const w=Rn().setTimeout(()=>{_(rt(c,"network-request-failed"))},Ov.get());Rn()[Xl]=()=>{Rn().clearTimeout(w),delete Rn()[Xl];const H=Rn().grecaptcha;if(!H||!_n(H))return void _(rt(c,"internal-error"));const re=H.render;H.render=(we,Me)=>{const st=re(we,Me);return this.counter++,st},this.hostLanguage=u,p(H)},Uf(`${function BE(){return mr.recaptchaV2Script}()}?${(0,z.xO)({onload:Xl,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(w),_(rt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var u;return!(null===(u=Rn().grecaptcha)||void 0===u||!u.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(c){return(0,E.Z)(function*(){return new Rv(c)})()}clearedOneInstance(){}}const md="recaptcha",Pv={theme:"light",type:"image"};class kv{constructor(c,u,p=Object.assign({},Pv)){this.parameters=p,this.type=md,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(c),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof u?document.getElementById(u):u;ie(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new oD,this.validateStartingState()}verify(){var c=this;return(0,E.Z)(function*(){c.assertNotDestroyed();const u=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(u)||new Promise(w=>{const M=H=>{H&&(c.tokenChangeListeners.delete(M),w(H))};c.tokenChangeListeners.add(M),c.isInvisible&&p.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return u=>{if(this.tokenChangeListeners.forEach(p=>p(u)),"function"==typeof c)c(u);else if("string"==typeof c){const p=Rn()[c];"function"==typeof p&&p(u)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,E.Z)(function*(){if(yield c.init(),!c.widgetId){let u=c.container;if(!c.isInvisible){const p=document.createElement("div");u.appendChild(p),u=p}c.widgetId=c.getAssertedRecaptcha().render(u,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,E.Z)(function*(){ie(sn()&&!Va(),c.auth,"internal-error"),yield function Sp(){let h=null;return new Promise(c=>{"complete"!==document.readyState?(h=()=>c(),window.addEventListener("load",h)):c()}).catch(c=>{throw h&&window.removeEventListener("load",h),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const u=yield function G(h){return Q.apply(this,arguments)}(c.auth);ie(u,c.auth,"internal-error"),c.parameters.sitekey=u})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ec{constructor(c,u){this.verificationId=c,this.onConfirmation=u}confirm(c){const u=is._fromVerification(this.verificationId,c);return this.onConfirmation(u)}}function Fv(h,c,u){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,E.Z)(function*(h,c,u){const p=yn(h),_=yield kt(p,c,(0,z.m9)(u));return new ec(_,w=>ql(p,w))})).apply(this,arguments)}function Lv(h,c,u){return rr.apply(this,arguments)}function rr(){return(rr=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h);yield Ra(!1,p,"phone");const _=yield kt(p.auth,c,(0,z.m9)(u));return new ec(_,w=>sp(p,w))})).apply(this,arguments)}function Np(h,c,u){return tc.apply(this,arguments)}function tc(){return(tc=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h),_=yield kt(p.auth,c,(0,z.m9)(u));return new ec(_,w=>op(p,w))})).apply(this,arguments)}function kt(h,c,u){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,E.Z)(function*(h,c,u){var p;const _=yield u.verify();try{let w;if(ie("string"==typeof _,h,"argument-error"),ie(u.type===md,h,"argument-error"),w="string"==typeof c?{phoneNumber:c}:c,"session"in w){const M=w.session;if("phoneNumber"in w)return ie("enroll"===M.type,h,"internal-error"),(yield function QE(h,c){return X(h,"POST","/v2/accounts/mfaEnrollment:start",j(h,c))}(h,{idToken:M.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ie("signin"===M.type,h,"internal-error");const H=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return ie(H,h,"missing-multi-factor-info"),(yield function sD(h,c){return X(h,"POST","/v2/accounts/mfaSignIn:start",j(h,c))}(h,{mfaPendingCredential:M.credential,mfaEnrollmentId:H,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:M}=yield function Xf(h,c){return Ns.apply(this,arguments)}(h,{phoneNumber:w.phoneNumber,recaptchaToken:_});return M}}finally{u._reset()}}),Ha.apply(this,arguments)}function nc(h,c){return hi.apply(this,arguments)}function hi(){return(hi=(0,E.Z)(function*(h,c){yield Wi((0,z.m9)(h),c)})).apply(this,arguments)}let Vv=(()=>{class h{constructor(u){this.providerId=h.PROVIDER_ID,this.auth=yn(u)}verifyPhoneNumber(u,p){return kt(this.auth,u,(0,z.m9)(p))}static credential(u,p){return is._fromVerification(u,p)}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:p,temporaryProof:_}=u;return p&&_?is._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function xs(h,c){return c?K(c):(ie(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class Ps extends Ss{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return tr(c,this._buildIdpRequest())}_linkToIdToken(c,u){return tr(c,this._buildIdpRequest(u))}_getReauthenticationResolver(c){return tr(c,this._buildIdpRequest())}_buildIdpRequest(c){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(u.idToken=c),u}}function qi(h){return rp(h.auth,new Ps(h),h.bypassAuthState)}function Bv(h){const{auth:c,user:u}=h;return ie(u,c,"internal-error"),ip(u,new Ps(h),h.bypassAuthState)}function jv(h){return _d.apply(this,arguments)}function _d(){return(_d=(0,E.Z)(function*(h){const{auth:c,user:u}=h;return ie(u,c,"internal-error"),Wi(u,new Ps(h),h.bypassAuthState)})).apply(this,arguments)}class os{constructor(c,u,p,_,w=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var c=this;return new Promise(function(){var u=(0,E.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(w){c.reject(w)}});return function(p,_){return u.apply(this,arguments)}}())}onAuthEvent(c){var u=this;return(0,E.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:M,error:H,type:re}=c;if(H)return void u.reject(H);const we={auth:u.auth,requestUri:p,sessionId:_,tenantId:M||void 0,postBody:w||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(re)(we))}catch(Me){u.reject(Me)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return qi;case"linkViaPopup":case"linkViaRedirect":return jv;case"reauthViaPopup":case"reauthViaRedirect":return Bv;default:Ze(this.auth,"internal-error")}}resolve(c){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ap=new ai(2e3,1e4);function Uv(h,c,u){return ic.apply(this,arguments)}function ic(){return(ic=(0,E.Z)(function*(h,c,u){const p=yn(h);Tn(h,c,nr);const _=xs(p,u);return new sc(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Rp(h,c,u){return rc.apply(this,arguments)}function rc(){return(rc=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h);Tn(p.auth,c,nr);const _=xs(p.auth,u);return new sc(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Hv(h,c,u){return Le.apply(this,arguments)}function Le(){return(Le=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h);Tn(p.auth,c,nr);const _=xs(p.auth,u);return new sc(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let sc=(()=>{class h extends os{constructor(u,p,_,w,M){super(u,p,w,M),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var u=this;return(0,E.Z)(function*(){const p=yield u.execute();return ie(p,u.auth,"internal-error"),p})()}onExecution(){var u=this;return(0,E.Z)(function*(){Bt(1===u.filter.length,"Popup operations only handle one event");const p=Po();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],p),u.authWindow.associatedEvent=p,u.resolver._originValidation(u.auth).catch(_=>{u.reject(_)}),u.resolver._isIframeWebStorageSupported(u.auth,_=>{_||u.reject(rt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const u=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,Ap.get())};u()}}return h.currentPopupAction=null,h})();const aD="pendingRedirect",$a=new Map;class $v extends os{constructor(c,u,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,u=this;return(0,E.Z)(function*(){let p=$a.get(u.auth._key());if(!p){try{const w=(yield function Gv(h,c){return oc.apply(this,arguments)}(u.resolver,u.auth))?yield c().call(u):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}$a.set(u.auth._key(),p)}return u.bypassAuthState||$a.set(u.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var u=()=>super.onAuthEvent,p=this;return(0,E.Z)(function*(){if("signInViaRedirect"===c.type)return u().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,u().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function oc(){return(oc=(0,E.Z)(function*(h,c){const u=xp(c),p=Op(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(u));return yield p._remove(u),_})).apply(this,arguments)}function ks(h,c){return vd.apply(this,arguments)}function vd(){return(vd=(0,E.Z)(function*(h,c){return Op(h)._set(xp(c),"true")})).apply(this,arguments)}function Wv(){$a.clear()}function Mp(h,c){$a.set(h._key(),c)}function Op(h){return K(h._redirectPersistence)}function xp(h){return Fe(aD,h.config.apiKey,h.name)}function te(h,c,u){return function Ct(h,c,u){return ei.apply(this,arguments)}(h,c,u)}function ei(){return(ei=(0,E.Z)(function*(h,c,u){const p=yn(h);Tn(h,c,nr),yield p._initializationPromise;const _=xs(p,u);return yield ks(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function wi(h,c,u){return function ti(h,c,u){return ac.apply(this,arguments)}(h,c,u)}function ac(){return(ac=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h);Tn(p.auth,c,nr),yield p.auth._initializationPromise;const _=xs(p.auth,u);yield ks(_,p.auth);const w=yield fi(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",w)})).apply(this,arguments)}function Ga(h,c,u){return function Vr(h,c,u){return Wa.apply(this,arguments)}(h,c,u)}function Wa(){return(Wa=(0,E.Z)(function*(h,c,u){const p=(0,z.m9)(h);Tn(p.auth,c,nr),yield p.auth._initializationPromise;const _=xs(p.auth,u);yield Ra(!1,p,c.providerId),yield ks(_,p.auth);const w=yield fi(p);return _._openRedirect(p.auth,c,"linkViaRedirect",w)})).apply(this,arguments)}function yd(h,c){return bd.apply(this,arguments)}function bd(){return(bd=(0,E.Z)(function*(h,c){return yield yn(h)._initializationPromise,Pp(h,c,!1)})).apply(this,arguments)}function Pp(h,c){return lc.apply(this,arguments)}function lc(){return(lc=(0,E.Z)(function*(h,c,u=!1){const p=yn(h),_=xs(p,c),M=yield new $v(p,_,u).execute();return M&&!u&&(delete M.user._redirectEventId,yield p._persistUserIfCurrent(M.user),yield p._setRedirectUser(null,c)),M})).apply(this,arguments)}function fi(h){return br.apply(this,arguments)}function br(){return(br=(0,E.Z)(function*(h){const c=Po(`${h.uid}:::`);return h._redirectEventId=c,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),c})).apply(this,arguments)}class lo{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let u=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(u=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Lp(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fp(h);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=c,u=!0)),u}sendToConsumer(c,u){var p;if(c.error&&!Fp(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";u.onError(rt(this.auth,_))}else u.onAuthEvent(c)}isEventForConsumer(c,u){const p=null===u.eventId||!!c.eventId&&c.eventId===u.eventId;return u.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(c))}saveEventToCache(c){this.cachedEventUids.add(Br(c)),this.lastProcessedEventTime=Date.now()}}function Br(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(c=>c).join("-")}function Fp({type:h,error:c}){return"unknown"===h&&"auth/no-auth-event"===c?.code}function Vp(h){return wd.apply(this,arguments)}function wd(){return(wd=(0,E.Z)(function*(h,c={}){return X(h,"GET","/v1/projects",c)})).apply(this,arguments)}const Cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ed=/^https?/;function za(){return(za=(0,E.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:c}=yield Vp(h);for(const u of c)try{if(zv(u))return}catch{}Ze(h,"unauthorized-domain")})).apply(this,arguments)}function zv(h){const c=un(),{protocol:u,hostname:p}=new URL(c);if(h.startsWith("chrome-extension://")){const M=new URL(h);return""===M.hostname&&""===p?"chrome-extension:"===u&&h.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===u&&M.hostname===p}if(!Ed.test(u))return!1;if(Cd.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const jp=new ai(3e4,6e4);function cc(){const h=Rn().___jsl;if(h?.H)for(const c of Object.keys(h.H))if(h.H[c].r=h.H[c].r||[],h.H[c].L=h.H[c].L||[],h.H[c].r=[...h.H[c].L],h.CP)for(let u=0;u<h.CP.length;u++)h.CP[u]=null}let qa=null;const $p=new ai(5e3,15e3),Dd="__/auth/iframe",qv="emulator/auth/iframe",Kv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ci=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function co(h){const c=h.config;ie(c.authDomain,h,"auth-domain-config-required");const u=c.emulator?er(c,qv):`https://${h.config.authDomain}/${Dd}`,p={apiKey:c.apiKey,appName:h.name,v:P.SDK_VERSION},_=Ci.get(h.config.apiHost);_&&(p.eid=_);const w=h._getFrameworks();return w.length&&(p.fw=w.join(",")),`${u}?${(0,z.xO)(p).slice(1)}`}function Id(){return Id=(0,E.Z)(function*(h){const c=yield function Hp(h){return qa=qa||function Up(h){return new Promise((c,u)=>{var p,_,w;function M(){cc(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{cc(),u(rt(h,"network-request-failed"))},timeout:jp.get()})}if(null!==(_=null===(p=Rn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(w=Rn().gapi)||void 0===w||!w.load){const H=cv("iframefcb");return Rn()[H]=()=>{gapi.load?M():u(rt(h,"network-request-failed"))},Uf(`${function lv(){return mr.gapiScript}()}?onload=${H}`).catch(re=>u(re))}M()}}).catch(c=>{throw qa=null,c})}(h),qa}(h),u=Rn().gapi;return ie(u,h,"internal-error"),c.open({where:document.body,url:co(h),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kv,dontclear:!0},p=>new Promise(function(){var _=(0,E.Z)(function*(w,M){yield p.restyle({setHideOnLeave:!1});const H=rt(h,"network-request-failed"),re=Rn().setTimeout(()=>{M(H)},$p.get());function we(){Rn().clearTimeout(re),w(p)}p.ping(we).then(we,()=>{M(H)})});return function(w,M){return _.apply(this,arguments)}}()))}),Id.apply(this,arguments)}const Zv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ka{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uc="__/auth/handler",dc="emulator/auth/handler",hc=encodeURIComponent("fac");function Za(h,c,u,p,_,w){return fc.apply(this,arguments)}function fc(){return(fc=(0,E.Z)(function*(h,c,u,p,_,w){ie(h.config.authDomain,h,"auth-domain-config-required"),ie(h.config.apiKey,h,"invalid-api-key");const M={apiKey:h.config.apiKey,appName:h.name,authType:u,redirectUrl:p,v:P.SDK_VERSION,eventId:_};if(c instanceof nr){c.setDefaultLanguage(h.languageCode),M.providerId=c.providerId||"",(0,z.xb)(c.getCustomParameters())||(M.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Me,st]of Object.entries(w||{}))M[Me]=st}if(c instanceof ci){const Me=c.getScopes().filter(st=>""!==st);Me.length>0&&(M.scopes=Me.join(","))}h.tenantId&&(M.tid=h.tenantId);const H=M;for(const Me of Object.keys(H))void 0===H[Me]&&delete H[Me];const re=yield h._getAppCheckToken(),we=re?`#${hc}=${encodeURIComponent(re)}`:"";return`${function zp({config:h}){return h.emulator?er(h,dc):`https://${h.authDomain}/${uc}`}(h)}?${(0,z.xO)(H).slice(1)}${we}`})).apply(this,arguments)}const Td="webStorageSupport",Lo=class Fo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hn,this._completeRedirectFn=Pp,this._overrideRedirectResult=Mp}_openPopup(c,u,p,_){var w=this;return(0,E.Z)(function*(){var M;Bt(null===(M=w.eventManagers[c._key()])||void 0===M?void 0:M.manager,"_initialize() not called before _openPopup()");const H=yield Za(c,u,p,un(),_);return function Fs(h,c,u,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),M=Math.max((window.screen.availWidth-p)/2,0).toString();let H="";const re=Object.assign(Object.assign({},Zv),{width:p.toString(),height:_.toString(),top:w,left:M}),we=(0,z.z$)().toLowerCase();u&&(H=zn(we)?"_blank":u),Ht(we)&&(c=c||"http://localhost",re.scrollbars="yes");const Me=Object.entries(re).reduce((Pi,[wr,jr])=>`${Pi}${wr}=${jr},`,"");if(function lt(h=(0,z.z$)()){var c;return ve(h)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(we)&&"_self"!==H)return function Qv(h,c){const u=document.createElement("a");u.href=h,u.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(p)}(c||"",H),new Ka(null);const st=window.open(c||"",H,Me);ie(st,h,"popup-blocked");try{st.focus()}catch{}return new Ka(st)}(c,H,Po())})()}_openRedirect(c,u,p,_){var w=this;return(0,E.Z)(function*(){return yield w._originValidation(c),function _p(h){Rn().location.href=h}(yield Za(c,u,p,un(),_)),new Promise(()=>{})})()}_initialize(c){const u=c._key();if(this.eventManagers[u]){const{manager:_,promise:w}=this.eventManagers[u];return _?Promise.resolve(_):(Bt(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(c);return this.eventManagers[u]={promise:p},p.catch(()=>{delete this.eventManagers[u]}),p}initAndGetManager(c){var u=this;return(0,E.Z)(function*(){const p=yield function En(h){return Id.apply(this,arguments)}(c),_=new lo(c);return p.register("authEvent",w=>(ie(w?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[c._key()]={manager:_},u.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,u){this.iframes[c._key()].send(Td,{type:Td},_=>{var w;const M=null===(w=_?.[0])||void 0===w?void 0:w[Td];void 0!==M&&u(!!M),Ze(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Bp(h){return za.apply(this,arguments)}(c)),this.originValidationPromises[u]}get _shouldInitProactively(){return vn()||Ae()||ve()}};class Xv{constructor(c){this.factorId=c}_process(c,u,p){switch(u.type){case"enroll":return this._finalizeEnroll(c,u.credential,p);case"signin":return this._finalizeSignIn(c,u.credential);default:return ot("unexpected MultiFactorSessionType")}}}class qp extends Xv{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new qp(c)}_finalizeEnroll(c,u,p){return function XE(h,c){return X(h,"POST","/v2/accounts/mfaEnrollment:finalize",j(h,c))}(c,{idToken:u,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,u){return function Nv(h,c){return X(h,"POST","/v2/accounts/mfaSignIn:finalize",j(h,c))}(c,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Sd=(()=>{class h{constructor(){}static assertion(u){return qp._fromCredential(u)}}return h.FACTOR_ID="phone",h})();var ey="@firebase/auth";class Ya{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var u=this;return(0,E.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const u=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,u),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const u=this.internalListeners.get(c);u&&(this.internalListeners.delete(c),u(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function VE(h){mr=h}({loadJS:h=>new Promise((c,u)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=c,p.onerror=_=>{const w=rt("internal-error");w.customData=_,u(w)},p.type="text/javascript",p.charset="UTF-8",function ry(){var h,c;return null!==(c=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ja(h){(0,P._registerComponent)(new tn.wA("auth",(c,{options:u})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),w=c.getProvider("app-check-internal"),{apiKey:M,authDomain:H}=p.options;ie(M&&!M.includes(":"),"invalid-api-key",{appName:p.name});const re={apiKey:M,authDomain:H,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nt(h)},we=new LE(p,_,w,re);return function Hl(h,c){const u=c?.persistence||[],p=(Array.isArray(u)?u:[u]).map(K);c?.errorMap&&h._updateErrorMap(c.errorMap),h._initializeWithPersistence(p,c?.popupRedirectResolver)}(we,u),we},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,u,p)=>{c.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new tn.wA("auth-internal",c=>{const u=yn(c.getProvider("auth").getImmediate());return new Ya(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(ey,"1.6.0",function ty(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,P.registerVersion)(ey,"1.6.0","esm2017")}("Browser")},58:(Ri,In,Oe)=>{Oe.d(In,{BH:()=>oi,DV:()=>x,Dv:()=>Dt,GJ:()=>_n,L:()=>pt,LL:()=>J,Pz:()=>rt,Sg:()=>Tn,UG:()=>ot,UI:()=>Q,US:()=>tn,Wj:()=>Qt,Wl:()=>Re,Yr:()=>ai,ZB:()=>Ce,ZR:()=>X,aH:()=>Ze,b$:()=>sn,cI:()=>ge,dS:()=>pr,eu:()=>W,g5:()=>P,gK:()=>Rt,gQ:()=>dn,h$:()=>Vt,hl:()=>U,hu:()=>z,jU:()=>Bt,lb:()=>on,m9:()=>Or,ne:()=>Bn,p$:()=>oe,pd:()=>Ut,r3:()=>L,ru:()=>un,tV:()=>Y,uI:()=>ie,ug:()=>ji,vZ:()=>ue,w1:()=>Bi,w9:()=>Jt,xO:()=>at,xb:()=>G,z$:()=>We,zd:()=>et});const E={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},z=function(A,T){if(!A)throw P(T)},P=function(A){return new Error("Firebase Database ("+E.SDK_VERSION+") INTERNAL ASSERT FAILED: "+A)},Te=function(A){const T=[];let b=0;for(let C=0;C<A.length;C++){let y=A.charCodeAt(C);y<128?T[b++]=y:y<2048?(T[b++]=y>>6|192,T[b++]=63&y|128):55296==(64512&y)&&C+1<A.length&&56320==(64512&A.charCodeAt(C+1))?(y=65536+((1023&y)<<10)+(1023&A.charCodeAt(++C)),T[b++]=y>>18|240,T[b++]=y>>12&63|128,T[b++]=y>>6&63|128,T[b++]=63&y|128):(T[b++]=y>>12|224,T[b++]=y>>6&63|128,T[b++]=63&y|128)}return T},tn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,T){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=T?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let y=0;y<A.length;y+=3){const N=A[y],K=y+1<A.length,be=K?A[y+1]:0,ye=y+2<A.length,Fe=ye?A[y+2]:0;let Ht=(15&be)<<2|Fe>>6,Ae=63&Fe;ye||(Ae=64,K||(Ht=64)),C.push(b[N>>2],b[(3&N)<<4|be>>4],b[Ht],b[Ae])}return C.join("")},encodeString(A,T){return this.HAS_NATIVE_SUPPORT&&!T?btoa(A):this.encodeByteArray(Te(A),T)},decodeString(A,T){return this.HAS_NATIVE_SUPPORT&&!T?atob(A):function(A){const T=[];let b=0,C=0;for(;b<A.length;){const y=A[b++];if(y<128)T[C++]=String.fromCharCode(y);else if(y>191&&y<224){const N=A[b++];T[C++]=String.fromCharCode((31&y)<<6|63&N)}else if(y>239&&y<365){const ye=((7&y)<<18|(63&A[b++])<<12|(63&A[b++])<<6|63&A[b++])-65536;T[C++]=String.fromCharCode(55296+(ye>>10)),T[C++]=String.fromCharCode(56320+(1023&ye))}else{const N=A[b++],K=A[b++];T[C++]=String.fromCharCode((15&y)<<12|(63&N)<<6|63&K)}}return T.join("")}(this.decodeStringToByteArray(A,T))},decodeStringToByteArray(A,T){this.init_();const b=T?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let y=0;y<A.length;){const N=b[A.charAt(y++)],be=y<A.length?b[A.charAt(y)]:0;++y;const Fe=y<A.length?b[A.charAt(y)]:64;++y;const _e=y<A.length?b[A.charAt(y)]:64;if(++y,null==N||null==be||null==Fe||null==_e)throw new mn;C.push(N<<2|be>>4),64!==Fe&&(C.push(be<<4&240|Fe>>2),64!==_e&&C.push(Fe<<6&192|_e))}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class mn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vt=function(A){const T=Te(A);return tn.encodeByteArray(T,!0)},pt=function(A){return Vt(A).replace(/\./g,"")},Y=function(A){try{return tn.decodeString(A,!0)}catch(T){console.error("base64Decode failed: ",T)}return null};function oe(A){return Ce(void 0,A)}function Ce(A,T){if(!(T instanceof Object))return T;switch(T.constructor){case Date:return new Date(T.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return T}for(const b in T)!T.hasOwnProperty(b)||!Ge(b)||(A[b]=Ce(A[b],T[b]));return A}function Ge(A){return"__proto__"!==A}const Be=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const T=A&&Y(A[1]);return T&&JSON.parse(T)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},Ze=()=>{var A;return null===(A=Be())||void 0===A?void 0:A.config},rt=A=>{var T;return null===(T=Be())||void 0===T?void 0:T[`_${A}`]};class oi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((T,b)=>{this.resolve=T,this.reject=b})}wrapCallback(T){return(b,C)=>{b?this.reject(b):this.resolve(C),"function"==typeof T&&(this.promise.catch(()=>{}),1===T.length?T(b):T(b,C))}}}function Tn(A,T){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const C=T||"demo-project",y=A.iat||0,N=A.sub||A.user_id;if(!N)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${C}`,aud:C,iat:y,exp:y+3600,auth_time:y,sub:N,user_id:N,firebase:{sign_in_provider:"custom",identities:{}}},A);return[pt(JSON.stringify({alg:"none",type:"JWT"})),pt(JSON.stringify(K)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ot(){var A;const T=null===(A=Be())||void 0===A?void 0:A.forceEnvironment;if("node"===T)return!0;if("browser"===T)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Bt(){return"object"==typeof self&&self.self===self}function un(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bi(){const A=We();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function ai(){return!0===E.NODE_CLIENT||!0===E.NODE_ADMIN}function U(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((A,T)=>{try{let b=!0;const C="validate-browser-context-for-indexeddb-analytics-module",y=self.indexedDB.open(C);y.onsuccess=()=>{y.result.close(),b||self.indexedDB.deleteDatabase(C),A(!0)},y.onupgradeneeded=()=>{b=!1},y.onerror=()=>{var N;T((null===(N=y.error)||void 0===N?void 0:N.message)||"")}}catch(b){T(b)}})}class X extends Error{constructor(T,b,C){super(b),this.code=T,this.customData=C,this.name="FirebaseError",Object.setPrototypeOf(this,X.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(T,b,C){this.service=T,this.serviceName=b,this.errors=C}create(T,...b){const C=b[0]||{},y=`${this.service}/${T}`,N=this.errors[T],K=N?function de(A,T){return A.replace(Ye,(b,C)=>{const y=T[C];return null!=y?String(y):`<${C}?>`})}(N,C):"Error";return new X(y,`${this.serviceName}: ${K} (${y}).`,C)}}const Ye=/\{\$([^}]+)}/g;function ge(A){return JSON.parse(A)}function Re(A){return JSON.stringify(A)}const gt=function(A){let T={},b={},C={},y="";try{const N=A.split(".");T=ge(Y(N[0])||""),b=ge(Y(N[1])||""),y=N[2],C=b.d||{},delete b.d}catch{}return{header:T,claims:b,data:C,signature:y}},Jt=function(A){const b=gt(A).claims;return!!b&&"object"==typeof b&&b.hasOwnProperty("iat")},_n=function(A){const T=gt(A).claims;return"object"==typeof T&&!0===T.admin};function L(A,T){return Object.prototype.hasOwnProperty.call(A,T)}function x(A,T){if(Object.prototype.hasOwnProperty.call(A,T))return A[T]}function G(A){for(const T in A)if(Object.prototype.hasOwnProperty.call(A,T))return!1;return!0}function Q(A,T,b){const C={};for(const y in A)Object.prototype.hasOwnProperty.call(A,y)&&(C[y]=T.call(b,A[y],y,A));return C}function ue(A,T){if(A===T)return!0;const b=Object.keys(A),C=Object.keys(T);for(const y of b){if(!C.includes(y))return!1;const N=A[y],K=T[y];if(se(N)&&se(K)){if(!ue(N,K))return!1}else if(N!==K)return!1}for(const y of C)if(!b.includes(y))return!1;return!0}function se(A){return null!==A&&"object"==typeof A}function at(A){const T=[];for(const[b,C]of Object.entries(A))Array.isArray(C)?C.forEach(y=>{T.push(encodeURIComponent(b)+"="+encodeURIComponent(y))}):T.push(encodeURIComponent(b)+"="+encodeURIComponent(C));return T.length?"&"+T.join("&"):""}function et(A){const T={};return A.replace(/^\?/,"").split("&").forEach(C=>{if(C){const[y,N]=C.split("=");T[decodeURIComponent(y)]=decodeURIComponent(N)}}),T}function Ut(A){const T=A.indexOf("?");if(!T)return"";const b=A.indexOf("#",T);return A.substring(T,b>0?b:void 0)}class dn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let T=1;T<this.blockSize;++T)this.pad_[T]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(T,b){b||(b=0);const C=this.W_;if("string"==typeof T)for(let _e=0;_e<16;_e++)C[_e]=T.charCodeAt(b)<<24|T.charCodeAt(b+1)<<16|T.charCodeAt(b+2)<<8|T.charCodeAt(b+3),b+=4;else for(let _e=0;_e<16;_e++)C[_e]=T[b]<<24|T[b+1]<<16|T[b+2]<<8|T[b+3],b+=4;for(let _e=16;_e<80;_e++){const Ht=C[_e-3]^C[_e-8]^C[_e-14]^C[_e-16];C[_e]=4294967295&(Ht<<1|Ht>>>31)}let Fe,bt,y=this.chain_[0],N=this.chain_[1],K=this.chain_[2],be=this.chain_[3],ye=this.chain_[4];for(let _e=0;_e<80;_e++){_e<40?_e<20?(Fe=be^N&(K^be),bt=1518500249):(Fe=N^K^be,bt=1859775393):_e<60?(Fe=N&K|be&(N|K),bt=2400959708):(Fe=N^K^be,bt=3395469782);const Ht=(y<<5|y>>>27)+Fe+ye+bt+C[_e]&4294967295;ye=be,be=K,K=4294967295&(N<<30|N>>>2),N=y,y=Ht}this.chain_[0]=this.chain_[0]+y&4294967295,this.chain_[1]=this.chain_[1]+N&4294967295,this.chain_[2]=this.chain_[2]+K&4294967295,this.chain_[3]=this.chain_[3]+be&4294967295,this.chain_[4]=this.chain_[4]+ye&4294967295}update(T,b){if(null==T)return;void 0===b&&(b=T.length);const C=b-this.blockSize;let y=0;const N=this.buf_;let K=this.inbuf_;for(;y<b;){if(0===K)for(;y<=C;)this.compress_(T,y),y+=this.blockSize;if("string"==typeof T){for(;y<b;)if(N[K]=T.charCodeAt(y),++K,++y,K===this.blockSize){this.compress_(N),K=0;break}}else for(;y<b;)if(N[K]=T[y],++K,++y,K===this.blockSize){this.compress_(N),K=0;break}}this.inbuf_=K,this.total_+=b}digest(){const T=[];let b=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let y=this.blockSize-1;y>=56;y--)this.buf_[y]=255&b,b/=256;this.compress_(this.buf_);let C=0;for(let y=0;y<5;y++)for(let N=24;N>=0;N-=8)T[C]=this.chain_[y]>>N&255,++C;return T}}function Bn(A,T){const b=new Wn(A,T);return b.subscribe.bind(b)}class Wn{constructor(T,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{T(this)}).catch(C=>{this.error(C)})}next(T){this.forEachObserver(b=>{b.next(T)})}error(T){this.forEachObserver(b=>{b.error(T)}),this.close(T)}complete(){this.forEachObserver(T=>{T.complete()}),this.close()}subscribe(T,b,C){let y;if(void 0===T&&void 0===b&&void 0===C)throw new Error("Missing Observer.");y=function Pt(A,T){if("object"!=typeof A||null===A)return!1;for(const b of T)if(b in A&&"function"==typeof A[b])return!0;return!1}(T,["next","error","complete"])?T:{next:T,error:b,complete:C},void 0===y.next&&(y.next=mt),void 0===y.error&&(y.error=mt),void 0===y.complete&&(y.complete=mt);const N=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?y.error(this.finalError):y.complete()}catch{}}),this.observers.push(y),N}unsubscribeOne(T){void 0===this.observers||void 0===this.observers[T]||(delete this.observers[T],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(T){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,T)}sendOne(T,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[T])try{b(this.observers[T])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(T){this.finalized||(this.finalized=!0,void 0!==T&&(this.finalError=T),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mt(){}const Dt=function(A,T,b,C){let y;if(C<T?y="at least "+T:C>b&&(y=0===b?"none":"no more than "+b),y)throw new Error(A+" failed: Was called with "+C+(1===C?" argument.":" arguments.")+" Expects "+y+".")};function Rt(A,T){return`${A} failed: ${T} argument `}function Qt(A,T,b,C){if((!C||b)&&"function"!=typeof b)throw new Error(Rt(A,T)+"must be a valid function.")}function on(A,T,b,C){if((!C||b)&&("object"!=typeof b||null===b))throw new Error(Rt(A,T)+"must be a valid context object.")}const pr=function(A){const T=[];let b=0;for(let C=0;C<A.length;C++){let y=A.charCodeAt(C);if(y>=55296&&y<=56319){const N=y-55296;C++,z(C<A.length,"Surrogate pair missing trail surrogate."),y=65536+(N<<10)+(A.charCodeAt(C)-56320)}y<128?T[b++]=y:y<2048?(T[b++]=y>>6|192,T[b++]=63&y|128):y<65536?(T[b++]=y>>12|224,T[b++]=y>>6&63|128,T[b++]=63&y|128):(T[b++]=y>>18|240,T[b++]=y>>12&63|128,T[b++]=y>>6&63|128,T[b++]=63&y|128)}return T},ji=function(A){let T=0;for(let b=0;b<A.length;b++){const C=A.charCodeAt(b);C<128?T++:C<2048?T+=2:C>=55296&&C<=56319?(T+=4,b++):T+=3}return T};function Or(A){return A&&A._delegate?A._delegate:A}},597:(Ri,In,Oe)=>{function E(e){return"function"==typeof e}function z(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const P=z(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Te(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Xe{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(E(i))try{i()}catch(s){n=s instanceof P?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Vt(s)}catch(o){n=n??[],o instanceof P?n=[...n,...o.errors]:n.push(o)}}if(n)throw new P(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Vt(n);else{if(n instanceof Xe){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Te(t,n)}remove(n){const{_finalizers:t}=this;t&&Te(t,n),n instanceof Xe&&n._removeParent(this)}}Xe.EMPTY=(()=>{const e=new Xe;return e.closed=!0,e})();const tn=Xe.EMPTY;function mn(e){return e instanceof Xe||e&&"closed"in e&&E(e.remove)&&E(e.add)&&E(e.unsubscribe)}function Vt(e){E(e)?e():e.unsubscribe()}const pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(e,n,...t){const{delegate:i}=Y;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Y;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function oe(e){Y.setTimeout(()=>{const{onUnhandledError:n}=pt;if(!n)throw e;n(e)})}function Ce(){}const Ge=it("C",void 0,void 0);function it(e,n,t){return{kind:e,value:n,error:t}}let Ve=null;function Be(e){if(pt.useDeprecatedSynchronousErrorHandling){const n=!Ve;if(n&&(Ve={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Ve;if(Ve=null,t)throw i}}else e()}class rn extends Xe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,mn(n)&&n.add(this)):this.destination=Bt}static create(n,t,i){return new Tn(n,t,i)}next(n){this.isStopped?ot(function nn(e){return it("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ot(function yt(e){return it("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ot(Ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function rt(e,n){return Ze.call(e,n)}class oi{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){We(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){We(i)}else We(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){We(t)}}}class Tn extends rn{constructor(n,t,i){let r;if(super(),E(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&pt.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&rt(n.next,s),error:n.error&&rt(n.error,s),complete:n.complete&&rt(n.complete,s)}):r=n}this.destination=new oi(r)}}function We(e){pt.useDeprecatedSynchronousErrorHandling?function An(e){pt.useDeprecatedSynchronousErrorHandling&&Ve&&(Ve.errorThrown=!0,Ve.error=e)}(e):oe(e)}function ot(e,n){const{onStoppedNotification:t}=pt;t&&Y.setTimeout(()=>t(e,n))}const Bt={closed:!0,next:Ce,error:function ie(e){throw e},complete:Ce},un="function"==typeof Symbol&&Symbol.observable||"@@observable";function sn(e){return e}function Bi(e){return 0===e.length?sn:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Ue=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function U(e){return e&&e instanceof rn||function er(e){return e&&E(e.next)&&E(e.error)&&E(e.complete)}(e)&&mn(e)}(t)?t:new Tn(t,i,r);return Be(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=ai(i))((r,s)=>{const o=new Tn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[un](){return this}pipe(...t){return Bi(t)(this)}toPromise(t){return new(t=ai(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=n=>new e(n),e})();function ai(e){var n;return null!==(n=e??pt.Promise)&&void 0!==n?n:Promise}const W=z(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let B=(()=>{class e extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new j(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new W}next(t){Be(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Be(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Be(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?tn:(this.currentObservers=null,s.push(t),new Xe(()=>{this.currentObservers=null,Te(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Ue;return t.source=this,t}}return e.create=(n,t)=>new j(n,t),e})();class j extends B{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:tn}}function X(e){return E(e?.lift)}function J(e){return n=>{if(X(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(e,n,t,i,r){return new Ye(e,n,t,i,r)}class Ye extends rn{constructor(n,t,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ge(e,n){return J((t,i)=>{let r=0;t.subscribe(de(i,s=>{i.next(e.call(n,s,r++))}))})}var Re=Oe(582);const gt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Yt(e){return E(e?.then)}function Nt(e){return E(e[un])}function Jt(e){return Symbol.asyncIterator&&E(e?.[Symbol.asyncIterator])}function _n(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const x=function L(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function G(e){return E(e?.[x])}function Q(e){return(0,Re.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield(0,Re.qq)(t.read());if(r)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(i)}}finally{t.releaseLock()}})}function ue(e){return E(e?.getReader)}function se(e){if(e instanceof Ue)return e;if(null!=e){if(Nt(e))return function jt(e){return new Ue(n=>{const t=e[un]();if(E(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gt(e))return function at(e){return new Ue(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Yt(e))return function et(e){return new Ue(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,oe)})}(e);if(Jt(e))return dn(e);if(G(e))return function Ut(e){return new Ue(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(ue(e))return function Bn(e){return dn(Q(e))}(e)}throw _n(e)}function dn(e){return new Ue(n=>{(function Wn(e,n){var t,i,r,s;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(t=(0,Re.KL)(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Yn(e,n,t,i=0,r=!1){const s=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function mt(e,n,t=1/0){return E(n)?mt((i,r)=>ge((s,o)=>n(i,s,r,o))(se(e(i,r))),t):("number"==typeof n&&(t=n),J((i,r)=>function Pt(e,n,t,i,r,s,o,a){const l=[];let d=0,f=0,g=!1;const m=()=>{g&&!l.length&&!d&&n.complete()},v=S=>d<i?I(S):l.push(S),I=S=>{s&&n.next(S),d++;let O=!1;se(t(S,f++)).subscribe(de(n,$=>{r?.($),s?v($):n.next($)},()=>{O=!0},void 0,()=>{if(O)try{for(d--;l.length&&d<i;){const $=l.shift();o?Yn(n,o,()=>I($)):I($)}m()}catch($){n.error($)}}))};return e.subscribe(de(n,v,()=>{g=!0,m()})),()=>{a?.()}}(i,r,e,t)))}function Dt(e=1/0){return mt(sn,e)}const Rt=new Ue(e=>e.complete());function on(e){return e&&E(e.schedule)}function pr(e){return e[e.length-1]}function ji(e){return E(pr(e))?e.pop():void 0}function gr(e){return on(pr(e))?e.pop():void 0}function Un(e,n=0){return J((t,i)=>{t.subscribe(de(i,r=>Yn(i,e,()=>i.next(r),n),()=>Yn(i,e,()=>i.complete(),n),r=>Yn(i,e,()=>i.error(r),n)))})}function yi(e,n=0){return J((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Or(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ue(t=>{Yn(t,n,()=>{const i=e[Symbol.asyncIterator]();Yn(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(e,n){return n?function T(e,n){if(null!=e){if(Nt(e))return function Ui(e,n){return se(e).pipe(yi(n),Un(n))}(e,n);if(gt(e))return function Ts(e,n){return new Ue(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Yt(e))return function Do(e,n){return se(e).pipe(yi(n),Un(n))}(e,n);if(Jt(e))return Or(e,n);if(G(e))return function Js(e,n){return new Ue(t=>{let i;return Yn(t,n,()=>{i=e[x](),Yn(t,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>E(i?.return)&&i.return()})}(e,n);if(ue(e))return function A(e,n){return Or(Q(e),n)}(e,n)}throw _n(e)}(e,n):se(e)}function C(...e){const n=gr(e),t=function jn(e,n){return"number"==typeof pr(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?se(i[0]):Dt(t)(b(i,n)):Rt}class y extends B{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function N(...e){return b(e,gr(e))}function K(e={}){const{connector:n=(()=>new B),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,d=0,f=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),o=l=void 0,f=g=!1},I=()=>{const S=o;v(),S?.unsubscribe()};return J((S,O)=>{d++,!g&&!f&&m();const $=l=l??n();O.add(()=>{d--,0===d&&!g&&!f&&(a=be(I,r))}),$.subscribe(O),!o&&d>0&&(o=new Tn({next:k=>$.next(k),error:k=>{g=!0,m(),a=be(v,t,k),$.error(k)},complete:()=>{f=!0,m(),a=be(v,i),$.complete()}}),se(S).subscribe(o))})(s)}}function be(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new Tn({next:()=>{i.unsubscribe(),e()}});return se(n(...t)).subscribe(i)}function ye(e,n){return J((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(de(i,l=>{r?.unsubscribe();let d=0;const f=s++;se(e(l,f)).subscribe(r=de(i,g=>i.next(n?n(l,g,f,d++):g),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Fe(e,n=sn){return e=e??bt,J((t,i)=>{let r,s=!0;t.subscribe(de(i,o=>{const a=n(o);(s||!e(r,a))&&(s=!1,r=a,i.next(o))}))})}function bt(e,n){return e===n}function _e(e){for(let n in e)if(e[n]===_e)return n;throw Error("Could not find renamed property on target object.")}function Ht(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ae(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function zn(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Qs=_e({__forward_ref__:_e});function V(e){return e.__forward_ref__=V,e.toString=function(){return Ae(this())},e}function R(e){return ne(e)?e():e}function ne(e){return"function"==typeof e&&e.hasOwnProperty(Qs)&&e.__forward_ref__===V}function ve(e){return e&&!!e.\u0275providers}class q extends Error{constructor(n,t){super(function vn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function Wu(e,n){throw new q(-201,!1)}function $i(e,n){null==e&&function je(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hl(e){return zu(e,$l)||zu(e,qu)}function zu(e,n){return e.hasOwnProperty(n)?e[n]:null}function ba(e){return e&&(e.hasOwnProperty(Ss)||e.hasOwnProperty(Ku))?e[Ss]:null}const $l=_e({\u0275prov:_e}),Ss=_e({\u0275inj:_e}),qu=_e({ngInjectableDef:_e}),Ku=_e({ngInjectorDef:_e});var ct=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ct||{});let wa;function li(e){const n=wa;return wa=e,n}function qf(e,n,t){const i=Hl(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ct.Optional?null:void 0!==n?n:void Wu(Ae(e))}const Xt=globalThis;class fe{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xs={},eo="__NG_DI_FLAG__",tr="ngTempTokenPath",fv=/\n/gm,Xf="__source";let Ns;function Pr(e){const n=Ns;return Ns=e,n}function gv(e,n=ct.Default){if(void 0===Ns)throw new q(-203,!1);return null===Ns?qf(e,void 0,n):Ns.get(e,n&ct.Optional?null:void 0,n)}function ee(e,n=ct.Default){return(function zf(){return wa}()||gv)(R(e),n)}function ce(e,n=ct.Default){return ee(e,Io(n))}function Io(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function is(e){const n=[];for(let t=0;t<e.length;t++){const i=R(e[t]);if(Array.isArray(i)){if(0===i.length)throw new q(900,!1);let r,s=ct.Default;for(let o=0;o<i.length;o++){const a=i[o],l=mv(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(ee(r,s))}else n.push(ee(i))}return n}function Ia(e,n){return e[eo]=n,e.prototype[eo]=n,e}function mv(e){return e[eo]}function _r(e){return{toString:e}.toString()}var nr=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(nr||{}),ci=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ci||{});const Mi={},Tt=[],Gl=_e({\u0275cmp:_e}),Qu=_e({\u0275dir:_e}),Xu=_e({\u0275pipe:_e}),to=_e({\u0275mod:_e}),rs=_e({\u0275fac:_e}),As=_e({__NG_ELEMENT_ID__:_e}),tp=_e({__NG_ENV_ID__:_e});function ed(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}t=r+1}}function Sa(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];e.setAttribute(n,o,a,s)}else{const s=r,o=t[++i];td(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),i++}}return i}function Gi(e){return 3===e||4===e||6===e}function td(e){return 64===e.charCodeAt(0)}function Na(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||Wl(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function Wl(e,n,t,i,r){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const Aa="ng-template";function np(e,n,t){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const o=e[i++];if(t&&"class"===s&&-1!==ed(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function nd(e){return 4===e.type&&e.value!==Aa}function _v(e,n,t){return n===(4!==e.type||t?e.value:Aa)}function id(e,n,t){let i=4;const r=e.attrs||[],s=function ip(e){for(let n=0;n<e.length;n++)if(Gi(e[n]))return n;return e.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!_v(e,l,t)||""===l&&1===n.length){if(Wi(i))return!1;o=!0}}else{const d=8&i?l:n[++a];if(8&i&&null!==e.attrs){if(!np(e.attrs,d,t)){if(Wi(i))return!1;o=!0}continue}const g=rd(8&i?"class":l,r,nd(e),t);if(-1===g){if(Wi(i))return!1;o=!0;continue}if(""!==d){let m;m=g>s?"":r[g+1].toLowerCase();const v=8&i?m:null;if(v&&-1!==ed(v,d,0)||2&i&&d!==m){if(Wi(i))return!1;o=!0}}}}else{if(!o&&!Wi(i)&&!Wi(l))return!1;if(o&&Wi(l))continue;o=!1,i=l|1&i}}return Wi(i)||o}function Wi(e){return 0==(1&e)}function rd(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let s=!1;for(;r<n.length;){const o=n[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function od(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function Ra(e,n,t=!1){for(let i=0;i<n.length;i++)if(id(e,n[i],t))return!0;return!1}function rp(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function zl(e,n){return e?":not("+n.trim()+")":n}function ql(e){let n=e[0],t=1,i=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&i){const a=e[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Wi(o)&&(n+=zl(s,r),r=""),i=o,s=s||!Wi(i);t++}return""!==r&&(n+=zl(s,r)),n}function Pn(e){return _r(()=>{const n=Zl(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ci.Emulated,styles:e.styles||Tt,_:null,schemas:e.schemas||null,tView:null,id:""};ap(t);const i=e.dependencies;return t.directiveDefs=To(i,!1),t.pipeDefs=To(i,!0),t.id=function cd(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function ld(e){return _t(e)||kn(e)}function vv(e){return null!==e}function wt(e){return _r(()=>({type:e.type,bootstrap:e.bootstrap||Tt,declarations:e.declarations||Tt,imports:e.imports||Tt,exports:e.exports||Tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Kl(e,n){if(null==e)return Mi;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,n&&(n[r]=s)}return t}function le(e){return _r(()=>{const n=Zl(e);return ap(n),n})}function ui(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _t(e){return e[Gl]||null}function kn(e){return e[Qu]||null}function Jn(e){return e[Xu]||null}function zi(e,n){const t=e[to]||null;if(!t&&!0===n)throw new Error(`Type ${Ae(e)} does not have '\u0275mod' property.`);return t}function Zl(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Mi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kl(e.inputs,n),outputs:Kl(e.outputs)}}function ap(e){e.features?.forEach(n=>n(e))}function To(e,n){if(!e)return null;const t=n?Jn:ld;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(vv)}const bn=0,me=1,qe=2,en=3,vr=4,no=5,di=6,So=7,wn=8,Ms=9,No=10,$e=11,Ma=12,Yl=13,Ao=14,Cn=15,Oa=16,Os=17,kr=18,io=19,lp=20,Fr=21,ss=22,ro=23,xa=24,ut=25,Pa=1,cp=2,bi=7,Ro=9,Qn=11;function Oi(e){return Array.isArray(e)&&"object"==typeof e[Pa]}function xi(e){return Array.isArray(e)&&!0===e[Pa]}function up(e){return 0!=(4&e.flags)}function Mo(e){return e.componentOffset>-1}function Oo(e){return 1==(1&e.flags)}function yr(e){return!!e.template}function ud(e){return 0!=(512&e[qe])}function so(e,n){return e.hasOwnProperty(rs)?e[rs]:null}let Hn=null,Jl=!1;function ir(e){const n=Hn;return Hn=e,n}const Po={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Rn(e){if(!ko(e)||e.dirty){if(!e.producerMustRecompute(e)&&!yp(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function vp(e){e.dirty=!0,function _p(e){if(void 0===e.liveConsumerNode)return;const n=Jl;Jl=!0;try{for(const t of e.liveConsumerNode)t.dirty||vp(t)}finally{Jl=n}}(e),e.consumerMarkedDirty?.(e)}function Ba(e){return e&&(e.nextProducerIndex=0),ir(e)}function dd(e,n){if(ir(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ko(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ao(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function yp(e){Lr(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Rn(t),i!==t.version))return!0}return!1}function hd(e){if(Lr(e),ko(e))for(let n=0;n<e.producerNode.length;n++)ao(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ao(e,n){if(function ja(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Lr(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)ao(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Lr(r),r.producerIndexOfThis[i]=n}}function ko(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Lr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let pd=null;const Xl=()=>{},Ov=(()=>({...Po,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Xl}))();class xv{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Xn(){return md}function md(e){return e.type.prototype.ngOnChanges&&(e.setInput=kv),Pv}function Pv(){const e=ec(this),n=e?.current;if(n){const t=e.previous;if(t===Mi)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function kv(e,n,t,i){const r=this.declaredInputs[t],s=ec(e)||function Fv(e,n){return e[Sp]=n}(e,{previous:Mi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new xv(l&&l.currentValue,n,a===Mi),e[i]=n}Xn.ngInherit=!0;const Sp="__ngSimpleChanges__";function ec(e){return e[Sp]||null}const rr=function(e,n,t){};function kt(e){for(;Array.isArray(e);)e=e[bn];return e}function nc(e,n){return kt(n[e])}function hi(e,n){return kt(n[e.index])}function xs(e,n){return e.data[n]}function Ps(e,n){return e[n]}function qi(e,n){const t=n[e];return Oi(t)?t:t[bn]}function os(e,n){return null==n?null:e[n]}function Ap(e){e[Os]=0}function Uv(e){1024&e[qe]||(e[qe]|=1024,Rp(e,1))}function ic(e){1024&e[qe]&&(e[qe]&=-1025,Rp(e,-1))}function Rp(e,n){let t=e[en];if(null===t)return;t[no]+=n;let i=t;for(t=t[en];null!==t&&(1===n&&1===i[no]||-1===n&&0===i[no]);)t[no]+=n,i=t,t=t[en]}const Le={lFrame:qa(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oc(){return Le.bindingsEnabled}function ks(){return null!==Le.skipHydrationRootTNode}function te(){return Le.lFrame.lView}function Ct(){return Le.lFrame.tView}function ei(e){return Le.lFrame.contextLView=e,e[wn]}function wi(e){return Le.lFrame.contextLView=null,e}function ti(){let e=ac();for(;null!==e&&64===e.type;)e=e.parent;return e}function ac(){return Le.lFrame.currentTNode}function Vr(e,n){const t=Le.lFrame;t.currentTNode=e,t.isParent=n}function Wa(){return Le.lFrame.isParent}function yd(){Le.lFrame.isParent=!1}function lo(){return Le.lFrame.bindingIndex++}function Br(e){const n=Le.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Vp(e,n){const t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=e,Cd(n)}function Cd(e){Le.lFrame.currentDirectiveIndex=e}function Bp(){return Le.lFrame.currentQueryIndex}function za(e){Le.lFrame.currentQueryIndex=e}function zv(e){const n=e[me];return 2===n.type?n.declTNode:1===n.type?e[di]:null}function jp(e,n,t){if(t&ct.SkipSelf){let r=n,s=e;for(;!(r=r.parent,null!==r||t&ct.Host||(r=zv(s),null===r||(s=s[Ao],10&r.type))););if(null===r)return!1;n=r,e=s}const i=Le.lFrame=Up();return i.currentTNode=n,i.lView=e,!0}function cc(e){const n=Up(),t=e[me];Le.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Up(){const e=Le.lFrame,n=null===e?null:e.child;return null===n?qa(e):n}function qa(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Hp(){const e=Le.lFrame;return Le.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const $p=Hp;function Dd(){const e=Hp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ci(){return Le.lFrame.selectedIndex}function co(e){Le.lFrame.selectedIndex=e}function En(){const e=Le.lFrame;return xs(e.tView,e.selectedIndex)}let Wp=!0;function Ka(){return Wp}function Fs(e){Wp=e}function uc(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),null!=f&&(e.destroyHooks??=[]).push(t,f)}}function dc(e,n,t){fc(e,n,3,t)}function hc(e,n,t,i){(3&e[qe])===t&&fc(e,n,t,i)}function Za(e,n){let t=e[qe];(3&t)===n&&(t&=8191,t+=1,e[qe]=t)}function fc(e,n,t,i){const s=i??-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&e[Os]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(e[Os]+=65536),(a<s||-1==s)&&(Td(e,t,n,l),e[Os]=(4294901760&e[Os])+l+2),l++}function zp(e,n){rr(4,e,n);const t=ir(null);try{n.call(e)}finally{ir(t),rr(5,e,n)}}function Td(e,n,t,i){const r=t[i]<0,s=t[i+1],a=e[r?-t[i]:t[i]];r?e[qe]>>13<e[Os]>>16&&(3&e[qe])===n&&(e[qe]+=8192,zp(a,s)):zp(a,s)}const Fo=-1;class Lo{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function pc(e){return e!==Fo}function Ya(e){return 32767&e}function Ja(e,n){let t=function ty(e){return e>>16}(e),i=n;for(;t>0;)i=i[Ao],t--;return i}let Rd=!0;function gc(e){const n=Rd;return Rd=e,n}const Zp=255,iy=5;let ry=0;const h={};function u(e,n){const t=_(e,n);if(-1!==t)return t;const i=n[me];i.firstCreatePass&&(e.injectorIndex=n.length,p(i.data,e),p(n,null),p(i.blueprint,null));const r=w(e,n),s=e.injectorIndex;if(pc(r)){const o=Ya(r),a=Ja(r,n),l=a[me].data;for(let d=0;d<8;d++)n[s+d]=a[o+d]|l[o+d]}return n[s+8]=r,s}function p(e,n){e.push(0,0,0,0,0,0,0,0,n)}function _(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function w(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=vc(r),null===i)return Fo;if(t++,r=r[Ao],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Fo}function M(e,n,t){!function c(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(As)&&(i=t[As]),null==i&&(i=t[As]=ry++);const r=i&Zp;n.data[e+(r>>iy)]|=1<<r}(e,n,t)}function re(e,n,t){if(t&ct.Optional||void 0!==e)return e;Wu()}function we(e,n,t,i){if(t&ct.Optional&&void 0===i&&(i=null),!(t&(ct.Self|ct.Host))){const r=e[Ms],s=li(void 0);try{return r?r.get(n,i,t&ct.Optional):qf(n,i,t&ct.Optional)}finally{li(s)}}return re(i,0,t)}function Me(e,n,t,i=ct.Default,r){if(null!==e){if(2048&n[qe]&&!(i&ct.Self)){const o=function sy(e,n,t,i,r){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[qe]&&!(512&o[qe]);){const a=st(s,o,t,i|ct.Self,h);if(a!==h)return a;let l=s.parent;if(!l){const d=o[lp];if(d){const f=d.get(t,h,i);if(f!==h)return f}l=vc(o),o=o[Ao]}s=l}return r}(e,n,t,i,h);if(o!==h)return o}const s=st(e,n,t,i,h);if(s!==h)return s}return we(n,t,i,r)}function st(e,n,t,i,r){const s=function Yp(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(As)?e[As]:void 0;return"number"==typeof n?n>=0?n&Zp:Jp:n}(t);if("function"==typeof s){if(!jp(n,e,i))return i&ct.Host?re(r,0,i):we(n,t,i,r);try{let o;if(o=s(i),null!=o||i&ct.Optional)return o;Wu()}finally{$p()}}else if("number"==typeof s){let o=null,a=_(e,n),l=Fo,d=i&ct.Host?n[Cn][di]:null;for((-1===a||i&ct.SkipSelf)&&(l=-1===a?w(e,n):n[a+8],l!==Fo&&Md(i,!1)?(o=n[me],a=Ya(l),n=Ja(l,n)):a=-1);-1!==a;){const f=n[me];if(mc(s,a,f.data)){const g=Pi(a,n,t,o,i,d);if(g!==h)return g}l=n[a+8],l!==Fo&&Md(i,n[me].data[a+8]===d)&&mc(s,a,n)?(o=f,a=Ya(l),n=Ja(l,n)):a=-1}}return r}function Pi(e,n,t,i,r,s){const o=n[me],a=o.data[e+8],f=wr(a,o,t,null==i?Mo(a)&&Rd:i!=o&&0!=(3&a.type),r&ct.Host&&s===a);return null!==f?jr(n,o,f,a):h}function wr(e,n,t,i,r){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,f=s>>20,m=r?a+f:e.directiveEnd;for(let v=i?a:a+f;v<m;v++){const I=o[v];if(v<l&&t===I||v>=l&&I.type===t)return v}if(r){const v=o[l];if(v&&yr(v)&&v.type===t)return l}return null}function jr(e,n,t,i){let r=e[t];const s=n.data;if(function Xv(e){return e instanceof Lo}(r)){const o=r;o.resolving&&function ya(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new q(-200,`Circular dependency in DI detected for ${e}${t}`)}(function nt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}(s[t]));const a=gc(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?li(o.injectImpl):null;jp(e,i,ct.Default);try{r=e[t]=o.factory(void 0,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&function Qv(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=md(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==d&&li(d),gc(a),o.resolving=!1,$p()}}return r}function mc(e,n,t){return!!(t[n+(e>>iy)]&1<<e)}function Md(e,n){return!(e&ct.Self||e&ct.Host&&n)}class pi{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return Me(this._tNode,this._lView,n,Io(i),t)}}function Jp(){return new pi(ti(),te())}function Dn(e){return _r(()=>{const n=e.prototype.constructor,t=n[rs]||_c(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[rs]||_c(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function _c(e){return ne(e)?()=>{const n=_c(R(e));return n&&n()}:so(e)}function vc(e){const n=e[me],t=n.type;return 2===t?n.declTNode:1===t?e[di]:null}const bc="__parameters__";function Cc(e,n,t){return _r(()=>{const i=function oy(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,d,f){const g=l.hasOwnProperty(bc)?l[bc]:Object.defineProperty(l,bc,{value:[]})[bc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Dc(e,n){e.forEach(t=>Array.isArray(t)?Dc(t,n):n(t))}function cD(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Qp(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Pd(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}function Cr(e,n,t){let i=Ic(e,n);return i>=0?e[1|i]=t:(i=~i,function YF(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function ay(e,n){const t=Ic(e,n);if(t>=0)return e[1|t]}function Ic(e,n){return function uD(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<t];if(n===o)return s<<t;o>n?r=s:i=s+1}return~(r<<t)}(e,n,1)}const kd=Ia(Cc("Optional"),8),eg=Ia(Cc("SkipSelf"),4);function sg(e){return 128==(128&e.flags)}var Bo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bo||{});const _L=/^>|^->|<!--|-->|--!>|<!-$/g,vL=/(<|>)/g,yL="\u200b$1\u200b";const hy=new Map;let bL=0;const py="__ngContext__";function ki(e,n){Oi(n)?(e[py]=n[io],function CL(e){hy.set(e[io],e)}(n)):e[py]=n}let gy;function my(e,n){return gy(e,n)}function Vd(e){const n=e[en];return xi(n)?n[en]:n}function RD(e){return OD(e[Ma])}function MD(e){return OD(e[vr])}function OD(e){for(;null!==e&&!xi(e);)e=e[vr];return e}function Nc(e,n,t,i,r){if(null!=i){let s,o=!1;xi(i)?s=i:Oi(i)&&(o=!0,i=i[bn]);const a=kt(i);0===e&&null!==t?null==r?FD(n,t,a):Qa(n,t,a,r||null,!0):1===e&&null!==t?Qa(n,t,a,r||null,!0):2===e?function hg(e,n,t){const i=ug(e,n);i&&function UL(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function GL(e,n,t,i,r){const s=t[bi];s!==kt(t)&&Nc(n,e,i,s,r);for(let a=Qn;a<t.length;a++){const l=t[a];jd(l[me],l,e,n,i,s)}}(n,e,s,t,r)}}function _y(e,n){return e.createComment(function CD(e){return e.replace(_L,n=>n.replace(vL,yL))}(n))}function lg(e,n,t){return e.createElement(n,t)}function PD(e,n){const t=e[Ro],i=t.indexOf(n);ic(n),t.splice(i,1)}function cg(e,n){if(e.length<=Qn)return;const t=Qn+n,i=e[t];if(i){const r=i[Oa];null!==r&&r!==e&&PD(r,i),n>0&&(e[t-1][vr]=i[vr]);const s=Qp(e,Qn+n);!function xL(e,n){jd(e,n,n[$e],2,null,null),n[bn]=null,n[di]=null}(i[me],i);const o=s[kr];null!==o&&o.detachView(s[me]),i[en]=null,i[vr]=null,i[qe]&=-129}return i}function vy(e,n){if(!(256&n[qe])){const t=n[$e];n[ro]&&hd(n[ro]),n[xa]&&hd(n[xa]),t.destroyNode&&jd(e,n,t,3,null,null),function FL(e){let n=e[Ma];if(!n)return yy(e[me],e);for(;n;){let t=null;if(Oi(n))t=n[Ma];else{const i=n[Qn];i&&(t=i)}if(!t){for(;n&&!n[vr]&&n!==e;)Oi(n)&&yy(n[me],n),n=n[en];null===n&&(n=e),Oi(n)&&yy(n[me],n),t=n&&n[vr]}n=t}}(n)}}function yy(e,n){if(!(256&n[qe])){n[qe]&=-129,n[qe]|=256,function jL(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof Lo)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];rr(4,a,l);try{l.call(a)}finally{rr(5,a,l)}}else{rr(4,r,s);try{s.call(r)}finally{rr(5,r,s)}}}}}(e,n),function BL(e,n){const t=e.cleanup,i=n[So];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(n[So]=null);const r=n[Fr];if(null!==r){n[Fr]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,n),1===n[me].type&&n[$e].destroy();const t=n[Oa];if(null!==t&&xi(n[en])){t!==n[en]&&PD(t,n);const i=n[kr];null!==i&&i.detachView(e)}!function EL(e){hy.delete(e[io])}(n)}}function by(e,n,t){return function kD(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[bn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===ci.None||s===ci.Emulated)return null}return hi(i,t)}}(e,n.parent,t)}function Qa(e,n,t,i,r){e.insertBefore(n,t,i,r)}function FD(e,n,t){e.appendChild(n,t)}function LD(e,n,t,i,r){null!==i?Qa(e,n,t,i,r):FD(e,n,t)}function ug(e,n){return e.parentNode(n)}function VD(e,n,t){return jD(e,n,t)}let wy,Iy,jD=function BD(e,n,t){return 40&e.type?hi(e,t):null};function dg(e,n,t,i){const r=by(e,i,n),s=n[$e],a=VD(i.parent||n[di],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)LD(s,r,t[l],a,!1);else LD(s,r,t,a,!1);void 0!==wy&&wy(s,i,n,t,r)}function Bd(e,n){if(null!==n){const t=n.type;if(3&t)return hi(n,e);if(4&t)return Cy(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return Bd(e,i);{const r=e[n.index];return xi(r)?Cy(-1,r):kt(r)}}if(32&t)return my(n,e)()||kt(e[n.index]);{const i=HD(e,n);return null!==i?Array.isArray(i)?i[0]:Bd(Vd(e[Cn]),i):Bd(e,n.next)}}return null}function HD(e,n){return null!==n?e[Cn][di].projection[n.projection]:null}function Cy(e,n){const t=Qn+e+1;if(t<n.length){const i=n[t],r=i[me].firstChild;if(null!==r)return Bd(i,r)}return n[bi]}function Ey(e,n,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===n&&(a&&ki(kt(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)Ey(e,n,t.child,i,r,s,!1),Nc(n,e,r,a,s);else if(32&l){const d=my(t,i);let f;for(;f=d();)Nc(n,e,r,f,s);Nc(n,e,r,a,s)}else 16&l?GD(e,n,i,t,r,s):Nc(n,e,r,a,s);t=o?t.projectionNext:t.next}}function jd(e,n,t,i,r,s){Ey(t,i,e.firstChild,n,r,s,!1)}function GD(e,n,t,i,r,s){const o=t[Cn],l=o[di].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Nc(n,e,r,l[d],s);else{let d=l;const f=o[en];sg(i)&&(d.flags|=128),Ey(e,n,d,f,r,s,!0)}}function WD(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function zD(e,n,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Sa(e,n,i),null!==r&&WD(e,n,r),null!==s&&function zL(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class YD{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function jo(e){return e instanceof YD?e.changingThisBreaksApplicationSecurity:e}const Gd=new fe("ENVIRONMENT_INITIALIZER"),oI=new fe("INJECTOR",-1),aI=new fe("INJECTOR_DEF_TYPES");class My{get(n,t=Xs){if(t===Xs){const i=new Error(`NullInjectorError: No provider for ${Ae(n)}!`);throw i.name="NullInjectorError",i}return t}}function y2(...e){return{\u0275providers:lI(0,e),\u0275fromNgModule:!0}}function lI(e,...n){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Dc(n,o=>{const a=o;mg(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&cI(r,s),t}function cI(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];xy(r,s=>{n(s,i)})}}function mg(e,n,t,i){if(!(e=R(e)))return!1;let r=null,s=ba(e);const o=!s&&_t(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=ba(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)mg(d,n,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;i.add(r);try{Dc(s.imports,f=>{mg(f,n,t,i)&&(d||=[],d.push(f))})}finally{}void 0!==d&&cI(d,n)}if(!a){const d=so(r)||(()=>new r);n({provide:r,useFactory:d,deps:Tt},r),n({provide:aI,useValue:r,multi:!0},r),n({provide:Gd,useValue:()=>ee(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const d=e;xy(l,f=>{n(f,d)})}}}return r!==e&&void 0!==e.providers}function xy(e,n){for(let t of e)ve(t)&&(t=t.\u0275providers),Array.isArray(t)?xy(t,n):n(t)}const b2=_e({provide:String,useValue:_e});function Py(e){return null!==e&&"object"==typeof e&&b2 in e}function Xa(e){return"function"==typeof e}const ky=new fe("Set Injector scope."),_g={},C2={};let Fy;function vg(){return void 0===Fy&&(Fy=new My),Fy}class Ki{}class Oc extends Ki{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vy(n,o=>this.processProvider(o)),this.records.set(oI,xc(void 0,this)),r.has("environment")&&this.records.set(Ki,xc(void 0,this));const s=this.records.get(ky);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(aI.multi,Tt,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Pr(this),i=li(void 0);try{return n()}finally{Pr(t),li(i)}}get(n,t=Xs,i=ct.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(tp))return n[tp](this);i=Io(i);const s=Pr(this),o=li(void 0);try{if(!(i&ct.SkipSelf)){let l=this.records.get(n);if(void 0===l){const d=function S2(e){return"function"==typeof e||"object"==typeof e&&e instanceof fe}(n)&&Hl(n);l=d&&this.injectableDefInScope(d)?xc(Ly(n),_g):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&ct.Self?vg():this.parent).get(n,t=i&ct.Optional&&t===Xs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[tr]=a[tr]||[]).unshift(Ae(n)),s)throw a;return function Ta(e,n,t,i){const r=e[tr];throw n[Xf]&&r.unshift(n[Xf]),e.message=function WE(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Ae(n);if(Array.isArray(n))r=n.map(Ae).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(fv,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[tr]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{li(o),Pr(s)}}resolveInjectorInitializers(){const n=Pr(this),t=li(void 0);try{const r=this.get(Gd.multi,Tt,ct.Self);for(const s of r)s()}finally{Pr(n),li(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Ae(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(n){let t=Xa(n=R(n))?n:R(n&&n.provide);const i=function D2(e){return Py(e)?xc(void 0,e.useValue):xc(hI(e),_g)}(n);if(Xa(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=xc(void 0,_g,!0),r.factory=()=>is(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===_g&&(t.value=C2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function T2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=R(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ly(e){const n=Hl(e),t=null!==n?n.factory:so(e);if(null!==t)return t;if(e instanceof fe)throw new q(204,!1);if(e instanceof Function)return function E2(e){const n=e.length;if(n>0)throw Pd(n,"?"),new q(204,!1);const t=function dv(e){return e&&(e[$l]||e[qu])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new q(204,!1)}function hI(e,n,t){let i;if(Xa(e)){const r=R(e);return so(r)||Ly(r)}if(Py(e))i=()=>R(e.useValue);else if(function dI(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...is(e.deps||[]));else if(function uI(e){return!(!e||!e.useExisting)}(e))i=()=>ee(R(e.useExisting));else{const r=R(e&&(e.useClass||e.provide));if(!function I2(e){return!!e.deps}(e))return so(r)||Ly(r);i=()=>new r(...is(e.deps))}return i}function xc(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Vy(e,n){for(const t of e)Array.isArray(t)?Vy(t,n):t&&ve(t)?Vy(t.\u0275providers,n):n(t)}const yg=new fe("AppId",{providedIn:"root",factory:()=>N2}),N2="ng",fI=new fe("Platform Initializer"),Ls=new fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pI=new fe("CSP nonce",{providedIn:"root",factory:()=>function Rc(){if(void 0!==Iy)return Iy;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gI=(e,n,t)=>null;function zy(e,n,t=!1){return gI(e,n,t)}class V2{}class vI{}class j2{resolveComponentFactory(n){throw function B2(e){const n=Error(`No component factory found for ${Ae(e)}.`);return n.ngComponent=e,n}(n)}}let Ig=(()=>{class e{static#e=this.NULL=new j2}return e})();function U2(){return Fc(ti(),te())}function Fc(e,n){return new $t(hi(e,n))}let $t=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=U2}return e})();function H2(e){return e instanceof $t?e.nativeElement:e}class Zy{}let Er=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $2(){const e=te(),t=qi(ti().index,e);return(Oi(t)?t:e)[$e]}()}return e})(),G2=(()=>{class e{static#e=this.\u0275prov=he({token:e,providedIn:"root",factory:()=>null})}return e})();class Lc{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const bI=new Lc("16.2.12"),Yy={};function DI(e,n=null,t=null,i){const r=II(e,n,t,i);return r.resolveInjectorInitializers(),r}function II(e,n=null,t=null,i,r=new Set){const s=[t||Tt,y2(e)];return i=i||("object"==typeof e?void 0:Ae(e)),new Oc(s,n||vg(),i||null,r)}let Ei=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Xs;static#t=this.NULL=new My;static create(t,i){if(Array.isArray(t))return DI({name:""},i,t,"");{const r=t.name??"";return DI({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=he({token:e,providedIn:"any",factory:()=>ee(oI)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Jy(e){return e.ngOriginalError}class fo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Jy(n);for(;t&&Jy(t);)t=Jy(t);return t||null}}function Qy(e){return n=>{setTimeout(e,void 0,n)}}const xe=class Q2 extends B{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,s=t||(()=>null),o=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Qy(s),r&&(r=Qy(r)),o&&(o=Qy(o)));const a=super.subscribe({next:r,error:s,complete:o});return n instanceof Xe&&n.add(a),a}};function SI(...e){}class dt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function X2(){const e="function"==typeof Xt.requestAnimationFrame;let n=Xt[e?"requestAnimationFrame":"setTimeout"],t=Xt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function nV(e){const n=()=>{!function tV(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,e0(e),e.isCheckStableRunning=!0,Xy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),e0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function rV(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return NI(e),t.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),AI(e)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return NI(e),t.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),AI(e)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,e0(e),Xy(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new q(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,eV,SI,SI);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const eV={};function Xy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function e0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function NI(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function AI(e){e._nesting--,Xy(e)}class iV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const RI=new fe("",{providedIn:"root",factory:MI});function MI(){const e=ce(dt);let n=!0;return C(new Ue(r=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(n),r.complete()})}),new Ue(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const o=e.onUnstable.subscribe(()=>{dt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(K()))}function po(e){return e instanceof Function?e():e}let t0=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e})}return e})();function qd(e){for(;e;){e[qe]|=64;const n=Vd(e);if(ud(e)&&!n)return e;e=n}return null}const FI=new fe("",{providedIn:"root",factory:()=>!1});let Ng=null;function jI(e,n){return e[n]??$I()}function UI(e,n){const t=$I();t.producerNode?.length&&(e[n]=Ng,t.lView=e,Ng=HI())}const pV={...Po,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{qd(e.lView)},lView:null};function HI(){return Object.create(pV)}function $I(){return Ng??=HI(),Ng}const Ke={};function Ne(e){GI(Ct(),te(),Ci()+e,!1)}function GI(e,n,t,i){if(!i)if(3==(3&n[qe])){const s=e.preOrderCheckHooks;null!==s&&dc(n,s,t)}else{const s=e.preOrderHooks;null!==s&&hc(n,s,0,t)}co(t)}function F(e,n=ct.Default){const t=te();return null===t?ee(e,n):Me(ti(),t,R(e),n)}function Ag(e,n,t,i,r,s,o,a,l,d,f){const g=n.blueprint.slice();return g[bn]=r,g[qe]=140|i,(null!==d||e&&2048&e[qe])&&(g[qe]|=2048),Ap(g),g[en]=g[Ao]=e,g[wn]=t,g[No]=o||e&&e[No],g[$e]=a||e&&e[$e],g[Ms]=l||e&&e[Ms]||null,g[di]=s,g[io]=function wL(){return bL++}(),g[ss]=f,g[lp]=d,g[Cn]=2==n.type?e[Cn]:g,g}function Uc(e,n,t,i,r){let s=e.data[n];if(null===s)s=function n0(e,n,t,i,r){const s=ac(),o=Wa(),l=e.data[n]=function CV(e,n,t,i,r,s){let o=n?n.injectorIndex:-1,a=0;return ks()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,i,r),function Fp(){return Le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Ga(){const e=Le.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Vr(s,!0),s}function Kd(e,n,t,i){if(0===t)return-1;const r=n.length;for(let s=0;s<t;s++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function zI(e,n,t,i,r){const s=jI(n,ro),o=Ci(),a=2&i;try{co(-1),a&&n.length>ut&&GI(e,n,ut,!1),rr(a?2:0,r);const d=a?s:null,f=Ba(d);try{null!==d&&(d.dirty=!1),t(i,r)}finally{dd(d,f)}}finally{a&&null===n[ro]&&UI(n,ro),co(o),rr(a?3:1,r)}}function r0(e,n,t){if(up(n)){const i=ir(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{ir(i)}}}function s0(e,n,t){oc()&&(function AV(e,n,t,i){const r=t.directiveStart,s=t.directiveEnd;Mo(t)&&function FV(e,n,t){const i=hi(n,e),r=qI(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Rg(e,Ag(e,r,null,o,i,n,null,e[No].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||u(t,n),ki(i,n);const o=t.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],d=jr(n,e,a,t);ki(d,n),null!==o&&LV(0,a-r,d,l,0,o),yr(l)&&(qi(t.index,n)[wn]=jr(n,e,a,t))}}(e,n,t,hi(t,n)),64==(64&t.flags)&&QI(e,n,t))}function o0(e,n,t=hi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(n,e):e[o];e[r++]=a}}}function qI(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=a0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function a0(e,n,t,i,r,s,o,a,l,d,f){const g=ut+i,m=g+r,v=function mV(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Ke);return t}(g,m),I="function"==typeof d?d():d;return v[me]={type:e,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1,ssrId:f}}let KI=e=>null;function ZI(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const s=e[r];null===i?YI(t,n,r,s):i.hasOwnProperty(r)&&YI(t,n,i[r],s)}return t}function YI(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function l0(e,n,t,i){if(oc()){const r=null===i?null:{"":-1},s=function MV(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ra(n,o.selectors,!1))if(i||(i=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),c0(e,n,a.length)}else i.unshift(o),c0(e,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&JI(e,n,t,o,r,a),r&&function OV(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const s=t[n[r+1]];if(null==s)throw new q(-301,!1);i.push(n[r],s)}}}(t,i,r)}t.mergedAttrs=Na(t.mergedAttrs,t.attrs)}function JI(e,n,t,i,r,s){for(let d=0;d<i.length;d++)M(u(t,n),e,i[d].type);!function PV(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let d=0;d<i.length;d++){const f=i[d];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,l=Kd(e,n,i.length,null);for(let d=0;d<i.length;d++){const f=i[d];t.mergedAttrs=Na(t.mergedAttrs,f.hostAttrs),kV(e,t,n,l,f),xV(l,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function EV(e,n,t){const r=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,d=null;for(let f=n.directiveStart;f<r;f++){const g=s[f],m=t?t.get(g):null,I=m?m.outputs:null;l=ZI(g.inputs,f,l,m?m.inputs:null),d=ZI(g.outputs,f,d,I);const S=null===l||null===o||nd(n)?null:VV(l,f,o);a.push(S)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=d}(e,t,s)}function QI(e,n,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function wd(){return Le.lFrame.currentDirectiveIndex}();try{co(s);for(let a=i;a<r;a++){const l=e.data[a],d=n[a];Cd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&RV(l,d)}}finally{co(-1),Cd(o)}}function RV(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function c0(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function xV(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;yr(n)&&(t[""]=e)}}function kV(e,n,t,i,r){e.data[i]=r;const s=r.factory||(r.factory=so(r.type)),o=new Lo(s,yr(r),F);e.blueprint[i]=o,t[i]=o,function SV(e,n,t,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function NV(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(e,n,i,Kd(e,t,r.hostVars,Ke),r)}function Vs(e,n,t,i,r,s){const o=hi(e,n);!function u0(e,n,t,i,r,s,o){if(null==s)e.removeAttribute(n,r,t);else{const a=null==o?Ee(s):o(s,i||"",r);e.setAttribute(n,r,a,t)}}(n[$e],o,s,e.value,t,i,r)}function LV(e,n,t,i,r,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)XI(i,t,o[a++],o[a++],o[a++])}function XI(e,n,t,i,r){const s=ir(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(n,r)),null!==e.setInput?e.setInput(n,r,t,i):n[i]=r}finally{ir(s)}}function VV(e,n,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function eT(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null,null]}function tT(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=e.data[s];za(t[i]),o.contentQueries(2,n[s],s)}}}function Rg(e,n){return e[Ma]?e[Yl][vr]=n:e[Ma]=n,e[Yl]=n,n}function d0(e,n,t){za(0);const i=ir(null);try{n(e,t)}finally{ir(i)}}function nT(e){return e[So]||(e[So]=[])}function iT(e){return e.cleanup||(e.cleanup=[])}function sT(e,n){const t=e[Ms],i=t?t.get(fo,null):null;i&&i.handleError(n)}function h0(e,n,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];XI(e.data[o],n[o],i,a,r)}}function BV(e,n){const t=qi(n,e),i=t[me];!function jV(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[bn];null!==r&&null===t[ss]&&(t[ss]=zy(r,t[Ms])),f0(i,t,t[wn])}function f0(e,n,t){cc(n);try{const i=e.viewQuery;null!==i&&d0(1,i,t);const r=e.template;null!==r&&zI(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&tT(e,n),e.staticViewQueries&&d0(2,e.viewQuery,t);const s=e.components;null!==s&&function UV(e,n){for(let t=0;t<n.length;t++)BV(e,n[t])}(n,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[qe]&=-5,Dd()}}let oT=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function Mv(e,n,t){const i=Object.create(Ov);t&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=n;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>vp(i),run:()=>{if(i.dirty=!1,i.hasRun&&!yp(i))return;i.hasRun=!0;const o=Ba(i);try{i.cleanupFn(),i.cleanupFn=Xl,i.fn(r)}finally{dd(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e})}return e})();function Mg(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=zn(r,a):2==s&&(i=zn(i,a+": "+n[++o]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function Zd(e,n,t,i,r=!1){for(;null!==t;){const s=n[t.index];null!==s&&i.push(kt(s)),xi(s)&&aT(s,i);const o=t.type;if(8&o)Zd(e,n,t.child,i);else if(32&o){const a=my(t,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=HD(n,t);if(Array.isArray(a))i.push(...a);else{const l=Vd(n[Cn]);Zd(l[me],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function aT(e,n){for(let t=Qn;t<e.length;t++){const i=e[t],r=i[me].firstChild;null!==r&&Zd(i[me],i,r,n)}e[bi]!==e[bn]&&n.push(e[bi])}function Og(e,n,t,i=!0){const r=n[No],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{lT(e,n,e.template,t)}catch(l){throw i&&sT(n,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function lT(e,n,t,i){const r=n[qe];if(256!=(256&r)){n[No].effectManager?.flush(),cc(n);try{Ap(n),function kp(e){return Le.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&zI(e,n,t,2,i);const o=3==(3&r);if(o){const d=e.preOrderCheckHooks;null!==d&&dc(n,d,null)}else{const d=e.preOrderHooks;null!==d&&hc(n,d,0,null),Za(n,0)}if(function GV(e){for(let n=RD(e);null!==n;n=MD(n)){if(!n[cp])continue;const t=n[Ro];for(let i=0;i<t.length;i++){Uv(t[i])}}}(n),cT(n,2),null!==e.contentQueries&&tT(e,n),o){const d=e.contentCheckHooks;null!==d&&dc(n,d)}else{const d=e.contentHooks;null!==d&&hc(n,d,1),Za(n,1)}!function gV(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const i=jI(n,xa);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)co(~s);else{const o=s,a=t[++r],l=t[++r];Vp(a,o),i.dirty=!1;const d=Ba(i);try{l(2,n[o])}finally{dd(i,d)}}}}finally{null===n[xa]&&UI(n,xa),co(-1)}}(e,n);const a=e.components;null!==a&&dT(n,a,0);const l=e.viewQuery;if(null!==l&&d0(2,l,i),o){const d=e.viewCheckHooks;null!==d&&dc(n,d)}else{const d=e.viewHooks;null!==d&&hc(n,d,2),Za(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[qe]&=-73,ic(n)}finally{Dd()}}}function cT(e,n){for(let t=RD(e);null!==t;t=MD(t))for(let i=Qn;i<t.length;i++)uT(t[i],n)}function WV(e,n,t){uT(qi(n,e),t)}function uT(e,n){if(!function jv(e){return 128==(128&e[qe])}(e))return;const t=e[me],i=e[qe];if(80&i&&0===n||1024&i||2===n)lT(t,e,t.template,e[wn]);else if(e[no]>0){cT(e,1);const r=t.components;null!==r&&dT(e,r,1)}}function dT(e,n,t){for(let i=0;i<n.length;i++)WV(e,n[i],t)}class Yd{get rootNodes(){const n=this._lView,t=n[me];return Zd(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(n){this._lView[wn]=n}get destroyed(){return 256==(256&this._lView[qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[en];if(xi(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(cg(n,i),Qp(t,i))}this._attachedToViewContainer=!1}vy(this._lView[me],this._lView)}onDestroy(n){!function rc(e,n){if(256==(256&e[qe]))throw new q(911,!1);null===e[Fr]&&(e[Fr]=[]),e[Fr].push(n)}(this._lView,n)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[qe]&=-129}reattach(){this._lView[qe]|=128}detectChanges(){Og(this._lView[me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kL(e,n){jd(e,n,n[$e],2,null,null)}(this._lView[me],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=n}}class zV extends Yd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Og(n[me],n,n[wn],!1)}checkNoChanges(){}get context(){return null}}class hT extends Ig{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=_t(n);return new Jd(t,this.ngModule)}}function fT(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class KV{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Io(i);const r=this.injector.get(n,Yy,i);return r!==Yy||t===Yy?r:this.parentInjector.get(n,t,i)}}class Jd extends vI{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=fT(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return fT(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function ad(e){return e.map(ql).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let s=(r=r||this.ngModule)instanceof Ki?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new KV(n,s):n,a=o.get(Zy,null);if(null===a)throw new q(407,!1);const g={rendererFactory:a,sanitizer:o.get(G2,null),effectManager:o.get(oT,null),afterRenderEventManager:o.get(t0,null)},m=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",I=i?function _V(e,n,t,i){const s=i.get(FI,!1)||t===ci.ShadowDom,o=e.selectRootElement(n,s);return function vV(e){KI(e)}(o),o}(m,i,this.componentDef.encapsulation,o):lg(m,v,function qV(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),$=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==I&&(k=zy(I,o,!0));const Z=a0(0,null,null,1,0,null,null,null,null,null,null),ae=Ag(null,Z,null,$,null,null,g,m,o,null,k);let pe,He;cc(ae);try{const Et=this.componentDef;let St,Vn=null;Et.findHostDirectiveDefs?(St=[],Vn=new Map,Et.findHostDirectiveDefs(Et,St,Vn),St.push(Et)):St=[Et];const Gn=function YV(e,n){const t=e[me],i=ut;return e[i]=n,Uc(t,i,2,"#host",null)}(ae,I),vi=function JV(e,n,t,i,r,s,o){const a=r[me];!function QV(e,n,t,i){for(const r of e)n.mergedAttrs=Na(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Mg(n,n.mergedAttrs,!0),null!==t&&zD(i,t,n))}(i,e,n,o);let l=null;null!==n&&(l=zy(n,r[Ms]));const d=s.rendererFactory.createRenderer(n,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=Ag(r,qI(t),null,f,r[e.index],e,s,d,null,null,l);return a.firstCreatePass&&c0(a,e,i.length-1),Rg(r,g),r[e.index]=g}(Gn,I,Et,St,ae,g,m);He=xs(Z,ut),I&&function eB(e,n,t,i){if(i)Sa(e,t,["ng-version",bI.full]);else{const{attrs:r,classes:s}=function sp(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&n.push(s,e[++i]):8===r&&t.push(s);else{if(!Wi(r))break;r=s}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&Sa(e,t,r),s&&s.length>0&&WD(e,t,s.join(" "))}}(m,Et,I,i),void 0!==t&&function tB(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(He,this.ngContentSelectors,t),pe=function XV(e,n,t,i,r,s){const o=ti(),a=r[me],l=hi(o,r);JI(a,r,o,t,null,i);for(let f=0;f<t.length;f++)ki(jr(r,a,o.directiveStart+f,o),r);QI(a,r,o),l&&ki(l,r);const d=jr(r,a,o.directiveStart+o.componentOffset,o);if(e[wn]=r[wn]=d,null!==s)for(const f of s)f(d,n);return r0(a,o,e),d}(vi,Et,St,Vn,ae,[nB]),f0(Z,ae,null)}finally{Dd()}return new ZV(this.componentType,pe,Fc(He,ae),ae,He)}}class ZV extends V2{constructor(n,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zV(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;h0(s[me],s,r,n,t),this.previousInputValues.set(n,t),qd(qi(this._tNode.index,s))}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function nB(){const e=ti();uc(te()[me],e)}function Gt(e){let n=function pT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(yr(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new q(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const o=e;o.inputs=xg(e.inputs),o.inputTransforms=xg(e.inputTransforms),o.declaredInputs=xg(e.declaredInputs),o.outputs=xg(e.outputs);const a=r.hostBindings;a&&oB(e,a);const l=r.viewQuery,d=r.contentQueries;if(l&&rB(e,l),d&&sB(e,d),Ht(e.inputs,r.inputs),Ht(e.declaredInputs,r.declaredInputs),Ht(e.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ht(o.inputTransforms,r.inputTransforms)),yr(r)&&r.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Gt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function iB(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Na(r.hostAttrs,t=Na(t,r.hostAttrs))}}(i)}function xg(e){return e===Mi?{}:e===Tt?[]:e}function rB(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function sB(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,s)=>{n(i,r,s),t(i,r,s)}:n}function oB(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function Fi(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Wt(e,n,t,i){const r=te();return Fi(r,lo(),n)&&(Ct(),Vs(En(),r,e,n,t,i)),Wt}function Pe(e,n,t,i,r,s,o,a){const l=te(),d=Ct(),f=e+ut,g=d.firstCreatePass?function RB(e,n,t,i,r,s,o,a,l){const d=n.consts,f=Uc(n,e,4,o||null,os(d,a));l0(n,t,f,os(d,l)),uc(n,f);const g=f.tView=a0(2,f,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return null!==n.queries&&(n.queries.template(n,f),g.queries=n.queries.embeddedTView(f)),f}(f,d,l,n,t,i,r,s,o):d.data[f];Vr(g,!1);const m=MT(d,l,g,e);Ka()&&dg(d,l,m,g),ki(m,l),Rg(l,l[f]=eT(m,l,m,g)),Oo(g)&&s0(d,l,g),null!=o&&o0(l,g,a)}let MT=function OT(e,n,t,i){return Fs(!0),n[$e].createComment("")};function Se(e,n,t){const i=te();return Fi(i,lo(),n)&&function Dr(e,n,t,i,r,s,o,a){const l=hi(n,t);let f,d=n.inputs;!a&&null!=d&&(f=d[i])?(h0(e,t,f,i,r),Mo(n)&&function IV(e,n){const t=qi(n,e);16&t[qe]||(t[qe]|=64)}(t,n.index)):3&n.type&&(i=function DV(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,n.value||"",i):r,s.setProperty(l,i,r))}(Ct(),En(),i,e,n,i[$e],t,!1),Se}function b0(e,n,t,i,r){const o=r?"class":"style";h0(e,t,n.inputs[o],o,i)}function De(e,n,t,i){const r=te(),s=Ct(),o=ut+e,a=r[$e],l=s.firstCreatePass?function PB(e,n,t,i,r,s){const o=n.consts,l=Uc(n,e,2,i,os(o,r));return l0(n,t,l,os(o,s)),null!==l.attrs&&Mg(l,l.attrs,!1),null!==l.mergedAttrs&&Mg(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,r,n,t,i):s.data[o],d=xT(s,r,l,a,n,e);r[o]=d;const f=Oo(l);return Vr(l,!0),zD(a,d,l),32!=(32&l.flags)&&Ka()&&dg(s,r,d,l),0===function $a(){return Le.lFrame.elementDepthCount}()&&ki(d,r),function $v(){Le.lFrame.elementDepthCount++}(),f&&(s0(s,r,l),r0(s,l,r)),null!==i&&o0(r,l),De}function Ie(){let e=ti();Wa()?yd():(e=e.parent,Vr(e,!1));const n=e;(function vd(e){return Le.skipHydrationRootTNode===e})(n)&&function xp(){Le.skipHydrationRootTNode=null}(),function Gv(){Le.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(uc(t,e),up(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Nd(e){return 0!=(8&e.flags)}(n)&&b0(t,n,te(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Kp(e){return 0!=(16&e.flags)}(n)&&b0(t,n,te(),n.stylesWithoutHost,!1),Ie}function ls(e,n,t,i){return De(e,n,t,i),Ie(),ls}let xT=(e,n,t,i,r,s)=>(Fs(!0),lg(i,r,function Gp(){return Le.lFrame.currentNamespace}()));function ih(e,n,t){const i=te(),r=Ct(),s=e+ut,o=r.firstCreatePass?function LB(e,n,t,i,r){const s=n.consts,o=os(s,i),a=Uc(n,e,8,"ng-container",o);return null!==o&&Mg(a,o,!0),l0(n,t,a,os(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,t):r.data[s];Vr(o,!0);const a=kT(r,i,o,e);return i[s]=a,Ka()&&dg(r,i,a,o),ki(a,i),Oo(o)&&(s0(r,i,o),r0(r,o,i)),null!=t&&o0(i,o),ih}function rh(){let e=ti();const n=Ct();return Wa()?yd():(e=e.parent,Vr(e,!1)),n.firstCreatePass&&(uc(n,e),up(e)&&n.queries.elementEnd(e)),rh}let kT=(e,n,t,i)=>(Fs(!0),_y(n[$e],""));function $r(){return te()}function sh(e){return!!e&&"function"==typeof e.then}function FT(e){return!!e&&"function"==typeof e.subscribe}function ze(e,n,t,i){const r=te(),s=Ct(),o=ti();return function VT(e,n,t,i,r,s,o){const a=Oo(i),d=e.firstCreatePass&&iT(e),f=n[wn],g=nT(n);let m=!0;if(3&i.type||o){const S=hi(i,n),O=o?o(S):S,$=g.length,k=o?ae=>o(kt(ae[i.index])):i.index;let Z=null;if(!o&&a&&(Z=function jB(e,n,t,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=n[So],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,r,i.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,m=!1;else{s=jT(i,n,f,s,!1);const ae=t.listen(O,r,s);g.push(s,ae),d&&d.push(r,k,$,$+1)}}else s=jT(i,n,f,s,!1);const v=i.outputs;let I;if(m&&null!==v&&(I=v[r])){const S=I.length;if(S)for(let O=0;O<S;O+=2){const pe=n[I[O]][I[O+1]].subscribe(s),He=g.length;g.push(s,pe),d&&d.push(r,i.index,He,-(He+1))}}}(s,r,r[$e],o,e,n,i),ze}function BT(e,n,t,i){try{return rr(6,n,t),!1!==t(i)}catch(r){return sT(e,r),!1}finally{rr(7,n,t)}}function jT(e,n,t,i,r){return function s(o){if(o===Function)return i;qd(e.componentOffset>-1?qi(e.index,n):n);let l=BT(n,t,i,o),d=s.__ngNextListenerFn__;for(;d;)l=BT(n,t,d,o)&&l,d=d.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function ke(e=1){return function qv(e){return(Le.lFrame.contextLView=function Kv(e,n){for(;e>0;)n=n[Ao],e--;return n}(e,Le.lFrame.contextLView))[wn]}(e)}function UB(e,n){let t=null;const i=function sd(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?Ra(e,s,!0):rp(i,s))return r}else t=r}return t}function jg(e,n){return e<<17|n<<2}function Uo(e){return e>>17&32767}function C0(e){return 2|e}function tl(e){return(131068&e)>>2}function E0(e,n){return-131069&e|n<<2}function D0(e){return 1|e}function JT(e,n,t,i,r){const s=e[t+1],o=null===n;let a=i?Uo(s):tl(s),l=!1;for(;0!==a&&(!1===l||o);){const f=e[a+1];qB(e[a],n)&&(l=!0,e[a+1]=i?D0(f):C0(f)),a=i?Uo(f):tl(f)}l&&(e[t+1]=i?C0(s):D0(s))}function qB(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ic(e,n)>=0}const ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QT(e){return e.substring(ii.key,ii.keyEnd)}function XT(e,n){const t=ii.textEnd;return t===n?-1:(n=ii.keyEnd=function JB(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,ii.key=n,t),Jc(e,n,t))}function Jc(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Mt(e,n){return function cs(e,n,t,i){const r=te(),s=Ct(),o=Br(2);s.firstUpdatePass&&o1(s,e,o,i),n!==Ke&&Fi(r,o,n)&&l1(s,s.data[Ci()],r,r[$e],e,r[o+1]=function lj(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ae(jo(e)))),e}(n,t),i,o)}(e,n,null,!0),Mt}function nl(e){!function us(e,n,t,i){const r=Ct(),s=Br(2);r.firstUpdatePass&&o1(r,null,s,i);const o=te();if(t!==Ke&&Fi(o,s,t)){const a=r.data[Ci()];if(u1(a,i)&&!s1(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=zn(l,t||"")),b0(r,a,o,t,i)}else!function aj(e,n,t,i,r,s,o,a){r===Ke&&(r=Tt);let l=0,d=0,f=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){const m=l<r.length?r[l+1]:void 0,v=d<s.length?s[d+1]:void 0;let S,I=null;f===g?(l+=2,d+=2,m!==v&&(I=g,S=v)):null===g||null!==f&&f<g?(l+=2,I=f):(d+=2,I=g,S=v),null!==I&&l1(e,n,t,i,I,S,o,a),f=l<r.length?r[l]:null,g=d<s.length?s[d]:null}}(r,a,o,o[$e],o[s+1],o[s+1]=function sj(e,n,t){if(null==t||""===t)return Tt;const i=[],r=jo(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,s)}}(oj,Us,e,!0)}function Us(e,n){for(let t=function ZB(e){return function t1(e){ii.key=0,ii.keyEnd=0,ii.value=0,ii.valueEnd=0,ii.textEnd=e.length}(e),XT(e,Jc(e,0,ii.textEnd))}(n);t>=0;t=XT(n,t))Cr(e,QT(n),!0)}function s1(e,n){return n>=e.expandoStartIndex}function o1(e,n,t,i){const r=e.data;if(null===r[t+1]){const s=r[Ci()],o=s1(e,t);u1(s,i)&&null===n&&!o&&(n=!1),n=function tj(e,n,t,i){const r=function Ed(e){const n=Le.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=oh(t=I0(null,e,n,t,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==r)if(t=I0(r,e,n,t,i),null===s){let l=function nj(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==tl(i))return e[Uo(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=I0(null,e,n,l[1],i),l=oh(l,n.attrs,i),function ij(e,n,t,i){e[Uo(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else s=function rj(e,n,t){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=oh(i,e[s].hostAttrs,t);return oh(i,n.attrs,t)}(e,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),t}(r,s,n,i),function WB(e,n,t,i,r,s){let o=s?n.classBindings:n.styleBindings,a=Uo(o),l=tl(o);e[i]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||Ic(t,f)>0)&&(d=!0)):f=t,r)if(0!==l){const m=Uo(e[a+1]);e[i+1]=jg(m,a),0!==m&&(e[m+1]=E0(e[m+1],i)),e[a+1]=function $B(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=jg(a,0),0!==a&&(e[a+1]=E0(e[a+1],i)),a=i;else e[i+1]=jg(l,0),0===a?a=i:e[l+1]=E0(e[l+1],i),l=i;d&&(e[i+1]=C0(e[i+1])),JT(e,f,i,!0),JT(e,f,i,!1),function zB(e,n,t,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&Ic(s,n)>=0&&(t[i+1]=D0(t[i+1]))}(n,f,e,i,s),o=jg(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,t,o,i)}}function I0(e,n,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],i=oh(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function oh(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cr(e,o,!!t||n[++s]))}return void 0===e?null:e}function oj(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&Cr(e,i,t)}function l1(e,n,t,i,r,s,o,a){if(!(3&n.type))return;const l=e.data,d=l[a+1],f=function GB(e){return 1==(1&e)}(d)?c1(l,n,t,r,tl(d),o):void 0;Ug(f)||(Ug(s)||function HB(e){return 2==(2&e)}(d)&&(s=c1(l,null,t,r,a,o)),function WL(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Bo.DashCase;null==r?e.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Bo.Important),e.setStyle(t,i,r,s))}}(i,o,nc(Ci(),t),r,s))}function c1(e,n,t,i,r,s){const o=null===n;let a;for(;r>0;){const l=e[r],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let m=t[r+1];m===Ke&&(m=g?Tt:void 0);let v=g?ay(m,i):f===i?m:void 0;if(d&&!Ug(v)&&(v=ay(l,i)),Ug(v)&&(a=v,o))return a;const I=e[r+1];r=o?Uo(I):tl(I)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=ay(l,i))}return a}function Ug(e){return void 0!==e}function u1(e,n){return 0!=(e.flags&(n?8:16))}function Ot(e,n=""){const t=te(),i=Ct(),r=e+ut,s=i.firstCreatePass?Uc(i,r,1,n,null):i.data[r],o=d1(i,t,s,n,e);t[r]=o,Ka()&&dg(i,t,o,s),Vr(s,!1)}let d1=(e,n,t,i,r)=>(Fs(!0),function ag(e,n){return e.createText(n)}(n[$e],i));function ds(e){return il("",e,""),ds}function il(e,n,t){const i=te(),r=function $c(e,n,t,i){return Fi(e,lo(),t)?n+Ee(t)+i:Ke}(i,e,n,t);return r!==Ke&&function go(e,n,t){const i=nc(n,e);!function xD(e,n,t){e.setValue(n,t)}(e[$e],i,t)}(i,Ci(),r),il}const Xc="en-US";let O1=Xc;function N0(e,n,t,i,r){if(e=R(e),Array.isArray(e))for(let s=0;s<e.length;s++)N0(e[s],n,t,i,r);else{const s=Ct(),o=te(),a=ti();let l=Xa(e)?e:R(e.provide);const d=hI(e),f=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Xa(e)||!e.multi){const v=new Lo(d,r,F),I=R0(l,n,r?f:f+m,g);-1===I?(M(u(a,o),s,l),A0(s,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[I]=v,o[I]=v)}else{const v=R0(l,n,f+m,g),I=R0(l,n,f,f+m),O=I>=0&&t[I];if(r&&!O||!r&&!(v>=0&&t[v])){M(u(a,o),s,l);const $=function NU(e,n,t,i,r){const s=new Lo(e,t,F);return s.multi=[],s.index=n,s.componentProviders=0,iS(s,r,i&&!t),s}(r?SU:TU,t.length,r,i,d);!r&&O&&(t[I].providerFactory=$),A0(s,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push($),o.push($)}else A0(s,e,v>-1?v:I,iS(t[r?I:v],d,!r&&i));!r&&i&&O&&t[I].componentProviders++}}}function A0(e,n,t,i){const r=Xa(n),s=function w2(e){return!!e.useClass}(n);if(r||s){const l=(s?R(n.useClass):n).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const f=d.indexOf(t);-1===f?d.push(t,[i,l]):d[f+1].push(i,l)}else d.push(t,l)}}}function iS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function R0(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function TU(e,n,t,i){return M0(this.multi,[])}function SU(e,n,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=jr(t,t[me],this.providerFactory.index,i);s=a.slice(0,o),M0(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],M0(r,s);return s}function M0(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function an(e,n=[]){return t=>{t.providersResolver=(i,r)=>function IU(e,n,t){const i=Ct();if(i.firstCreatePass){const r=yr(e);N0(t,i.data,i.blueprint,r,!0),N0(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class sl{}class rS{}class O0 extends sl{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hT(this);const r=zi(n);this._bootstrapComponents=po(r.bootstrap),this._r3Injector=II(n,t,[{provide:sl,useValue:this},{provide:Ig,useValue:this.componentFactoryResolver},...i],Ae(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class x0 extends rS{constructor(n){super(),this.moduleType=n}create(n){return new O0(this.moduleType,n,[])}}class sS extends sl{constructor(n){super(),this.componentFactoryResolver=new hT(this),this.instance=null;const t=new Oc([...n.providers,{provide:sl,useValue:this},{provide:Ig,useValue:this.componentFactoryResolver}],n.parent||vg(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function P0(e,n,t=null){return new sS({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let MU=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=lI(0,t.type),r=i.length>0?P0([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=he({token:e,providedIn:"environment",factory:()=>new e(ee(Ki))})}return e})();function Wr(e){e.getStandaloneInjector=n=>n.get(MU).getOrCreateStandaloneInjector(e)}function hS(e,n,t,i,r,s){const o=n+t;return Fi(e,o,r)?function Bs(e,n,t){return e[n]=t}(e,o+1,s?i.call(s,r):i(r)):function gh(e,n){const t=e[n];return t===Ke?void 0:t}(e,o+1)}function L0(e,n){const t=Ct();let i;const r=e+ut;t.firstCreatePass?(i=function qU(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=so(i.type)),a=li(F);try{const l=gc(!1),d=s();return gc(l),function xB(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,te(),r,d),d}finally{li(a)}}function V0(e,n,t){const i=e+ut,r=te(),s=Ps(r,i);return function mh(e,n){return e[me].data[n].pure}(r,i)?hS(r,function fi(){const e=Le.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,s.transform,t,s):s.transform(t)}function QU(){return this._results[Symbol.iterator]()}class B0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new xe)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=B0.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=QU)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const i=this;i.dirty=!1;const r=function Ur(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function KF(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eH(e,n,t,i=!0){const r=n[me];if(function LL(e,n,t,i){const r=Qn+i,s=t.length;i>0&&(t[r-1][vr]=n),i<s-Qn?(n[vr]=t[r],cD(t,Qn+i,n)):(t.push(n),n[vr]=null),n[en]=t;const o=n[Oa];null!==o&&t!==o&&function VL(e,n){const t=e[Ro];n[Cn]!==n[en][en][Cn]&&(e[cp]=!0),null===t?e[Ro]=[n]:t.push(n)}(o,n);const a=n[kr];null!==a&&a.insertView(e),n[qe]|=128}(r,n,e,t),i){const s=Cy(t,e),o=n[$e],a=ug(o,e[bi]);null!==a&&function PL(e,n,t,i,r,s){i[bn]=r,i[di]=n,jd(e,i,t,1,r,s)}(r,e[di],o,n,a,s)}}let Mn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=iH}return e})();const tH=Mn,nH=class extends tH{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function XU(e,n,t,i){const r=n.tView,a=Ag(e,r,t,4096&e[qe]?4096:16,null,n,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Oa]=e[n.index];const d=e[kr];return null!==d&&(a[kr]=d.createEmbeddedView(r)),f0(r,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:i});return new Yd(r)}};function iH(){return zg(ti(),te())}function zg(e,n){return 4&e.type?new nH(n,e,Fc(e,n)):null}let zr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=cH}return e})();function cH(){return ES(ti(),te())}const uH=zr,wS=class extends uH{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Fc(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const n=w(this._hostTNode,this._hostLView);if(pc(n)){const t=Ja(n,this._hostLView),i=Ya(n);return new pi(t[me].data[i+8],t)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=CS(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Qn}createEmbeddedView(n,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(n,t,i,r,s){const o=n&&!function xd(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const S=t||{};a=S.index,i=S.injector,r=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}const l=o?n:new Jd(_t(n)),d=i||this.parentInjector;if(!s&&null==l.ngModule){const O=(o?d:this.parentInjector).get(Ki,null);O&&(s=O)}_t(l.componentType??{});const v=l.create(d,r,null,s);return this.insertImpl(v.hostView,a,false),v}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,i){const r=n._lView;if(function _d(e){return xi(e[en])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const d=r[en],f=new wS(d,d[di],d[en]);f.detach(f.indexOf(n))}}const o=this._adjustIndex(t),a=this._lContainer;return eH(a,r,o,!i),n.attachToViewContainerRef(),cD(j0(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=CS(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=cg(this._lContainer,t);i&&(Qp(j0(this._lContainer),t),vy(i[me],i))}detach(n){const t=this._adjustIndex(n,-1),i=cg(this._lContainer,t);return i&&null!=Qp(j0(this._lContainer),t)?new Yd(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function CS(e){return e[8]}function j0(e){return e[8]||(e[8]=[])}function ES(e,n){let t;const i=n[e.index];return xi(i)?t=i:(t=eT(i,n,null,e),n[e.index]=t,Rg(n,t)),DS(t,n,e,i),new wS(t,e,n)}let DS=function IS(e,n,t,i){if(e[bi])return;let r;r=8&t.type?kt(i):function dH(e,n){const t=e[$e],i=t.createComment(""),r=hi(n,e);return Qa(t,ug(t,r),i,function HL(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[bi]=r};class U0{constructor(n){this.queryList=n,this.matches=null}clone(){return new U0(this.queryList)}setDirty(){this.queryList.setDirty()}}class H0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new H0(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==RS(n,t).matches&&this.queries[t].setDirty()}}class TS{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class $0{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new $0(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class G0{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new G0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,t,pH(t,s)),this.matchTNodeWithReadOption(n,t,wr(t,n,s,!1,!1))}else i===Mn?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,wr(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$t||r===zr||r===Mn&&4&t.type)this.addMatch(t.index,-2);else{const s=wr(t,n,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function pH(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function mH(e,n,t,i){return-1===t?function gH(e,n){return 11&e.type?Fc(e,n):4&e.type?zg(e,n):null}(n,e):-2===t?function _H(e,n,t){return t===$t?Fc(n,e):t===Mn?zg(n,e):t===zr?ES(n,e):void 0}(e,n,i):jr(e,e[me],t,n)}function SS(e,n,t,i){const r=n[kr].queries[i];if(null===r.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:mH(n,s[d],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function W0(e,n,t,i){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=SS(e,n,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const d=s[a+1],f=n[-l];for(let g=Qn;g<f.length;g++){const m=f[g];m[Oa]===m[en]&&W0(m[me],m,d,i)}if(null!==f[Ro]){const g=f[Ro];for(let m=0;m<g.length;m++){const v=g[m];W0(v[me],v,d,i)}}}}}return i}function zt(e){const n=te(),t=Ct(),i=Bp();za(i+1);const r=RS(t,i);if(e.dirty&&function Bv(e){return 4==(4&e[qe])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?W0(t,n,i,[]):SS(t,n,r,i);e.reset(s,H2),e.notifyOnChanges()}return!0}return!1}function Ho(e,n,t){const i=Ct();i.firstCreatePass&&(function AS(e,n,t){null===e.queries&&(e.queries=new $0),e.queries.track(new G0(n,t))}(i,new TS(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),function NS(e,n,t){const i=new B0(4==(4&t));(function wV(e,n,t,i){const r=nT(n);r.push(t),e.firstCreatePass&&iT(e).push(i,r.length-1)})(e,n,i,i.destroy),null===n[kr]&&(n[kr]=new H0),n[kr].queries.push(new U0(i))}(i,te(),n)}function qt(){return function vH(e,n){return e[kr].queries[n].queryList}(te(),Bp())}function RS(e,n){return e.queries.getByIndex(n)}function qr(e,n){return zg(e,n)}const J0=new fe("Application Initializer");let Q0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=ce(J0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(sh(s))t.push(s);else if(FT(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qS=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const hs=new fe("LocaleId",{providedIn:"root",factory:()=>ce(hs,ct.Optional|ct.SkipSelf)||function jH(){return typeof $localize<"u"&&$localize.locale||Xc}()});let Zg=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new y(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class $H{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let KS=(()=>{class e{compileModuleSync(t){return new x0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=po(zi(t).declarations).reduce((o,a)=>{const l=_t(a);return l&&o.push(new Jd(l)),o},[]);return new $H(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const QS=new fe(""),Jg=new fe("");let ib,tb=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ib||(function d$(e){ib=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(ee(dt),ee(nb),ee(Jg))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),nb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ib?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),$o=null;const XS=new fe("AllowMultipleToken"),rb=new fe("PlatformDestroyListeners"),sb=new fe("appBootstrapListener");class tN{constructor(n,t){this.name=n,this.token=t}}function iN(e,n,t=[]){const i=`Platform: ${n}`,r=new fe(i);return(s=[])=>{let o=ob();if(!o||o.injector.get(XS,!1)){const a=[...t,...s,{provide:r,useValue:!0}];e?e(a):function p$(e){if($o&&!$o.get(XS,!1))throw new q(400,!1);(function eN(){!function Tv(e){pd=e}(()=>{throw new q(600,!1)})})(),$o=e;const n=e.get(sN);(function nN(e){e.get(fI,null)?.forEach(t=>t())})(e)}(function rN(e=[],n){return Ei.create({name:n,providers:[{provide:ky,useValue:"platform"},{provide:rb,useValue:new Set([()=>$o=null])},...e]})}(a,i))}return function m$(e){const n=ob();if(!n)throw new q(401,!1);return n}()}}function ob(){return $o?.get(sN)??null}let sN=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function _$(e="zone.js",n){return"noop"===e?new iV:"zone.js"===e?new dt(n):e}(i?.ngZone,function oN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function RU(e,n,t){return new O0(e,n,t)}(t.moduleType,this.injector,function dN(e){return[{provide:dt,useFactory:e},{provide:Gd,multi:!0,useFactory:()=>{const n=ce(y$,{optional:!0});return()=>n.initialize()}},{provide:uN,useFactory:v$},{provide:RI,useFactory:MI}]}(()=>r)),o=s.injector.get(fo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Qg(this._modules,s),a.unsubscribe()})}),function aN(e,n,t){try{const i=t();return sh(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Q0);return a.runInitializers(),a.donePromise.then(()=>(function x1(e){$i(e,"Expected localeId to be defined"),"string"==typeof e&&(O1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(hs,Xc)||Xc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=lN({},i);return function h$(e,n,t){const i=new x0(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Go);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new q(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(rb,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Ei))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function lN(e,n){return Array.isArray(n)?n.reduce(lN,e):{...e,...n}}let Go=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(uN),this.zoneIsStable=ce(RI),this.componentTypes=[],this.components=[],this.isStable=ce(Zg).hasPendingTasks.pipe(ye(t=>t?N(!1):this.zoneIsStable),Fe(),K()),this._injector=ce(Ki)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof vI;if(!this._injector.get(Q0).done)throw!r&&function Rs(e){const n=_t(e)||kn(e)||Jn(e);return null!==n&&n.standalone}(t),new q(405,!1);let o;o=r?t:this._injector.get(Ig).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function f$(e){return e.isBoundToModule}(o)?void 0:this._injector.get(sl),d=o.create(Ei.NULL,[],i||o.selector,a),f=d.location.nativeElement,g=d.injector.get(QS,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Qg(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Qg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(sb,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qg(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const uN=new fe("",{providedIn:"root",factory:()=>ce(fo).handleError.bind(void 0)});function v$(){const e=ce(dt),n=ce(fo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let y$=(()=>{class e{constructor(){this.zone=ce(dt),this.applicationRef=ce(Go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let fs=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=w$}return e})();function w$(e){return function C$(e,n,t){if(Mo(e)&&!t){const i=qi(e.index,n);return new Yd(i,i)}return 47&e.type?new Yd(n[Cn],n):null}(ti(),te(),16==(16&e))}const k$=iN(null,"core",[]);let F$=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Go))};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();function hb(e,n){const t=_t(e),i=n.elementInjector||vg();return new Jd(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let fb=null;function Wo(){return fb}class Y${}const qn=new fe("DocumentToken");let pb=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return ce(Q$)},providedIn:"platform"})}return e})();const J$=new fe("Location Initialized");let Q$=(()=>{class e extends pb{constructor(){super(),this._doc=ce(qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wo().getBaseHref(this._doc)}onPopState(t){const i=Wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function gb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function RN(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function mo(e){return e&&"?"!==e[0]?"?"+e:e}let al=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return ce(ON)},providedIn:"root"})}return e})();const MN=new fe("appBaseHref");let ON=(()=>{class e extends al{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ce(qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+mo(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+mo(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(pb),ee(MN,8))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X$=(()=>{class e extends al{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=gb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(pb),ee(MN,8))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})(),mb=(()=>{class e{constructor(t){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function n3(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(RN(xN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+mo(i))}normalize(t){return e.stripTrailingSlash(function t3(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,xN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=mo;static#t=this.joinWithSlash=gb;static#n=this.stripTrailingSlash=RN;static#i=this.\u0275fac=function(i){return new(i||e)(ee(al))};static#r=this.\u0275prov=he({token:e,factory:function(){return function e3(){return new mb(ee(al))}()},providedIn:"root"})}return e})();function xN(e){return e.replace(/\/index.html$/,"")}function GN(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}let qo=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new j3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){KN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){KN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(F(zr),F(Mn))};static#t=this.\u0275dir=le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class j3{constructor(){this.$implicit=null,this.ngIf=null}}function KN(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ae(n)}'.`)}let YN=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=ui({name:"json",type:e,pure:!1,standalone:!0})}return e})(),hG=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();function Ob(e){return"server"===e}let mG=(()=>{class e{static#e=this.\u0275prov=he({token:e,providedIn:"root",factory:()=>new _G(ee(qn),window)})}return e})();class _G{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function vG(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class XN{}class UG extends Y${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kb extends UG{static makeCurrent(){!function Z$(e){fb||(fb=e)}(new kb)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function HG(){return Eh=Eh||document.querySelector("base"),Eh?Eh.getAttribute("href"):null}();return null==t?null:function $G(e){gm=gm||document.createElement("a"),gm.setAttribute("href",e);const n=gm.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Eh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return GN(document.cookie,n)}}let gm,Eh=null,WG=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const Fb=new fe("EventManagerPlugins");let rA=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Fb),ee(dt))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();class sA{constructor(n){this._doc=n}}const Lb="ng-app-id";let oA=(()=>{class e{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ob(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Lb}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Lb),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Lb,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn),ee(yg),ee(pI,8),ee(Ls))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const Vb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bb=/%COMP%/g,ZG=new fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function lA(e,n){return n.map(t=>t.replace(Bb,e))}let cA=(()=>{class e{constructor(t,i,r,s,o,a,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ob(a),this.defaultRenderer=new jb(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ci.ShadowDom&&(i={...i,encapsulation:ci.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof dA?r.applyToHost(t):r instanceof Ub&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case ci.Emulated:s=new dA(l,d,i,this.appId,f,o,a,g);break;case ci.ShadowDom:return new XG(l,d,t,i,o,a,this.nonce,g);default:s=new Ub(l,d,i,f,o,a,g)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(ee(rA),ee(oA),ee(yg),ee(ZG),ee(qn),ee(Ls),ee(dt),ee(pI))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();class jb{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Vb[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(uA(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(uA(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new q(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const s=Vb[r];s?n.setAttributeNS(s,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=Vb[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Bo.DashCase|Bo.Important)?n.style.setProperty(t,i,r&Bo.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Bo.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=Wo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function uA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class XG extends jb{constructor(n,t,i,r,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=lA(r.id,r.styles);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ub extends jb{constructor(n,t,i,r,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?lA(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class dA extends Ub{constructor(n,t,i,r,s,o,a,l){const d=r+"-"+i.id;super(n,t,i,s,o,a,l,d),this.contentAttr=function YG(e){return"_ngcontent-%COMP%".replace(Bb,e)}(d),this.hostAttr=function JG(e){return"_nghost-%COMP%".replace(Bb,e)}(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let eW=(()=>{class e extends sA{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const hA=["alt","control","meta","shift"],tW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nW={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let iW=(()=>{class e extends sA{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wo().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),hA.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),o+=d+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=tW[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hA.forEach(o=>{o!==r&&(0,nW[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const aW=iN(k$,"browser",[{provide:Ls,useValue:"browser"},{provide:fI,useValue:function rW(){kb.makeCurrent()},multi:!0},{provide:qn,useFactory:function oW(){return function YL(e){Iy=e}(document),document},deps:[]}]),lW=new fe(""),gA=[{provide:Jg,useClass:class GG{addToWindow(n){Xt.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new q(5103,!1);return s},Xt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Xt.getAllAngularRootElements=()=>n.getAllRootElements(),Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(i=>{const r=Xt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?Wo().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:QS,useClass:tb,deps:[dt,nb,Jg]},{provide:tb,useClass:tb,deps:[dt,nb,Jg]}],mA=[{provide:ky,useValue:"root"},{provide:fo,useFactory:function sW(){return new fo},deps:[]},{provide:Fb,useClass:eW,multi:!0,deps:[qn,dt,Ls]},{provide:Fb,useClass:iW,multi:!0,deps:[qn]},cA,oA,rA,{provide:Zy,useExisting:cA},{provide:XN,useClass:WG,deps:[]},[]];let cW=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:yg,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(ee(lW,12))};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({providers:[...mA,...gA],imports:[hG,F$]})}return e})(),_A=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn))};static#t=this.\u0275prov=he({token:e,factory:function(i){let r=null;return r=i?new i:function dW(){return new _A(ee(qn))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:_W}=Array,{getPrototypeOf:vW,prototype:yW,keys:bW}=Object;function wA(e){if(1===e.length){const n=e[0];if(_W(n))return{args:n,keys:null};if(function wW(e){return e&&"object"==typeof e&&vW(e)===yW}(n)){const t=bW(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:CW}=Array;function $b(e){return ge(n=>function EW(e,n){return CW(n)?e(...n):e(n)}(e,n))}function CA(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Gb(...e){const n=gr(e),t=ji(e),{args:i,keys:r}=wA(e);if(0===i.length)return b([],n);const s=new Ue(function DW(e,n,t=sn){return i=>{EA(n,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)EA(n,()=>{const d=b(e[l],n);let f=!1;d.subscribe(de(i,g=>{s[l]=g,f||(f=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>CA(r,o):sn));return t?s.pipe($b(t)):s}function EA(e,n,t){e?Yn(t,e,n):n()}const mm=z(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Dh(...e){return function IW(){return Dt(1)}()(b(e,gr(e)))}function DA(e){return new Ue(n=>{se(e()).subscribe(n)})}function Ih(e,n){const t=E(e)?e:()=>e,i=r=>r.error(t());return new Ue(n?r=>n.schedule(i,0,r):i)}function Wb(){return J((e,n)=>{let t=null;e._refCount++;const i=de(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class IA extends Ue{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,X(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Xe;const t=this.getSubject();n.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Xe.EMPTY)}return n}refCount(){return Wb()(this)}}function Di(e){return e<=0?()=>Rt:J((n,t)=>{let i=0;n.subscribe(de(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function Zn(e,n){return J((t,i)=>{let r=0;t.subscribe(de(i,s=>e.call(n,s,r++)&&i.next(s)))})}function _m(e){return J((n,t)=>{let i=!1;n.subscribe(de(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function SA(e=TW){return J((n,t)=>{let i=!1;n.subscribe(de(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function TW(){return new mm}function Zo(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Zn((r,s)=>e(r,s,i)):sn,Di(1),t?_m(n):SA(()=>new mm))}function su(e,n){return E(n)?mt(e,n,1):mt(e,1)}function ri(e,n,t){const i=E(e)||n||t?{next:e,error:n,complete:t}:e;return i?J((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(de(s,l=>{var d;null===(d=i.next)||void 0===d||d.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,l),s.error(l)},()=>{var l,d;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):sn}function ll(e){return J((n,t)=>{let s,i=null,r=!1;i=n.subscribe(de(t,void 0,void 0,o=>{s=se(e(o,ll(e)(n))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function zb(e,n){return J(function SW(e,n,t,i,r){return(s,o)=>{let a=t,l=n,d=0;s.subscribe(de(o,f=>{const g=d++;l=a?e(l,f,g):(a=!0,f),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}function qb(e){return e<=0?()=>Rt:J((n,t)=>{let i=[];n.subscribe(de(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Th(e){return J((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Ln(e){return J((n,t)=>{se(e).subscribe(de(t,()=>t.complete(),Ce)),!t.closed&&n.subscribe(t)})}const Qe="primary",Sh=Symbol("RouteTitle");class AW{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ou(e){return new AW(e)}function RW(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Hs(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!AA(e[r],n[r]))return!1;return!0}function AA(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,s)=>i[s]===r)}return e===n}function RA(e){return e.length>0?e[e.length-1]:null}function Yo(e){return function mW(e){return!!e&&(e instanceof Ue||E(e.lift)&&E(e.subscribe))}(e)?e:sh(e)?b(Promise.resolve(e)):N(e)}const OW={exact:function xA(e,n,t){if(!cl(e.segments,n.segments)||!vm(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!xA(e.children[i],n.children[i],t))return!1;return!0},subset:PA},MA={exact:function xW(e,n){return Hs(e,n)},subset:function PW(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>AA(e[t],n[t]))},ignored:()=>!0};function OA(e,n,t){return OW[t.paths](e.root,n.root,t.matrixParams)&&MA[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function PA(e,n,t){return kA(e,n,n.segments,t)}function kA(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!cl(r,t)||n.hasChildren()||!vm(r,t,i))}if(e.segments.length===t.length){if(!cl(e.segments,t)||!vm(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!PA(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(cl(e.segments,r)&&vm(e.segments,r,i)&&e.children[Qe])&&kA(e.children[Qe],n,s,i)}}function vm(e,n,t){return n.every((i,r)=>MA[t](e[r].parameters,i.parameters))}class au{constructor(n=new Zt([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return LW.serialize(this)}}class Zt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ym(this)}}class Nh{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ou(this.parameters)),this._parameterMap}toString(){return VA(this)}}function cl(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let Ah=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return new Kb},providedIn:"root"})}return e})();class Kb{parse(n){const t=new KW(n);return new au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Rh(n.root,!0)}`,i=function jW(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(r=>`${bm(t)}=${bm(r)}`).join("&"):`${bm(t)}=${bm(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function VW(e){return encodeURI(e)}(n.fragment)}`:""}`}}const LW=new Kb;function ym(e){return e.segments.map(n=>VA(n)).join("/")}function Rh(e,n){if(!e.hasChildren())return ym(e);if(n){const t=e.children[Qe]?Rh(e.children[Qe],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Qe&&i.push(`${r}:${Rh(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function FW(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===Qe&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Qe&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===Qe?[Rh(e.children[Qe],!1)]:[`${r}:${Rh(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Qe]?`${ym(e)}/${t[0]}`:`${ym(e)}/(${t.join("//")})`}}function FA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bm(e){return FA(e).replace(/%3B/gi,";")}function Zb(e){return FA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wm(e){return decodeURIComponent(e)}function LA(e){return wm(e.replace(/\+/g,"%20"))}function VA(e){return`${Zb(e.path)}${function BW(e){return Object.keys(e).map(n=>`;${Zb(n)}=${Zb(e[n])}`).join("")}(e.parameters)}`}const UW=/^[^\/()?;#]+/;function Yb(e){const n=e.match(UW);return n?n[0]:""}const HW=/^[^\/()?;=#]+/,GW=/^[^=?&#]+/,zW=/^[^&#]+/;class KW{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Qe]=new Zt(n,t)),i}parseSegment(){const n=Yb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(n),new Nh(wm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function $W(e){const n=e.match(HW);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Yb(this.remaining);r&&(i=r,this.capture(i))}n[wm(t)]=wm(i)}parseQueryParam(n){const t=function WW(e){const n=e.match(GW);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function qW(e){const n=e.match(zW);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=LA(t),s=LA(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yb(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Qe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Qe]:new Zt([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new q(4011,!1)}}function BA(e){return e.segments.length>0?new Zt([],{[Qe]:e}):e}function jA(e){const n={};for(const i of Object.keys(e.children)){const s=jA(e.children[i]);if(i===Qe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function ZW(e){if(1===e.numberOfChildren&&e.children[Qe]){const n=e.children[Qe];return new Zt(e.segments.concat(n.segments),n.children)}return e}(new Zt(e.segments,n))}function ul(e){return e instanceof au}function UA(e){let n;const r=BA(function t(s){const o={};for(const l of s.children){const d=t(l);o[l.outlet]=d}const a=new Zt(s.url,o);return s===e&&(n=a),a}(e.root));return n??r}function HA(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return Jb(r,r,r,t,i);const s=function JW(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GA(!0,0,e);let n=0,t=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new GA(t,n,i)}(n);if(s.toRoot())return Jb(r,r,new Zt([],{}),t,i);const o=function QW(e,n,t){if(e.isAbsolute)return new Em(n,!0,0);if(!t)return new Em(n,!1,NaN);if(null===t.parent)return new Em(t,!0,0);const i=Cm(e.commands[0])?0:1;return function XW(e,n,t){let i=e,r=n,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new Em(i,!1,r-s)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?Oh(o.segmentGroup,o.index,s.commands):WA(o.segmentGroup,o.index,s.commands);return Jb(r,o.segmentGroup,a,t,i)}function Cm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Mh(e){return"object"==typeof e&&null!=e&&e.outlets}function Jb(e,n,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),o=e===n?t:$A(e,n,t);const a=BA(jA(o));return new au(a,s,r)}function $A(e,n,t){const i={};return Object.entries(e.children).forEach(([r,s])=>{i[r]=s===n?t:$A(s,n,t)}),new Zt(e.segments,i)}class GA{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Cm(i[0]))throw new q(4003,!1);const r=i.find(Mh);if(r&&r!==RA(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Em{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function WA(e,n,t){if(e||(e=new Zt([],{})),0===e.segments.length&&e.hasChildren())return Oh(e,n,t);const i=function t8(e,n,t){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return s;const o=e.segments[r],a=t[i];if(Mh(a))break;const l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!qA(l,d,o))return s;i+=2}else{if(!qA(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Zt(e.segments.slice(0,i.pathIndex),{});return s.children[Qe]=new Zt(e.segments.slice(i.pathIndex),e.children),Oh(s,0,r)}return i.match&&0===r.length?new Zt(e.segments,{}):i.match&&!e.hasChildren()?Qb(e,n,t):i.match?Oh(e,0,r):Qb(e,n,t)}function Oh(e,n,t){if(0===t.length)return new Zt(e.segments,{});{const i=function e8(e){return Mh(e[0])?e[0].outlets:{[Qe]:e}}(t),r={};if(Object.keys(i).some(s=>s!==Qe)&&e.children[Qe]&&1===e.numberOfChildren&&0===e.children[Qe].segments.length){const s=Oh(e.children[Qe],n,t);return new Zt(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=WA(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Zt(e.segments,r)}}function Qb(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const s=t[r];if(Mh(s)){const l=n8(s.outlets);return new Zt(i,l)}if(0===r&&Cm(t[0])){i.push(new Nh(e.segments[n].path,zA(t[0]))),r++;continue}const o=Mh(s)?s.outlets[Qe]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Cm(a)?(i.push(new Nh(o,zA(a))),r+=2):(i.push(new Nh(o,{})),r++)}return new Zt(i,{})}function n8(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=Qb(new Zt([],{}),0,i))}),n}function zA(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function qA(e,n,t){return e==t.path&&Hs(n,t.parameters)}const xh="imperative";class $s{constructor(n,t){this.id=n,this.url=t}}class Dm extends $s{constructor(n,t,i="imperative",r=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jo extends $s{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ph extends $s{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lu extends $s{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=16}}class Im extends $s{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KA extends $s{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i8 extends $s{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r8 extends $s{constructor(n,t,i,r,s){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s8 extends $s{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o8 extends $s{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a8{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l8{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c8{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u8{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d8{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h8{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZA{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xb{}class ew{constructor(n){this.url=n}}class f8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kh,this.attachRef=null}}let kh=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new f8,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class YA{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=tw(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=tw(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=nw(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return nw(n,this._root).map(t=>t.value)}}function tw(e,n){if(e===n.value)return n;for(const t of n.children){const i=tw(e,t);if(i)return i}return null}function nw(e,n){if(e===n.value)return[n];for(const t of n.children){const i=nw(e,t);if(i.length)return i.unshift(n),i}return[]}class yo{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function cu(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class JA extends YA{constructor(n,t){super(n),this.snapshot=t,iw(this,n)}toString(){return this.snapshot.toString()}}function QA(e,n){const t=function p8(e,n){const o=new Tm([],{},{},"",{},Qe,n,null,{});return new eR("",new yo(o,[]))}(0,n),i=new y([new Nh("",{})]),r=new y({}),s=new y({}),o=new y({}),a=new y(""),l=new uu(i,r,o,a,s,Qe,n,t.root);return l.snapshot=t.root,new JA(new yo(l,[]),t)}class uu{constructor(n,t,i,r,s,o,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ge(d=>d[Sh]))??N(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(n=>ou(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(n=>ou(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XA(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function g8(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Tm{get title(){return this.data?.[Sh]}constructor(n,t,i,r,s,o,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eR extends YA{constructor(n,t){super(t),this.url=n,iw(this,t)}toString(){return tR(this._root)}}function iw(e,n){n.value._routerState=e,n.children.forEach(t=>iw(e,t))}function tR(e){const n=e.children.length>0?` { ${e.children.map(tR).join(", ")} } `:"";return`${e.value}${n}`}function rw(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Hs(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Hs(n.params,t.params)||e.paramsSubject.next(t.params),function MW(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Hs(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Hs(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function sw(e,n){const t=Hs(e.params,n.params)&&function kW(e,n){return cl(e,n)&&e.every((t,i)=>Hs(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||sw(e.parent,n.parent))}let ow=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=ce(kh),this.location=ce(zr),this.changeDetector=ce(fs),this.environmentInjector=ce(Ki),this.inputBinder=ce(Sm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new m8(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]})}return e})();class m8{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===uu?this.route:n===kh?this.childContexts:this.parent.get(n,t)}}const Sm=new fe("");let nR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Gb([i.queryParams,i.params,i.data]).pipe(ye(([s,o,a],l)=>(a={...s,...o,...a},0===l?N(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function K$(e){const n=_t(e);if(!n)return null;const t=new Jd(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function Fh(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function v8(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Fh(e,i,r);return Fh(e,i)})}(e,n,t);return new yo(i,r)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>Fh(e,a)),o}}const i=function y8(e){return new uu(new y(e.url),new y(e.params),new y(e.queryParams),new y(e.fragment),new y(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(s=>Fh(e,s));return new yo(i,r)}}const aw="ngNavigationCancelingError";function iR(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=ul(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=rR(!1,0,n);return r.url=t,r.navigationBehaviorOptions=i,r}function rR(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[aw]=!0,i.cancellationCode=n,t&&(i.url=t),i}function sR(e){return e&&e[aw]}let oR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Pn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Wr],decls:1,vars:0,template:function(i,r){1&i&&ls(0,"router-outlet")},dependencies:[ow],encapsulation:2})}return e})();function lw(e){const n=e.children&&e.children.map(lw),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Qe&&(t.component=oR),t}function ms(e){return e.outlet||Qe}function Lh(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class S8{constructor(n,t,i,r,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),rw(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=cu(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=cu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=cu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=cu(t);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new h8(s.value.snapshot))}),n.children.length&&this.forwardEvent(new u8(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(rw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),rw(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=Lh(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class aR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Nm{constructor(n,t){this.component=n,this.route=t}}function N8(e,n,t){const i=e._root;return Vh(i,n?n._root:null,t,[i.value])}function du(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function Wf(e){return null!==Hl(e)}(e)?n.get(e):e:i}function Vh(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=cu(n);return e.children.forEach(o=>{(function R8(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function M8(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!cl(e.url,n.url);case"pathParamsOrQueryParamsChange":return!cl(e.url,n.url)||!Hs(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sw(e,n)||!Hs(e.queryParams,n.queryParams);default:return!sw(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new aR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Vh(e,n,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Nm(a.outlet.component,o))}else o&&Bh(n,a,r),r.canActivateChecks.push(new aR(i)),Vh(e,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bh(a,t.getContext(o),r)),r}function Bh(e,n,t){const i=cu(e),r=e.value;Object.entries(i).forEach(([s,o])=>{Bh(o,r.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new Nm(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function jh(e){return"function"==typeof e}function lR(e){return e instanceof mm||"EmptyError"===e?.name}const Am=Symbol("INITIAL_VALUE");function hu(){return ye(e=>Gb(e.map(n=>n.pipe(Di(1),function TA(...e){const n=gr(e);return J((t,i)=>{(n?Dh(e,t,n):Dh(e,t)).subscribe(i)})}(Am)))).pipe(ge(n=>{for(const t of n)if(!0!==t){if(t===Am)return Am;if(!1===t||t instanceof au)return t}return!0}),Zn(n=>n!==Am),Di(1)))}function cR(e){return function Vi(...e){return Bi(e)}(ri(n=>{if(ul(n))throw iR(0,n)}),ge(n=>!0===n))}class Rm{constructor(n){this.segmentGroup=n||null}}class uR{constructor(n){this.urlTree=n}}function fu(e){return Ih(new Rm(e))}function dR(e){return Ih(new uR(e))}class J8{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new q(4002,!1)}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return N(i);if(r.numberOfChildren>1||!r.children[Qe])return Ih(new q(4e3,!1));r=r.children[Qe]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,r){const s=this.createSegmentGroup(n,t.root,i,r);return new au(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(n,t,i,r){const s=this.createSegments(n,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(n,l,i,r)}),new Zt(s,o)}createSegments(n,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const cw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q8(e,n,t,i,r){const s=uw(e,n,t);return s.matched?(i=function w8(e,n){return e.providers&&!e._injector&&(e._injector=P0(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function K8(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?N(r.map(o=>{const a=du(o,e);return Yo(function L8(e){return e&&jh(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(hu(),cR()):N(!0)}(i,n,t).pipe(ge(o=>!0===o?s:{...cw}))):N(s)}function uw(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...cw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||RW)(t,e,n);if(!r)return{...cw};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function hR(e,n,t,i){return t.length>0&&function tz(e,n,t){return t.some(i=>Mm(e,n,i)&&ms(i)!==Qe)}(e,t,i)?{segmentGroup:new Zt(n,ez(i,new Zt(t,e.children))),slicedSegments:[]}:0===t.length&&function nz(e,n,t){return t.some(i=>Mm(e,n,i))}(e,t,i)?{segmentGroup:new Zt(e.segments,X8(e,0,t,i,e.children)),slicedSegments:t}:{segmentGroup:new Zt(e.segments,e.children),slicedSegments:t}}function X8(e,n,t,i,r){const s={};for(const o of i)if(Mm(e,t,o)&&!r[ms(o)]){const a=new Zt([],{});s[ms(o)]=a}return{...r,...s}}function ez(e,n){const t={};t[Qe]=n;for(const i of e)if(""===i.path&&ms(i)!==Qe){const r=new Zt([],{});t[ms(i)]=r}return t}function Mm(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class oz{constructor(n,t,i,r,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new J8(this.urlSerializer,this.urlTree)}noMatchError(n){return new q(4002,!1)}recognize(){const n=hR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Qe).pipe(ll(t=>{if(t instanceof uR)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Rm?this.noMatchError(t):t}),ge(t=>{const i=new Tm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),r=new yo(i,t),s=new eR("",r),o=function YW(e,n,t=null,i=null){return HA(UA(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Qe).pipe(ll(i=>{throw i instanceof Rm?this.noMatchError(i):i}))}inheritParamsAndData(n){const t=n.value,i=XA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0)}processChildren(n,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return b(r).pipe(su(s=>{const o=i.children[s],a=function I8(e,n){const t=e.filter(i=>ms(i)===n);return t.push(...e.filter(i=>ms(i)!==n)),t}(t,s);return this.processSegmentGroup(n,a,o,s)}),zb((s,o)=>(s.push(...o),s)),_m(null),function NW(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Zn((r,s)=>e(r,s,i)):sn,qb(1),t?_m(n):SA(()=>new mm))}(),mt(s=>{if(null===s)return fu(i);const o=fR(s);return function az(e){e.sort((n,t)=>n.value.outlet===Qe?-1:t.value.outlet===Qe?1:n.value.outlet.localeCompare(t.value.outlet))}(o),N(o)}))}processSegment(n,t,i,r,s,o){return b(t).pipe(su(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,s,o).pipe(ll(l=>{if(l instanceof Rm)return N(null);throw l}))),Zo(a=>!!a),ll(a=>{if(lR(a))return function rz(e,n,t){return 0===n.length&&!e.children[t]}(i,r,s)?N([]):fu(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,s,o,a){return function iz(e,n,t,i){return!!(ms(e)===i||i!==Qe&&Mm(n,t,e))&&("**"===e.path||uw(n,e,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,s,o):fu(r):fu(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dR(s):this.applyRedirects.lineralizeSegments(i,s).pipe(mt(o=>{const a=new Zt(o,{});return this.processSegment(n,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:f}=uw(t,r,s);if(!a)return fu(t);const g=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,f);return r.redirectTo.startsWith("/")?dR(g):this.applyRedirects.lineralizeSegments(r,g).pipe(mt(m=>this.processSegment(n,i,t,m.concat(d),o,!1)))}matchSegmentAgainstRoute(n,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?RA(r).parameters:{};a=N({snapshot:new Tm(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pR(i),ms(i),i.component??i._loadedComponent??null,i,gR(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Q8(t,i,r,n).pipe(ge(({matched:l,consumedSegments:d,remainingSegments:f,parameters:g})=>l?{snapshot:new Tm(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pR(i),ms(i),i.component??i._loadedComponent??null,i,gR(i)),consumedSegments:d,remainingSegments:f}:null));return a.pipe(ye(l=>null===l?fu(t):this.getChildConfig(n=i._injector??n,i,r).pipe(ye(({routes:d})=>{const f=i._loadedInjector??n,{snapshot:g,consumedSegments:m,remainingSegments:v}=l,{segmentGroup:I,slicedSegments:S}=hR(t,m,v,d);if(0===S.length&&I.hasChildren())return this.processChildren(f,d,I).pipe(ge($=>null===$?null:[new yo(g,$)]));if(0===d.length&&0===S.length)return N([new yo(g,[])]);const O=ms(i)===s;return this.processSegment(f,d,I,S,O?Qe:s,!0).pipe(ge($=>[new yo(g,$)]))}))))}getChildConfig(n,t,i){return t.children?N({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?N({routes:t._loadedRoutes,injector:t._loadedInjector}):function q8(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?N(!0):N(r.map(o=>{const a=du(o,e);return Yo(function x8(e){return e&&jh(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(hu(),cR())}(n,t,i).pipe(mt(r=>r?this.configLoader.loadChildren(n,t).pipe(ri(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Y8(e){return Ih(rR(!1,3))}())):N({routes:[],injector:n})}}function lz(e){const n=e.value.routeConfig;return n&&""===n.path}function fR(e){const n=[],t=new Set;for(const i of e){if(!lz(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=fR(i.children);n.push(new yo(i.value,r))}return n.filter(i=>!t.has(i))}function pR(e){return e.data||{}}function gR(e){return e.resolve||{}}function uz(e,n){return mt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return N(t);let s=0;return b(r).pipe(su(o=>function dz(e,n,t,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!mR(r)&&(s[Sh]=r.title),function hz(e,n,t,i){const r=function fz(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return N({});const s={};return b(r).pipe(mt(o=>function pz(e,n,t,i){const r=Lh(n)??i,s=du(e,r);return Yo(s.resolve?s.resolve(n,t):r.runInContext(()=>s(n,t)))}(e[o],n,t,i).pipe(Zo(),ri(a=>{s[o]=a}))),qb(1),function NA(e){return ge(()=>e)}(s),ll(o=>lR(o)?Rt:Ih(o)))}(s,e,n,i).pipe(ge(o=>(e._resolvedData=o,e.data=XA(e,t).resolve,r&&mR(r)&&(e.data[Sh]=r.title),null)))}(o.route,i,e,n)),ri(()=>s++),qb(1),mt(o=>s===r.length?N(t):Rt))})}function mR(e){return"string"==typeof e.title||null===e.title}function dw(e){return ye(n=>{const t=e(n);return t?b(t).pipe(ge(()=>n)):N(n)})}const pu=new fe("ROUTES");let hw=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(KS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return N(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Yo(t.loadComponent()).pipe(ge(_R),ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Th(()=>{this.componentLoaders.delete(t)})),r=new IA(i,()=>new B).pipe(Wb());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function gz(e,n,t,i){return Yo(e.loadChildren()).pipe(ge(_R),mt(r=>r instanceof rS||Array.isArray(r)?N(r):b(n.compileModuleAsync(r))),ge(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(pu,[],{optional:!0,self:!0}).flat()),{routes:o.map(lw),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Th(()=>{this.childrenLoaders.delete(i)})),o=new IA(s,()=>new B).pipe(Wb());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _R(e){return function mz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Om=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B,this.transitionAbortSubject=new B,this.configLoader=ce(hw),this.environmentInjector=ce(Ki),this.urlSerializer=ce(Ah),this.rootContexts=ce(kh),this.inputBindingEnabled=null!==ce(Sm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new l8(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new a8(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new y({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zn(s=>0!==s.id),ge(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),ye(s=>{this.currentTransition=s;let o=!1,a=!1;return N(s).pipe(ri(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ye(l=>{const d=l.currentBrowserUrl.toString(),f=!t.navigated||l.extractedUrl.toString()!==d||d!==l.currentUrlTree.toString();if(!f&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new lu(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),Rt}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(ye(m=>{const v=this.transitions?.getValue();return this.events.next(new Dm(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Rt:Promise.resolve(m)}),function cz(e,n,t,i,r,s){return mt(o=>function sz(e,n,t,i,r,s,o="emptyOnly"){return new oz(e,n,t,i,r,o,s).recognize()}(e,n,t,i,o.extractedUrl,r,s).pipe(ge(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ri(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const v=new KA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:v,source:I,restoredState:S,extras:O}=l,$=new Dm(m,this.urlSerializer.serialize(v),I,S);this.events.next($);const k=QA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:k,urlAfterRedirects:v,extras:{...O,skipLocationChange:!1,replaceUrl:!1}},N(s)}{const m="";return this.events.next(new lu(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),Rt}}),ri(l=>{const d=new i8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ge(l=>(this.currentTransition=s={...l,guards:N8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function B8(e,n){return mt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?N({...t,guardsResult:!0}):function j8(e,n,t,i){return b(e).pipe(mt(r=>function z8(e,n,t,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?N(s.map(a=>{const l=Lh(n)??r,d=du(a,l);return Yo(function F8(e){return e&&jh(e.canDeactivate)}(d)?d.canDeactivate(e,n,t,i):l.runInContext(()=>d(e,n,t,i))).pipe(Zo())})).pipe(hu()):N(!0)}(r.component,r.route,t,n,i)),Zo(r=>!0!==r,!0))}(o,i,r,e).pipe(mt(a=>a&&function O8(e){return"boolean"==typeof e}(a)?function U8(e,n,t,i){return b(n).pipe(su(r=>Dh(function $8(e,n){return null!==e&&n&&n(new c8(e)),N(!0)}(r.route.parent,i),function H8(e,n){return null!==e&&n&&n(new d8(e)),N(!0)}(r.route,i),function W8(e,n,t){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function A8(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>DA(()=>N(o.guards.map(l=>{const d=Lh(o.node)??t,f=du(l,d);return Yo(function k8(e){return e&&jh(e.canActivateChild)}(f)?f.canActivateChild(i,e):d.runInContext(()=>f(i,e))).pipe(Zo())})).pipe(hu())));return N(s).pipe(hu())}(e,r.path,t),function G8(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return N(!0);const r=i.map(s=>DA(()=>{const o=Lh(n)??t,a=du(s,o);return Yo(function P8(e){return e&&jh(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(Zo())}));return N(r).pipe(hu())}(e,r.route,t))),Zo(r=>!0!==r,!0))}(i,s,e,n):N(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ri(l=>{if(s.guardsResult=l.guardsResult,ul(l.guardsResult))throw iR(0,l.guardsResult);const d=new r8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Zn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),dw(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(ri(d=>{const f=new s8(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ye(d=>{let f=!1;return N(d).pipe(uz(t.paramsInheritanceStrategy,this.environmentInjector),ri({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),ri(d=>{const f=new o8(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),dw(l=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(ri(m=>{f.component=m}),ge(()=>{})));for(const m of f.children)g.push(...d(m));return g};return Gb(d(l.targetSnapshot.root)).pipe(_m(),Di(1))}),dw(()=>this.afterPreactivation()),ge(l=>{const d=function _8(e,n,t){const i=Fh(e,n._root,t?t._root:void 0);return new JA(i,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:d},s}),ri(()=>{this.events.next(new Xb)}),((e,n,t,i)=>ge(r=>(new S8(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Di(1),ri({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ln(this.transitionAbortSubject.pipe(ri(l=>{throw l}))),Th(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ll(l=>{if(a=!0,sR(l))this.events.next(new Ph(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function b8(e){return sR(e)&&ul(e.url)}(l)?this.events.next(new ew(l.url)):s.resolve(!1);else{this.events.next(new Im(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(d){s.reject(d)}}return Rt}))}))}cancelNavigationTransition(t,i,r){const s=new Ph(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vR(e){return e!==xh}let yR=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Qe);return i}getResolvedTitleForRoute(t){return t.data[Sh]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return ce(_z)},providedIn:"root"})}return e})(),_z=(()=>{class e extends yR{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(_A))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return ce(bz)},providedIn:"root"})}return e})();class yz{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let bz=(()=>{class e extends yz{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Dn(e)))(r||e)}}();static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xm=new fe("",{providedIn:"root",factory:()=>({})});let wz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:function(){return ce(Cz)},providedIn:"root"})}return e})(),Cz=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Uh=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Uh||{});function bR(e,n){e.events.pipe(Zn(t=>t instanceof Jo||t instanceof Ph||t instanceof Im||t instanceof lu),ge(t=>t instanceof Jo||t instanceof lu?Uh.COMPLETE:t instanceof Ph&&(0===t.code||1===t.code)?Uh.REDIRECTING:Uh.FAILED),Zn(t=>t!==Uh.REDIRECTING),Di(1)).subscribe(()=>{n()})}function Ez(e){throw e}function Dz(e,n,t){return n.parse("/")}const Iz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(qS),this.isNgZoneEnabled=!1,this._events=new B,this.options=ce(xm,{optional:!0})||{},this.pendingTasks=ce(Zg),this.errorHandler=this.options.errorHandler||Ez,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Dz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(wz),this.routeReuseStrategy=ce(vz),this.titleStrategy=ce(yR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ce(pu,{optional:!0})?.flat()??[],this.navigationTransitions=ce(Om),this.urlSerializer=ce(Ah),this.location=ce(mb),this.componentInputBindingEnabled=!!ce(Sm,{optional:!0}),this.eventsSubscription=new Xe,this.isNgZoneEnabled=ce(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new au,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(wR(i)&&this._events.next(i));if(i instanceof Dm)vR(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof lu)this.rawUrlTree=r.rawUrl;else if(i instanceof KA){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Xb)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Ph)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof ew){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vR(r.source)};this.scheduleNavigation(s,xh,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Im&&this.restoreHistory(r,!0),i instanceof Jo&&(this.navigated=!0),wR(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(lw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:o;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{g=UA(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return HA(g,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ul(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,xh,null,i)}navigate(t,i={skipLocationChange:!1}){return function Sz(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new q(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Iz}:!1===i?{...Tz}:i,ul(t))return OA(this.currentUrlTree,t,r);const s=this.parseUrl(t);return OA(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,d;o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((g,m)=>{a=g,l=m});const f=this.pendingTasks.add();return bR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wR(e){return!(e instanceof Xb||e instanceof ew)}class CR{}let Rz=(()=>{class e{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(t=>t instanceof Jo),su(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=P0(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return b(r).pipe(Dt())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):N(null);const s=r.pipe(mt(o=>null===o?N(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?b([s,this.loader.loadComponent(i)]).pipe(Dt()):s})}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Yr),ee(KS),ee(Ki),ee(CR),ee(hw))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pw=new fe("");let ER=(()=>{class e{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Dm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof lu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ZA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ZA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function WI(){throw new Error("invalid")}()};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function bo(e,n){return{\u0275kind:e,\u0275providers:n}}function IR(){const e=ce(Ei);return n=>{const t=e.get(Go);if(n!==t.components[0])return;const i=e.get(Yr),r=e.get(TR);1===e.get(gw)&&i.initialNavigation(),e.get(SR,null,ct.Optional)?.setUpPreloading(),e.get(pw,null,ct.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const TR=new fe("",{factory:()=>new B}),gw=new fe("",{providedIn:"root",factory:()=>1}),SR=new fe("");function Pz(e){return bo(0,[{provide:SR,useExisting:Rz},{provide:CR,useExisting:e}])}const NR=new fe("ROUTER_FORROOT_GUARD"),Fz=[mb,{provide:Ah,useClass:Kb},Yr,kh,{provide:uu,useFactory:function DR(e){return e.routerState.root},deps:[Yr]},hw,[]];function Lz(){return new tN("Router",Yr)}let AR=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[Fz,[],{provide:pu,multi:!0,useValue:t},{provide:NR,useFactory:Uz,deps:[[Yr,new kd,new eg]]},{provide:xm,useValue:i||{}},i?.useHash?{provide:al,useClass:X$}:{provide:al,useClass:ON},{provide:pw,useFactory:()=>{const e=ce(mG),n=ce(dt),t=ce(xm),i=ce(Om),r=ce(Ah);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ER(r,i,e,n,t)}},i?.preloadingStrategy?Pz(i.preloadingStrategy).\u0275providers:[],{provide:tN,multi:!0,useFactory:Lz},i?.initialNavigation?Hz(i):[],i?.bindToComponentInputs?bo(8,[nR,{provide:Sm,useExisting:nR}]).\u0275providers:[],[{provide:RR,useFactory:IR},{provide:sb,multi:!0,useExisting:RR}]]}}static forChild(t){return{ngModule:e,providers:[{provide:pu,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||e)(ee(NR,8))};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();function Uz(e){return"guarded"}function Hz(e){return["disabled"===e.initialNavigation?bo(3,[{provide:J0,multi:!0,useFactory:()=>{const n=ce(Yr);return()=>{n.setUpLocationChangeListener()}}},{provide:gw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?bo(2,[{provide:gw,useValue:0},{provide:J0,multi:!0,deps:[Ei],useFactory:n=>{const t=n.get(J$,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=n.get(Yr),s=n.get(TR);bR(r,()=>{i(!0)}),n.get(Om).afterPreactivation=()=>(i(!0),s.closed?N(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const RR=new fe(""),lr={origin:"https://api.emailjs.com",blockHeadless:!1};var MR=Oe(861);class Pm{constructor(n=0,t="Network Error"){this.status=n,this.text=t}}const OR=function(){var e=(0,MR.Z)(function*(n,t,i={}){const r=yield fetch(lr.origin+n,{method:"POST",headers:i,body:t}),s=yield r.text(),o=new Pm(r.status,s);if(r.ok)return o;throw o});return function(t,i){return e.apply(this,arguments)}}(),VR=(e,n,t)=>{setTimeout(()=>{t.removeItem(e)},n)},e4_send=(e,n,t,i)=>{const r=(e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{})(i),s=r.publicKey||lr.publicKey,a={...lr.blockList,...r.blockList},l={...lr.limitRate,...r.limitRate};return(r.blockHeadless||lr.blockHeadless)&&(e=>e.webdriver||!e.languages||0===e.languages.length)(navigator)?Promise.reject(new Pm(451,"Unavailable For Headless Browser")):(((e,n,t)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!n||"string"!=typeof n)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||"string"!=typeof t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(s,e,n),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(t),t&&((e,n)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,n)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof n)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const t=((e,n)=>e instanceof FormData?e.get(n):e[n])(n,e.watchVariable);return"string"==typeof t&&e.list.includes(t)})(a,t)?Promise.reject(new Pm(403,"Forbidden")):((e,n,t)=>{if(!t.throttle)return!1;((e,n)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(n&&"string"!=typeof n)throw"The LimitRate ID has to be a string"})(t.throttle,t.id);const i=t.id||n,r=((e,n,t)=>{const i=Number(t.getItem(e)||0);return n-Date.now()+i})(i,t.throttle,e);return r>0?(VR(i,r,e),!0):(e.setItem(i,Date.now().toString()),VR(i,t.throttle,e),!1)})(localStorage,location.pathname,l)?Promise.reject(new Pm(429,"Too Many Requests")):OR("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:s,service_id:e,template_id:n,template_params:t}),{"Content-type":"application/json"}))};let t4=(()=>{class e{constructor(){}sendMail(t,i){e4_send("service_0lgcigd","template_hntxyv7",{"cc-address":t,content:i},"ONK21jFWWoMuoXxqo").then(s=>console.log("email elk\xfcldve",s)).catch(s=>console.log("email Hiba",s))}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class km{}class Fm{}class Jr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Jr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class n4{encodeKey(n){return UR(n)}encodeValue(n){return UR(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const r4=/%(\d[a-f0-9])/gi,s4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UR(e){return encodeURIComponent(e).replace(r4,(n,t)=>s4[t]??n)}function Lm(e){return`${e}`}class Qo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new n4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function i4(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(Lm):[Lm(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Qo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Lm(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(Lm(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class o4{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function HR(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $R(e){return typeof Blob<"u"&&e instanceof Blob}function GR(e){return typeof FormData<"u"&&e instanceof FormData}class Hh{constructor(n,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function a4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Jr),this.context||(this.context=new o4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Qo,this.urlWithParams=t}serializeBody(){return null===this.body?null:HR(this.body)||$R(this.body)||GR(this.body)||function l4(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GR(this.body)?null:$R(this.body)?this.body.type||null:HR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,d=n.params||this.params;const f=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((g,m)=>g.set(m,n.setHeaders[m]),l)),n.setParams&&(d=Object.keys(n.setParams).reduce((g,m)=>g.set(m,n.setParams[m]),d)),new Hh(t,i,s,{params:d,headers:l,context:f,reportProgress:a,responseType:r,withCredentials:o})}}var gu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(gu||{});class _w{constructor(n,t=200,i="OK"){this.headers=n.headers||new Jr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class vw extends _w{constructor(n={}){super(n),this.type=gu.ResponseHeader}clone(n={}){return new vw({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class mu extends _w{constructor(n={}){super(n),this.type=gu.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new mu({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class WR extends _w{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function yw(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let zR=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Hh)s=t;else{let l,d;l=r.headers instanceof Jr?r.headers:new Jr(r.headers),r.params&&(d=r.params instanceof Qo?r.params:new Qo({fromObject:r.params})),s=new Hh(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=N(s).pipe(su(l=>this.handler.handle(l)));if(t instanceof Hh||"events"===r.observe)return o;const a=o.pipe(Zn(l=>l instanceof mu));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ge(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Qo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,yw(r,i))}post(t,i,r={}){return this.request("POST",t,yw(r,i))}put(t,i,r={}){return this.request("PUT",t,yw(r,i))}static#e=this.\u0275fac=function(i){return new(i||e)(ee(km))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function ZR(e,n){return n(e)}function u4(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const h4=new fe(""),$h=new fe(""),YR=new fe("");function f4(){let e=null;return(n,t)=>{null===e&&(e=(ce(h4,{optional:!0})??[]).reduceRight(u4,ZR));const i=ce(Zg),r=i.add();return e(n,t).pipe(Th(()=>i.remove(r)))}}let JR=(()=>{class e extends km{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=ce(Zg)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get($h),...this.injector.get(YR,[])]));this.chain=r.reduceRight((s,o)=>function d4(e,n,t){return(i,r)=>t.runInContext(()=>n(i,s=>e(s,r)))}(s,o,this.injector),ZR)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Th(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Fm),ee(Ki))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const _4=/^\)\]\}',?\n/;let XR=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new q(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?b(i.\u0275loadImpl()):N(null)).pipe(ye(()=>new Ue(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((S,O)=>o.setRequestHeader(S,O.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const S=t.detectContentTypeHeader();null!==S&&o.setRequestHeader("Content-Type",S)}if(t.responseType){const S=t.responseType.toLowerCase();o.responseType="json"!==S?S:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const S=o.statusText||"OK",O=new Jr(o.getAllResponseHeaders()),$=function v4(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new vw({headers:O,status:o.status,statusText:S,url:$}),l},f=()=>{let{headers:S,status:O,statusText:$,url:k}=d(),Z=null;204!==O&&(Z=typeof o.response>"u"?o.responseText:o.response),0===O&&(O=Z?200:0);let ae=O>=200&&O<300;if("json"===t.responseType&&"string"==typeof Z){const pe=Z;Z=Z.replace(_4,"");try{Z=""!==Z?JSON.parse(Z):null}catch(He){Z=pe,ae&&(ae=!1,Z={error:He,text:Z})}}ae?(s.next(new mu({body:Z,headers:S,status:O,statusText:$,url:k||void 0})),s.complete()):s.error(new WR({error:Z,headers:S,status:O,statusText:$,url:k||void 0}))},g=S=>{const{url:O}=d(),$=new WR({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:O||void 0});s.error($)};let m=!1;const v=S=>{m||(s.next(d()),m=!0);let O={type:gu.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(O.total=S.total),"text"===t.responseType&&o.responseText&&(O.partialText=o.responseText),s.next(O)},I=S=>{let O={type:gu.UploadProgress,loaded:S.loaded};S.lengthComputable&&(O.total=S.total),s.next(O)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",v),null!==a&&o.upload&&o.upload.addEventListener("progress",I)),o.send(a),s.next({type:gu.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",v),null!==a&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||e)(ee(XN))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();const bw=new fe("XSRF_ENABLED"),eM=new fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tM=new fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nM{}let w4=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=GN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn),ee(Ls),ee(eM))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac})}return e})();function C4(e,n){const t=e.url.toLowerCase();if(!ce(bw)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=ce(nM).getToken(),r=ce(tM);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Xo=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Xo||{});function E4(...e){const n=[zR,XR,JR,{provide:km,useExisting:JR},{provide:Fm,useExisting:XR},{provide:$h,useValue:C4,multi:!0},{provide:bw,useValue:!0},{provide:nM,useClass:w4}];for(const t of e)n.push(...t.\u0275providers);return function Oy(e){return{\u0275providers:e}}(n)}const iM=new fe("LEGACY_INTERCEPTOR_FN");function D4(){return function dl(e,n){return{\u0275kind:e,\u0275providers:n}}(Xo.LegacyInterceptors,[{provide:iM,useFactory:f4},{provide:$h,useExisting:iM,multi:!0}])}let I4=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({providers:[E4(D4())]})}return e})();var M4=Oe(939),D=Oe(58),_u=Oe(534),ww=Oe(879),hl=Oe(537);Oe(365),(0,_u.registerVersion)("firebase","10.8.0","app");class P4 extends Xe{constructor(n,t){super()}schedule(n,t=0){return this}}const Bm={setInterval(e,n,...t){const{delegate:i}=Bm;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Bm;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class rM extends P4{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,i=0){return Bm.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Bm.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Te(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const Cw={now:()=>(Cw.delegate||Date).now(),delegate:void 0};class Gh{constructor(n,t=Gh.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}Gh.now=Cw.now;class sM extends Gh{constructor(n,t=Gh.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const L4=new class F4 extends sM{}(class k4 extends rM{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}}),jm=new sM(rM),V4=jm,Ew=new Lc("ANGULARFIRE2_VERSION");class oM{constructor(){return((e,n)=>{const t=(0,_u.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(e).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(j4)}}const j4="app-check";function vu(){}class aM{zone;delegate;constructor(n,t=L4){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{n.apply(this,[o])})},t,i)}}class U4{zone;task=null;constructor(n){this.zone=n}call(n,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vu,{},vu,vu)),t.pipe(ri({next:i,complete:i,error:i})).subscribe(n).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lM=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new aM(Zone.current)),this.insideAngular=t.run(()=>new aM(Zone.current,jm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(ee(dt))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ea(e){return function $4(e){return function(t){return(t=t.lift(new U4(e.ngZone))).pipe(yi(e.outsideAngular),Un(e.insideAngular))}}(function yu(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var ta=Oe(106);ta.Z.registerVersion("firebase","10.8.0","app-compat");const q4=["ngOnDestroy"];class cM{constructor(n){return n}}const Um=new fe("angularfire2.app.options"),Hm=new fe("angularfire2.app.name");function Dw(e,n,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const o=ta.Z.apps.filter(a=>a&&a.name===r.name)[0]||n.runOutsideAngular(()=>ta.Z.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(o.options)){const a=!!module.hot;Y4("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new cM(o)}const Y4=(e,...n)=>{},J4={provide:cM,useFactory:Dw,deps:[Um,dt,[new kd,Hm]]};let Q4=(()=>{class e{static initializeApp(t,i){return{ngModule:e,providers:[{provide:Um,useValue:t},{provide:Hm,useValue:i}]}}constructor(t){ta.Z.registerVersion("angularfire",Ew.full,"core"),ta.Z.registerVersion("angularfire",Ew.full,"app-compat"),ta.Z.registerVersion("angular",bI.full,t.toString())}static \u0275fac=function(i){return new(i||e)(ee(Ls))};static \u0275mod=wt({type:e});static \u0275inj=It({providers:[J4]})}return e})();function uM(e,n,t,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(s)return function X4(e,n){try{return e.toString()===n.toString()}catch{return e===n}}(r,o)||(dM("error",`${n} was already initialized on the ${t} Firebase App with different settings.${e5?" You may need to reload as Firebase is not HMR aware.":""}`),dM("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}const e5=typeof module<"u"&&!!module.hot,dM=(e,...n)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class t5 extends B{constructor(n=1/0,t=1/0,i=Cw){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(n),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!n.closed;o+=i?1:2)n.next(s[o]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function hM(e,n,t){let i,r=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e):i=e??1/0,K({connector:()=>new t5(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function fM(e,n){return E(n)?ye(()=>e,n):ye(()=>e)}const pM=new fe("angularfire2.auth.use-emulator"),gM=new fe("angularfire2.auth.settings"),mM=new fe("angularfire2.auth.tenant-id"),_M=new fe("angularfire2.auth.langugage-code"),vM=new fe("angularfire2.auth.use-device-language"),yM=new fe("angularfire.auth.persistence"),bM=(e,n,t,i,r,s,o,a)=>uM(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=n.runOutsideAngular(()=>e.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[d,f]of Object.entries(o))l.settings[d]=f;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]);let Iw=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,d,f,g,m,v){const I=new B,S=N(void 0).pipe(Un(o.outsideAngular),ye(()=>s.runOutsideAngular(()=>Promise.resolve().then(Oe.bind(Oe,365)))),ge(()=>Dw(t,s,i)),ge(O=>bM(O,s,a,d,f,g,l,m)),hM({bufferSize:1,refCount:!1}));if(Ob(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=N(null);else{S.pipe(Zo()).subscribe();const O=S.pipe(ye(Z=>Z.getRedirectResult().then(ae=>ae,()=>null)),ea,hM({bufferSize:1,refCount:!1})),$=S.pipe(ye(Z=>new Ue(ae=>({unsubscribe:s.runOutsideAngular(()=>Z.onAuthStateChanged(pe=>ae.next(pe),pe=>ae.error(pe),()=>ae.complete()))})))),k=S.pipe(ye(Z=>new Ue(ae=>({unsubscribe:s.runOutsideAngular(()=>Z.onIdTokenChanged(pe=>ae.next(pe),pe=>ae.error(pe),()=>ae.complete()))}))));this.authState=O.pipe(fM($),yi(o.outsideAngular),Un(o.insideAngular)),this.user=O.pipe(fM(k),yi(o.outsideAngular),Un(o.insideAngular)),this.idToken=this.user.pipe(ye(Z=>Z?b(Z.getIdToken()):N(null))),this.idTokenResult=this.user.pipe(ye(Z=>Z?b(Z.getIdTokenResult()):N(null))),this.credential=C(O,I,this.authState.pipe(Zn(Z=>!Z))).pipe(ge(Z=>Z?.user?Z:null),yi(o.outsideAngular),Un(o.insideAngular))}return((e,n,t,i={})=>new Proxy(e,{get:(r,s)=>t.runOutsideAngular(()=>{if(e[s])return i?.spy?.get&&i.spy.get(s,e[s]),e[s];if(q4.indexOf(s)>-1)return()=>{};const o=n.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>t.run(()=>d)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,d)=>o.then(f=>{const g=f?.(...d);return i?.spy?.apply&&i.spy.apply(s,d,g),g})})})}))(this,S,s,{spy:{apply:(O,$,k)=>{(O.startsWith("signIn")||O.startsWith("createUser"))&&k.then(Z=>I.next(Z))}}})}static \u0275fac=function(i){return new(i||e)(ee(Um),ee(Hm,8),ee(Ls),ee(dt),ee(lM),ee(pM,8),ee(gM,8),ee(mM,8),ee(_M,8),ee(vM,8),ee(yM,8),ee(oM,8))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),wM=(()=>{class e{constructor(t,i){this.afAuth=t,this.http=i,this.url="https://us-central1-hibajegykezelo-abbcf.cloudfunctions.net/api",this.isLogged=new y(null),this.isSAdmin=new y(null),this.isInformatikus=new y(null),this.actionCodeSettings={url:"https://hibajegykezelo-abbcf.web.app",handleCodeInApp:!0},this.afAuth.authState.subscribe(r=>{this.user=r,r&&r.getIdToken().then(s=>{this.user.token=s,this.getClaims(this.user.uid).subscribe(o=>{this.user.claims=o,o&&(this.isInformatikus.next(!!o.informatikus),this.isSAdmin.next(!!o.sAdmin))})}),this.isLogged.next(this.user)})}getClaims(t){let i=new Jr({Authorization:this.user.token});return console.log(this.url+this.user.uid+"/claims"),this.http.get(this.url+this.user.uid+"/claims",{headers:i})}setClaims(t){let i=new Jr({Authorization:this.user.token}),r={uid:this.user.uid,claims:{informatikus:!0,sAdmin:!0}};return console.log("headers:"+i),console.log("body:"+r),console.log("url:",this.url+"setCustomClaims"),this.http.get(this.url+"setCustomClaims",{headers:i})}googleAuth(){this.afAuth.signInWithPopup(new M4.X)}signUp(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i)}signIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i)}getLoggedUser(){return this.isLogged}getInformatikus(){return this.isInformatikus}getsAdmin(){return this.isSAdmin}sendInEmailLink(t){console.log("Email c\xedm:",t),this.afAuth.sendSignInLinkToEmail(t,this.actionCodeSettings).then(i=>console.log("email elk\xfcldve")).catch(i=>console.log("email hiba"))}signInEmailLink(t){return this.afAuth.signInWithEmailLink(t)}logout(){this.afAuth.signOut()}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Iw),ee(zR))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $m(...e){const n=ji(e);return J((t,i)=>{const r=e.length,s=new Array(r);let o=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)se(e[l]).subscribe(de(i,d=>{s[l]=d,!a&&!o[l]&&(o[l]=!0,(a=o.every(sn))&&(o=null))},Ce));t.subscribe(de(i,l=>{if(a){const d=[l,...s];i.next(n?n(...d):d)}}))})}const CM="@firebase/database";let Tw="";function Sw(e){Tw=e}class r5{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,D.Wl)(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:(0,D.cI)(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class s5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return(0,D.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const DM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new r5(n)}}catch{}return new s5},pl=DM("localStorage"),Nw=DM("sessionStorage"),bu=new ww.Yd("@firebase/database"),IM=function(){let e=1;return function(){return e++}}(),TM=function(e){const n=(0,D.dS)(e),t=new D.gQ;t.update(n);const i=t.digest();return D.US.encodeByteArray(i)},Wh=function(...e){let n="";for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Wh.apply(null,i):n+="object"==typeof i?(0,D.Wl)(i):i,n+=" "}return n};let gl=null,SM=!0;const NM=function(e,n){(0,D.hu)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(bu.logLevel=ww.in.VERBOSE,gl=bu.log.bind(bu),n&&Nw.set("logging_enabled",!0)):"function"==typeof e?gl=e:(gl=null,Nw.remove("logging_enabled"))},mi=function(...e){if(!0===SM&&(SM=!1,null===gl&&!0===Nw.get("logging_enabled")&&NM(!0)),gl){const n=Wh.apply(null,e);gl(n)}},zh=function(e){return function(...n){mi(e,...n)}},Aw=function(...e){const n="FIREBASE INTERNAL ERROR: "+Wh(...e);bu.error(n)},Gs=function(...e){const n=`FIREBASE FATAL ERROR: ${Wh(...e)}`;throw bu.error(n),new Error(n)},Li=function(...e){const n="FIREBASE WARNING: "+Wh(...e);bu.warn(n)},Gm=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},na="[MIN_NAME]",wo="[MAX_NAME]",ml=function(e,n){if(e===n)return 0;if(e===na||n===wo)return-1;if(n===na||e===wo)return 1;{const t=MM(e),i=MM(n);return null!==t?null!==i?t-i==0?e.length-n.length:t-i:-1:null!==i?1:e<n?-1:1}},l5=function(e,n){return e===n?0:e<n?-1:1},qh=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+(0,D.Wl)(n))},Rw=function(e){if("object"!=typeof e||null===e)return(0,D.Wl)(e);const n=[];for(const i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)0!==i&&(t+=","),t+=(0,D.Wl)(n[i]),t+=":",t+=Rw(e[n[i]]);return t+="}",t},AM=function(e,n){const t=e.length;if(t<=n)return[e];const i=[];for(let r=0;r<t;r+=n)i.push(e.substring(r,r+n>t?t:r+n));return i};function _i(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const RM=function(e){(0,D.hu)(!Gm(e),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===e?(s=0,o=0,r=1/e==-1/0?1:0):(r=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(e/Math.pow(2,-1074))));const d=[];for(l=52;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(r?1:0),d.reverse();const f=d.join("");let g="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),g+=m}return g.toLowerCase()},h5=new RegExp("^-?(0*)\\d{1,10}$"),MM=function(e){if(h5.test(e)){const n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},wu=function(e){try{e()}catch(n){setTimeout(()=>{throw Li("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Kh=function(e,n){const t=setTimeout(e,n);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class m5{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Li(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _5{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Li(n)}}let Zh=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const FM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,BM="websocket",jM="long_polling";class Ow{constructor(n,t,i,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&pl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function UM(e,n,t){let i;if((0,D.hu)("string"==typeof n,"typeof type must == string"),(0,D.hu)("object"==typeof t,"typeof params must == object"),n===BM)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==jM)throw new Error("Unknown connection type: "+n);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function v5(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const r=[];return _i(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class y5{constructor(){this.counters_={}}incrementCounter(n,t=1){(0,D.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return(0,D.p$)(this.counters_)}}const xw={},Pw={};function kw(e){const n=e.toString();return xw[n]||(xw[n]=new y5),xw[n]}class w5{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&wu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ia{constructor(n,t,i,r,s,o,a){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zh(n),this.stats_=kw(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),UM(t,jM,l))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new w5(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,D.Yr)()||"complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fw((...s)=>{const[o,a,l,d,f]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&FM.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!ia.forceAllow_&&(ia.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=(0,D.Wl)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,D.h$)(t),r=AM(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=(0,D.Wl)(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Fw{constructor(n,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=IM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Fw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mi("frame writing exception"),a.stack&&mi(a.stack),mi(a)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||mi("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(r),i()})}addTag(n,t){(0,D.Yr)()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{mi("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let zm=null;typeof MozWebSocket<"u"?zm=MozWebSocket:typeof WebSocket<"u"&&(zm=WebSocket);let Cu=(()=>{class e{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zh(this.connId),this.stats_=kw(i),this.connURL=e.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const a={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&FM.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),UM(t,BM,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pl.set("previous_websocket_failure",!0);try{let r;if((0,D.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Tw}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new zm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==zm&&!e.forceDisallow_}static previouslyFailed(){return pl.isInMemoryStorage||!0===pl.get("previous_websocket_failure")}markConnectionHealthy(){pl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,D.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,D.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=AM(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),KM=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ia,Cu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Cu&&Cu.isAvailable();let r=i&&!Cu.previouslyFailed();if(t.webSocketOnly&&(i||Li("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cu];else{const s=this.transports_=[];for(const o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class tO{constructor(n,t,i,r,s,o,a,l,d,f){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zh("c:"+this.id+":"),this.transportManager_=new KM(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=Kh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=qh("t",n),i=qh("d",n);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=qh("t",n),i=qh("d",n);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=qh("t",n);if("d"in n){const i=n.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?Aw("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Aw("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Li("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Kh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nO{put(n,t,i,r){}merge(n,t,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}}class iO{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,D.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});const r=this.getInitialEvent(n);r&&t.apply(i,r)}off(n,t,i){this.validateEventType_(n);const r=this.listeners_[n]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(n){(0,D.hu)(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class qm extends iO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qm}getInitialEvent(n){return(0,D.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Kt{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function xt(){return new Kt("")}function ht(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ra(e){return e.pieces_.length-e.pieceNum_}function ln(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Kt(e.pieces_,n)}function Vw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Yh(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function oO(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Kt(n,0)}function Sn(e,n){const t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof Kt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{const i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Kt(t,0)}function ft(e){return e.pieceNum_>=e.pieces_.length}function Ji(e,n){const t=ht(e),i=ht(n);if(null===t)return n;if(t===i)return Ji(ln(e),ln(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function $5(e,n){const t=Yh(e,0),i=Yh(n,0);for(let r=0;r<t.length&&r<i.length;r++){const s=ml(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function Bw(e,n){if(ra(e)!==ra(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function Qr(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(ra(e)>ra(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}class G5{constructor(n,t){this.errorPrefix_=t,this.parts_=Yh(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,D.ug)(this.parts_[i]);aO(this)}}function aO(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_l(e))}function _l(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class jw extends iO{constructor(){let n,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jw}getInitialEvent(n){return(0,D.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Jh=1e3;let Zm,vl=(()=>{class e extends nO{constructor(t,i,r,s,o,a,l,d){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=e.nextPersistentConnectionId_++,this.log_=zh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jw.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&qm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_((0,D.Wl)(o)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new D.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const d=l.d,f=l.s;e.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),"ok"!==f&&this.removeListen_(r,s),t.onComplete&&t.onComplete(f,d))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,D.r3)(t,"w")){const r=(0,D.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Li(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,D.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,D.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,D.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):Aw("Unrecognized action received from server: "+(0,D.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,MR.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+e.nextConnectionId_++,a=t.lastSessionId;let l=!1,d=null;const f=function(){d?d.close():(l=!0,s())};t.realtime_={close:f,sendRequest:function(v){(0,D.hu)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)}};const m=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[v,I]=yield Promise.all([t.authTokenProvider_.getToken(m),t.appCheckTokenProvider_.getToken(m)]);l?mi("getToken() completed but was canceled"):(mi("getToken() completed. Creating connection."),t.authToken_=v&&v.accessToken,t.appCheckToken_=I&&I.token,d=new tO(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,S=>{Li(S+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(v){t.log_("Failed to get token: "+v),l||(t.repoInfo_.nodeAdmin&&Li(v),f())}}})()}interrupt(t){mi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){mi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Jh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>Rw(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Kt(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){mi("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){mi("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,D.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Tw.replace(/\./g,"-")]=1,(0,D.uI)()?t["framework.cordova"]=1:(0,D.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qm.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class vt{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new vt(n,t)}}class Km{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const i=new vt(na,n),r=new vt(na,t);return 0!==this.compare(i,r)}minPost(){return vt.MIN}}class uO extends Km{static get __EMPTY_NODE(){return Zm}static set __EMPTY_NODE(n){Zm=n}compare(n,t){return ml(n.name,t.name)}isDefinedOn(n){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return vt.MIN}maxPost(){return new vt(wo,Zm)}makePost(n,t){return(0,D.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new vt(n,Zm)}toString(){return".key"}}const Ws=new uO;class Ym{constructor(n,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!n.isEmpty();)if(o=t?i(n.key,t):1,r&&(o*=-1),o<0)n=this.isReverse_?n.left:n.right;else{if(0===o){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Hw,_s=(()=>{class e{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??e.RED,this.left=s??cr.EMPTY_NODE,this.right=o??cr.EMPTY_NODE}copy(t,i,r,s,o){return new e(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return cr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class cr{constructor(n,t=cr.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new cr(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,_s.BLACK,null,null))}remove(n){return new cr(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,_s.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Ym(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new Ym(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new Ym(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new Ym(this.root_,null,this.comparator_,!0,n)}}function Q5(e,n){return ml(e.name,n.name)}function Uw(e,n){return ml(e,n)}cr.EMPTY_NODE=new class J5{copy(n,t,i,r,s){return this}insert(n,t,i){return new _s(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const dO=function(e){return"number"==typeof e?"number:"+RM(e):"string:"+e},hO=function(e){if(e.isLeafNode()){const n=e.val();(0,D.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,D.r3)(n,".sv"),"Priority must be a string or number.")}else(0,D.hu)(e===Hw||e.isEmpty(),"priority of unexpected type.");(0,D.hu)(e===Hw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let fO,pO,gO,Eu=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),hO(this.priorityNode_)}static set __childrenNodeConstructor(t){fO=t}static get __childrenNodeConstructor(){return fO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ft(t)?this:".priority"===ht(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ht(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,D.hu)(".priority"!==r||1===ra(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ln(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+dO(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?RM(this.value_):this.value_,this.lazyHash_=TM(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,D.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(i),o=e.VALUE_TYPE_ORDER.indexOf(r);return(0,D.hu)(s>=0,"Unknown leaf type: "+i),(0,D.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const pn=new class n6 extends Km{compare(n,t){const i=n.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?ml(n.name,t.name):s}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(wo,new Eu("[PRIORITY-POST]",gO))}makePost(n,t){const i=pO(n);return new vt(t,new Eu("[PRIORITY-POST]",i))}toString(){return".priority"}},i6=Math.log(2);class r6{constructor(n){this.count=parseInt(Math.log(n+1)/i6,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&r}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Jm=function(e,n,t,i){e.sort(n);const r=function(l,d){const f=d-l;let g,m;if(0===f)return null;if(1===f)return g=e[l],m=t?t(g):g,new _s(m,g.node,_s.BLACK,null,null);{const v=parseInt(f/2,10)+l,I=r(l,v),S=r(v+1,d);return g=e[v],m=t?t(g):g,new _s(m,g.node,_s.BLACK,I,S)}},a=function(l){let d=null,f=null,g=e.length;const m=function(I,S){const O=g-I,$=g;g-=I;const k=r(O+1,$),Z=e[O],ae=t?t(Z):Z;v(new _s(ae,Z.node,S,null,k))},v=function(I){d?(d.left=I,d=I):(f=I,d=I)};for(let I=0;I<l.count;++I){const S=l.nextBitIsOne(),O=Math.pow(2,l.count-(I+1));S?m(O,_s.BLACK):(m(O,_s.BLACK),m(O,_s.RED))}return f}(new r6(e.length));return new cr(i||n,a)};let $w;const Du={};class Co{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return(0,D.hu)(Du&&pn,"ChildrenNode.ts has not been loaded"),$w=$w||new Co({".priority":Du},{".priority":pn}),$w}get(n){const t=(0,D.DV)(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof cr?t:null}hasIndex(n){return(0,D.r3)(this.indexSet_,n.toString())}addIndex(n,t){(0,D.hu)(n!==Ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(vt.Wrap);let a,o=s.getNext();for(;o;)r=r||n.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?Jm(i,n.getCompare()):Du;const l=n.toString(),d=Object.assign({},this.indexSet_);d[l]=n;const f=Object.assign({},this.indexes_);return f[l]=a,new Co(f,d)}addToIndexes(n,t){const i=(0,D.UI)(this.indexes_,(r,s)=>{const o=(0,D.DV)(this.indexSet_,s);if((0,D.hu)(o,"Missing index implementation for "+s),r===Du){if(o.isDefinedOn(n.node)){const a=[],l=t.getIterator(vt.Wrap);let d=l.getNext();for(;d;)d.name!==n.name&&a.push(d),d=l.getNext();return a.push(n),Jm(a,o.getCompare())}return Du}{const a=t.get(n.name);let l=r;return a&&(l=l.remove(new vt(n.name,a))),l.insert(n,n.node)}});return new Co(i,this.indexSet_)}removeFromIndexes(n,t){const i=(0,D.UI)(this.indexes_,r=>{if(r===Du)return r;{const s=t.get(n.name);return s?r.remove(new vt(n.name,s)):r}});return new Co(i,this.indexSet_)}}let Qh,Je=(()=>{class e{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&hO(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qh||(Qh=new e(new cr(Uw),null,Co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qh}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Qh:i}}getChild(t){const i=ht(t);return null===i?this:this.getImmediateChild(i).getChild(ln(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,D.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new vt(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Qh:this.priorityNode_;return new e(s,a,o)}}updateChild(t,i){const r=ht(t);if(null===r)return i;{(0,D.hu)(".priority"!==ht(t)||1===ra(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ln(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(pn,(a,l)=>{i[a]=l.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+dO(this.getPriority().val())+":"),this.forEachChild(pn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":TM(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new vt(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new vt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new vt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,vt.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,vt.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xh?-1:0}withIndex(t){if(t===Ws||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ws||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(pn),s=i.getIterator(pn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Ws?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Xh=new class s6 extends Je{constructor(){super(new cr(Uw),Je.EMPTY_NODE,Co.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Je.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vt,{MIN:{value:new vt(na,Je.EMPTY_NODE)},MAX:{value:new vt(wo,Xh)}}),uO.__EMPTY_NODE=Je.EMPTY_NODE,Eu.__childrenNodeConstructor=Je,function X5(e){Hw=e}(Xh),function t6(e){gO=e}(Xh);const o6=!0;function xn(e,n=null){if(null===e)return Je.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),(0,D.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Eu(e,xn(n));if(e instanceof Array||!o6){let t=Je.EMPTY_NODE;return _i(e,(i,r)=>{if((0,D.r3)(e,i)&&"."!==i.substring(0,1)){const s=xn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(xn(n))}{const t=[];let i=!1;if(_i(e,(o,a)=>{if("."!==o.substring(0,1)){const l=xn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new vt(o,l)))}}),0===t.length)return Je.EMPTY_NODE;const s=Jm(t,Q5,o=>o.name,Uw);if(i){const o=Jm(t,pn.getCompare());return new Je(s,xn(n),new Co({".priority":o},{".priority":pn}))}return new Je(s,xn(n),Co.Default)}}!function e6(e){pO=e}(xn);class Gw extends Km{constructor(n){super(),this.indexPath_=n,(0,D.hu)(!ft(n)&&".priority"!==ht(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const i=this.extractChild(n.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?ml(n.name,t.name):s}makePost(n,t){const i=xn(n),r=Je.EMPTY_NODE.updateChild(this.indexPath_,i);return new vt(t,r)}maxPost(){const n=Je.EMPTY_NODE.updateChild(this.indexPath_,Xh);return new vt(wo,n)}toString(){return Yh(this.indexPath_,0).join("/")}}const Ww=new class a6 extends Km{compare(n,t){const i=n.node.compareTo(t.node);return 0===i?ml(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(n,t){const i=xn(n);return new vt(t,i)}toString(){return".value"}};function mO(e){return{type:"value",snapshotNode:e}}function Iu(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function ef(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function tf(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class zw{constructor(n){this.index_=n}updateChild(n,t,i,r,s,o){(0,D.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=n.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?n.hasChild(t)?o.trackChildChange(ef(t,a)):(0,D.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Iu(t,i)):o.trackChildChange(tf(t,i,a))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return null!=i&&(n.isLeafNode()||n.forEachChild(pn,(r,s)=>{t.hasChild(r)||i.trackChildChange(ef(r,s))}),t.isLeafNode()||t.forEachChild(pn,(r,s)=>{if(n.hasChild(r)){const o=n.getImmediateChild(r);o.equals(s)||i.trackChildChange(tf(r,s,o))}else i.trackChildChange(Iu(r,s))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?Je.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class nf{constructor(n){this.indexedFilter_=new zw(n.getIndex()),this.index_=n.getIndex(),this.startPost_=nf.getStartPost_(n),this.endPost_=nf.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,r,s,o){return this.matches(new vt(t,i))||(i=Je.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,r,s,o)}updateFullNode(n,t,i){t.isLeafNode()&&(t=Je.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Je.EMPTY_NODE);const s=this;return t.forEachChild(pn,(o,a)=>{s.matches(new vt(o,a))||(r=r.updateImmediateChild(o,Je.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class c6{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new nf(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,r,s,o){return this.rangedFilter_.matches(new vt(t,i))||(i=Je.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,r,s,o):this.fullLimitUpdateChild_(n,t,i,s,o)}updateFullNode(n,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Je.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Je.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),o++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(Je.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Je.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,r,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(m,v)=>g(v,m)}else o=this.index_.getCompare();const a=n;(0,D.hu)(a.numChildren()===this.limit_,"");const l=new vt(t,i),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(t)){const g=a.getImmediateChild(t);let m=r.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=m&&(m.name===t||a.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const v=null==m?1:o(m,l);if(f&&!i.isEmpty()&&v>=0)return s?.trackChildChange(tf(t,i,g)),a.updateImmediateChild(t,i);{s?.trackChildChange(ef(t,g));const S=a.updateImmediateChild(t,Je.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(s?.trackChildChange(Iu(m.name,m.node)),S.updateImmediateChild(m.name,m.node)):S}}return i.isEmpty()?n:f&&o(d,l)>=0?(null!=s&&(s.trackChildChange(ef(d.name,d.node)),s.trackChildChange(Iu(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(d.name,Je.EMPTY_NODE)):n}}class Qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:na}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const n=new Qm;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function qw(e,n,t){const i=e.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Kw(e,n,t){const i=e.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Xm(e,n){const t=e.copy();return t.index_=n,t}function _O(e){const n={};if(e.isDefault())return n;let t;if(e.index_===pn?t="$priority":e.index_===Ww?t="$value":e.index_===Ws?t="$key":((0,D.hu)(e.index_ instanceof Gw,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,D.Wl)(t),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";n[i]=(0,D.Wl)(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+(0,D.Wl)(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";n[i]=(0,D.Wl)(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+(0,D.Wl)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function vO(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==pn&&(n.i=e.index_.toString()),n}class e_ extends nO{constructor(n,t,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=zh("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:((0,D.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,r){const s=n._path.toString();this.log_("Listen called for "+s+" "+n._queryIdentifier);const o=e_.getListenId_(n,i),a={};this.listens_[o]=a;const l=_O(n._queryParams);this.restRequest_(s+".json",l,(d,f)=>{let g=f;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(s,g,!1,i),(0,D.DV)(this.listens_,o)===a){let m;m=d?401===d?"permission_denied":"rest_error:"+d:"ok",r(m,null)}})}unlisten(n,t){const i=e_.getListenId_(n,t);delete this.listens_[i]}get(n){const t=_O(n._queryParams),i=n._path.toString(),r=new D.BH;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,D.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,D.cI)(a.responseText)}catch{Li("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Li("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class g6{constructor(){this.rootNode_=Je.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function t_(){return{value:null,children:new Map}}function Tu(e,n,t){if(ft(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const i=ht(n);e.children.has(i)||e.children.set(i,t_()),Tu(e.children.get(i),n=ln(n),t)}}function Zw(e,n){if(ft(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const t=e.value;return e.value=null,t.forEachChild(pn,(i,r)=>{Tu(e,new Kt(i),r)}),Zw(e,n)}}if(e.children.size>0){const t=ht(n);return n=ln(n),e.children.has(t)&&Zw(e.children.get(t),n)&&e.children.delete(t),0===e.children.size}return!0}function Yw(e,n,t){null!==e.value?t(n,e.value):function m6(e,n){e.children.forEach((t,i)=>{n(i,t)})}(e,(i,r)=>{Yw(r,new Kt(n.toString()+"/"+i),t)})}class _6{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&_i(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=n,t}}class b6{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new _6(n);const i=1e4+2e4*Math.random();Kh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),t={};let i=!1;_i(n,(r,s)=>{s>0&&(0,D.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Kh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zs=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(zs||{});function Xw(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class n_{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=zs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(ft(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Kt(n));return new n_(xt(),t,this.revert)}}return(0,D.hu)(ht(this.path)===n,"operationForChild called for unrelated child."),new n_(ln(this.path),this.affectedTree,this.revert)}}class rf{constructor(n,t){this.source=n,this.path=t,this.type=zs.LISTEN_COMPLETE}operationForChild(n){return ft(this.path)?new rf(this.source,xt()):new rf(this.source,ln(this.path))}}class yl{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=zs.OVERWRITE}operationForChild(n){return ft(this.path)?new yl(this.source,xt(),this.snap.getImmediateChild(n)):new yl(this.source,ln(this.path),this.snap)}}class Su{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=zs.MERGE}operationForChild(n){if(ft(this.path)){const t=this.children.subtree(new Kt(n));return t.isEmpty()?null:t.value?new yl(this.source,xt(),t.value):new Su(this.source,xt(),t)}return(0,D.hu)(ht(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Su(this.source,ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sa{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ft(n))return this.isFullyInitialized()&&!this.filtered_;const t=ht(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class w6{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function sf(e,n,t,i,r,s){const o=i.filter(a=>a.type===t);o.sort((a,l)=>function D6(e,n,t){if(null==n.childName||null==t.childName)throw(0,D.g5)("Should only compare child_ events.");const i=new vt(n.childName,n.snapshotNode),r=new vt(t.childName,t.snapshotNode);return e.index_.compare(i,r)}(e,a,l)),o.forEach(a=>{const l=function E6(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,a,s);r.forEach(d=>{d.respondsTo(a.type)&&n.push(d.createEvent(l,e.query_))})})}function i_(e,n){return{eventCache:e,serverCache:n}}function af(e,n,t,i){return i_(new sa(n,t,i),e.serverCache)}function bO(e,n,t,i){return i_(e.eventCache,new sa(n,t,i))}function r_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function bl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let eC;class gn{constructor(n,t=(()=>(eC||(eC=new cr(l5)),eC))()){this.value=n,this.children=t}static fromObject(n){let t=new gn(null);return _i(n,(i,r)=>{t=t.set(new Kt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:xt(),value:this.value};if(ft(n))return null;{const i=ht(n),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ln(n),t);return null!=s?{path:Sn(new Kt(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ft(n))return this;{const t=ht(n),i=this.children.get(t);return null!==i?i.subtree(ln(n)):new gn(null)}}set(n,t){if(ft(n))return new gn(t,this.children);{const i=ht(n),s=(this.children.get(i)||new gn(null)).set(ln(n),t),o=this.children.insert(i,s);return new gn(this.value,o)}}remove(n){if(ft(n))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const t=ht(n),i=this.children.get(t);if(i){const r=i.remove(ln(n));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new gn(null):new gn(this.value,s)}return this}}get(n){if(ft(n))return this.value;{const t=ht(n),i=this.children.get(t);return i?i.get(ln(n)):null}}setTree(n,t){if(ft(n))return t;{const i=ht(n),s=(this.children.get(i)||new gn(null)).setTree(ln(n),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new gn(this.value,o)}}fold(n){return this.fold_(xt(),n)}fold_(n,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Sn(n,r),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,xt(),t)}findOnPath_(n,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ft(n))return null;{const s=ht(n),o=this.children.get(s);return o?o.findOnPath_(ln(n),Sn(t,s),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,xt(),t)}foreachOnPath_(n,t,i){if(ft(n))return this;{this.value&&i(t,this.value);const r=ht(n),s=this.children.get(r);return s?s.foreachOnPath_(ln(n),Sn(t,r),i):new gn(null)}}foreach(n){this.foreach_(xt(),n)}foreach_(n,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Sn(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}}class vs{constructor(n){this.writeTree_=n}static empty(){return new vs(new gn(null))}}function lf(e,n,t){if(ft(n))return new vs(new gn(t));{const i=e.writeTree_.findRootMostValueAndPath(n);if(null!=i){const r=i.path;let s=i.value;const o=Ji(r,n);return s=s.updateChild(o,t),new vs(e.writeTree_.set(r,s))}{const r=new gn(t),s=e.writeTree_.setTree(n,r);return new vs(s)}}}function tC(e,n,t){let i=e;return _i(t,(r,s)=>{i=lf(i,Sn(n,r),s)}),i}function wO(e,n){if(ft(n))return vs.empty();{const t=e.writeTree_.setTree(n,new gn(null));return new vs(t)}}function nC(e,n){return null!=wl(e,n)}function wl(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(Ji(t.path,n)):null}function CO(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(pn,(i,r)=>{n.push(new vt(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&n.push(new vt(i,r.value))}),n}function oa(e,n){if(ft(n))return e;{const t=wl(e,n);return new vs(null!=t?new gn(t):e.writeTree_.subtree(n))}}function iC(e){return e.writeTree_.isEmpty()}function Nu(e,n){return EO(xt(),e.writeTree_,n)}function EO(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((r,s)=>{".priority"===r?((0,D.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=EO(Sn(e,r),s,t)}),!t.getChild(e).isEmpty()&&null!==i&&(t=t.updateChild(Sn(e,".priority"),i)),t}}function s_(e,n){return NO(n,e)}function R6(e,n){if(e.snap)return Qr(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&Qr(Sn(e.path,t),n))return!0;return!1}function O6(e){return e.visible}function DO(e,n,t){let i=vs.empty();for(let r=0;r<e.length;++r){const s=e[r];if(n(s)){const o=s.path;let a;if(s.snap)Qr(t,o)?(a=Ji(t,o),i=lf(i,a,s.snap)):Qr(o,t)&&(a=Ji(o,t),i=lf(i,xt(),s.snap.getChild(a)));else{if(!s.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(Qr(t,o))a=Ji(t,o),i=tC(i,a,s.children);else if(Qr(o,t))if(a=Ji(o,t),ft(a))i=tC(i,xt(),s.children);else{const l=(0,D.DV)(s.children,ht(a));if(l){const d=l.getChild(ln(a));i=lf(i,xt(),d)}}}}}return i}function IO(e,n,t,i,r){if(i||r){const s=oa(e.visibleWrites,n);return!r&&iC(s)?t:r||null!=t||nC(s,xt())?Nu(DO(e.allWrites,function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Qr(d.path,n)||Qr(n,d.path))},n),t||Je.EMPTY_NODE):null}{const s=wl(e.visibleWrites,n);if(null!=s)return s;{const o=oa(e.visibleWrites,n);return iC(o)?t:null!=t||nC(o,xt())?Nu(o,t||Je.EMPTY_NODE):null}}}function o_(e,n,t,i){return IO(e.writeTree,e.treePath,n,t,i)}function rC(e,n){return function x6(e,n,t){let i=Je.EMPTY_NODE;const r=wl(e.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(pn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=oa(e.visibleWrites,n);return t.forEachChild(pn,(o,a)=>{const l=Nu(oa(s,new Kt(o)),a);i=i.updateImmediateChild(o,l)}),CO(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return CO(oa(e.visibleWrites,n)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(e.writeTree,e.treePath,n)}function TO(e,n,t,i){return function P6(e,n,t,i,r){(0,D.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Sn(n,t);if(nC(e.visibleWrites,s))return null;{const o=oa(e.visibleWrites,s);return iC(o)?r.getChild(t):Nu(o,r.getChild(t))}}(e.writeTree,e.treePath,n,t,i)}function a_(e,n){return function F6(e,n){return wl(e.visibleWrites,n)}(e.writeTree,Sn(e.treePath,n))}function sC(e,n,t){return function k6(e,n,t,i){const r=Sn(n,t),s=wl(e.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Nu(oa(e.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function SO(e,n){return NO(Sn(e.treePath,n),e.writeTree)}function NO(e,n){return{treePath:e,writeTree:n}}class j6{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,i=n.childName;(0,D.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,tf(i,n.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,ef(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Iu(i,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,D.g5)("Illegal combination of changes: "+n+" occurred after "+r);this.changeMap.set(i,tf(i,n.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const AO=new class U6{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}};class oC{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sC(this.writes_,n,i)}}getChildAfterChild(n,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:bl(this.viewCache_),s=function B6(e,n,t,i,r,s){return function L6(e,n,t,i,r,s,o){let a;const l=oa(e.visibleWrites,n),d=wl(l,xt());if(null!=d)a=d;else{if(null==t)return[];a=Nu(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const f=[],g=o.getCompare(),m=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=m.getNext();for(;v&&f.length<r;)0!==g(v,i)&&f.push(v),v=m.getNext();return f}}(e.writeTree,e.treePath,n,t,i,r,s)}(this.writes_,r,t,1,i,n);return 0===s.length?null:s[0]}}function RO(e,n,t,i,r,s){const o=n.eventCache;if(null!=a_(i,t))return n;{let a,l;if(ft(t))if((0,D.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const d=bl(n),g=rC(i,d instanceof Je?d:Je.EMPTY_NODE);a=e.filter.updateFullNode(n.eventCache.getNode(),g,s)}else{const d=o_(i,bl(n));a=e.filter.updateFullNode(n.eventCache.getNode(),d,s)}else{const d=ht(t);if(".priority"===d){(0,D.hu)(1===ra(t),"Can't have a priority with additional path components");const f=o.getNode();l=n.serverCache.getNode();const g=TO(i,t,f,l);a=null!=g?e.filter.updatePriority(f,g):o.getNode()}else{const f=ln(t);let g;if(o.isCompleteForChild(d)){l=n.serverCache.getNode();const m=TO(i,t,o.getNode(),l);g=null!=m?o.getNode().getImmediateChild(d).updateChild(f,m):o.getNode().getImmediateChild(d)}else g=sC(i,d,n.serverCache);a=null!=g?e.filter.updateChild(o.getNode(),d,g,f,r,s):o.getNode()}}return af(n,a,o.isFullyInitialized()||ft(t),e.filter.filtersNodes())}}function l_(e,n,t,i,r,s,o,a){const l=n.serverCache;let d;const f=o?e.filter:e.filter.getIndexedFilter();if(ft(t))d=f.updateFullNode(l.getNode(),i,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(t,i);d=f.updateFullNode(l.getNode(),v,null)}else{const v=ht(t);if(!l.isCompleteForPath(t)&&ra(t)>1)return n;const I=ln(t),O=l.getNode().getImmediateChild(v).updateChild(I,i);d=".priority"===v?f.updatePriority(l.getNode(),O):f.updateChild(l.getNode(),v,O,I,AO,null)}const g=bO(n,d,l.isFullyInitialized()||ft(t),f.filtersNodes());return RO(e,g,t,r,new oC(r,g,s),a)}function aC(e,n,t,i,r,s,o){const a=n.eventCache;let l,d;const f=new oC(r,n,s);if(ft(t))d=e.filter.updateFullNode(n.eventCache.getNode(),i,o),l=af(n,d,!0,e.filter.filtersNodes());else{const g=ht(t);if(".priority"===g)d=e.filter.updatePriority(n.eventCache.getNode(),i),l=af(n,d,a.isFullyInitialized(),a.isFiltered());else{const m=ln(t),v=a.getNode().getImmediateChild(g);let I;if(ft(m))I=i;else{const S=f.getCompleteChild(g);I=null!=S?".priority"===Vw(m)&&S.getChild(oO(m)).isEmpty()?S:S.updateChild(m,i):Je.EMPTY_NODE}l=v.equals(I)?n:af(n,e.filter.updateChild(a.getNode(),g,I,m,f,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function MO(e,n){return e.eventCache.isCompleteForChild(n)}function OO(e,n,t){return t.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function lC(e,n,t,i,r,s,o,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let d,l=n;d=ft(t)?i:new gn(null).setTree(t,i);const f=n.serverCache.getNode();return d.children.inorderTraversal((g,m)=>{if(f.hasChild(g)){const I=OO(0,n.serverCache.getNode().getImmediateChild(g),m);l=l_(e,l,new Kt(g),I,r,s,o,a)}}),d.children.inorderTraversal((g,m)=>{const v=!n.serverCache.isCompleteForChild(g)&&null===m.value;if(!f.hasChild(g)&&!v){const S=OO(0,n.serverCache.getNode().getImmediateChild(g),m);l=l_(e,l,new Kt(g),S,r,s,o,a)}}),l}class Y6{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zw(i.getIndex()),s=function u6(e){return e.loadsAllData()?new zw(e.getIndex()):e.hasLimit()?new c6(e):new nf(e)}(i);this.processor_=function H6(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Je.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(Je.EMPTY_NODE,a.getNode(),null),f=new sa(l,o.isFullyInitialized(),r.filtersNodes()),g=new sa(d,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=i_(g,f),this.eventGenerator_=new w6(this.query_)}get query(){return this.query_}}function X6(e,n){const t=bl(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!ft(n)&&!t.getImmediateChild(ht(n)).isEmpty())?t.getChild(n):null}function xO(e){return 0===e.eventRegistrations_.length}function PO(e,n,t){const i=[];if(t){(0,D.hu)(null==n,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,r);o&&i.push(o)})}if(n){let r=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(o.matches(n)){if(n.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(s+1));break}}else r.push(o)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function kO(e,n,t,i){n.type===zs.MERGE&&null!==n.source.queryId&&((0,D.hu)(bl(e.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(r_(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=function G6(e,n,t,i,r){const s=new j6;let o,a;if(t.type===zs.OVERWRITE){const d=t;d.source.fromUser?o=aC(e,n,d.path,d.snap,i,r,s):((0,D.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||n.serverCache.isFiltered()&&!ft(d.path),o=l_(e,n,d.path,d.snap,i,r,a,s))}else if(t.type===zs.MERGE){const d=t;d.source.fromUser?o=function z6(e,n,t,i,r,s,o){let a=n;return i.foreach((l,d)=>{const f=Sn(t,l);MO(n,ht(f))&&(a=aC(e,a,f,d,r,s,o))}),i.foreach((l,d)=>{const f=Sn(t,l);MO(n,ht(f))||(a=aC(e,a,f,d,r,s,o))}),a}(e,n,d.path,d.children,i,r,s):((0,D.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||n.serverCache.isFiltered(),o=lC(e,n,d.path,d.children,i,r,a,s))}else if(t.type===zs.ACK_USER_WRITE){const d=t;o=d.revert?function Z6(e,n,t,i,r,s){let o;if(null!=a_(i,t))return n;{const a=new oC(i,n,r),l=n.eventCache.getNode();let d;if(ft(t)||".priority"===ht(t)){let f;if(n.serverCache.isFullyInitialized())f=o_(i,bl(n));else{const g=n.serverCache.getNode();(0,D.hu)(g instanceof Je,"serverChildren would be complete if leaf node"),f=rC(i,g)}d=e.filter.updateFullNode(l,f,s)}else{const f=ht(t);let g=sC(i,f,n.serverCache);null==g&&n.serverCache.isCompleteForChild(f)&&(g=l.getImmediateChild(f)),d=null!=g?e.filter.updateChild(l,f,g,ln(t),a,s):n.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Je.EMPTY_NODE,ln(t),a,s):l,d.isEmpty()&&n.serverCache.isFullyInitialized()&&(o=o_(i,bl(n)),o.isLeafNode()&&(d=e.filter.updateFullNode(d,o,s)))}return o=n.serverCache.isFullyInitialized()||null!=a_(i,xt()),af(n,d,o,e.filter.filtersNodes())}}(e,n,d.path,i,r,s):function q6(e,n,t,i,r,s,o){if(null!=a_(r,t))return n;const a=n.serverCache.isFiltered(),l=n.serverCache;if(null!=i.value){if(ft(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return l_(e,n,t,l.getNode().getChild(t),r,s,a,o);if(ft(t)){let d=new gn(null);return l.getNode().forEachChild(Ws,(f,g)=>{d=d.set(new Kt(f),g)}),lC(e,n,t,d,r,s,a,o)}return n}{let d=new gn(null);return i.foreach((f,g)=>{const m=Sn(t,f);l.isCompleteForPath(m)&&(d=d.set(f,l.getNode().getChild(m)))}),lC(e,n,t,d,r,s,a,o)}}(e,n,d.path,d.affectedTree,i,r,s)}else{if(t.type!==zs.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+t.type);o=function K6(e,n,t,i,r){const s=n.serverCache;return RO(e,bO(n,s.getNode(),s.isFullyInitialized()||ft(t),s.isFiltered()),t,i,AO,r)}(e,n,t.path,i,s)}const l=s.getChanges();return function W6(e,n,t){const i=n.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=r_(e);(t.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(mO(r_(n)))}}(n,o,l),{viewCache:o,changes:l}}(e.processor_,r,n,t,i);return function $6(e,n){(0,D.hu)(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,s.viewCache),(0,D.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,FO(e,s.changes,s.viewCache.eventCache.getNode(),null)}function FO(e,n,t,i){return function C6(e,n,t,i){const r=[],s=[];return n.forEach(o=>{"child_changed"===o.type&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function l6(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(o.childName,o.snapshotNode))}),sf(e,r,"child_removed",n,i,t),sf(e,r,"child_added",n,i,t),sf(e,r,"child_moved",s,i,t),sf(e,r,"child_changed",n,i,t),sf(e,r,"value",n,i,t),r}(e.eventGenerator_,n,t,i?[i]:e.eventRegistrations_)}let c_,d_;class LO{constructor(){this.views=new Map}}function cC(e,n,t,i){const r=n.source.queryId;if(null!==r){const s=e.views.get(r);return(0,D.hu)(null!=s,"SyncTree gave us an op for an invalid query."),kO(s,n,t,i)}{let s=[];for(const o of e.views.values())s=s.concat(kO(o,n,t,i));return s}}function VO(e,n,t,i,r){const o=e.views.get(n._queryIdentifier);if(!o){let a=o_(t,r?i:null),l=!1;a?l=!0:i instanceof Je?(a=rC(t,i),l=!1):(a=Je.EMPTY_NODE,l=!1);const d=i_(new sa(a,l,!1),new sa(i,r,!1));return new Y6(n,d)}return o}function BO(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function aa(e,n){let t=null;for(const i of e.views.values())t=t||X6(i,n);return t}function jO(e,n){return n._queryParams.loadsAllData()?u_(e):e.views.get(n._queryIdentifier)}function UO(e,n){return null!=jO(e,n)}function la(e){return null!=u_(e)}function u_(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let cq=1;class HO{constructor(n){this.listenProvider_=n,this.syncPointTree_=new gn(null),this.pendingWriteTree_=function V6(){return{visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uC(e,n,t,i,r){return function T6(e,n,t,i,r){(0,D.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:r}),r&&(e.visibleWrites=lf(e.visibleWrites,n,t)),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i,r),r?Au(e,new yl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function ca(e,n,t=!1){const i=function N6(e,n){for(let t=0;t<e.allWrites.length;t++){const i=e.allWrites[t];if(i.writeId===n)return i}return null}(e.pendingWriteTree_,n);if(function A6(e,n){const t=e.allWrites.findIndex(a=>a.writeId===n);(0,D.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[t];e.allWrites.splice(t,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=t&&R6(a,i.path)?r=!1:Qr(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function M6(e){e.visibleWrites=DO(e.allWrites,O6,xt()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=wO(e.visibleWrites,i.path):_i(i.children,l=>{e.visibleWrites=wO(e.visibleWrites,Sn(i.path,l))}),!0))}(e.pendingWriteTree_,n)){let s=new gn(null);return null!=i.snap?s=s.set(xt(),!0):_i(i.children,o=>{s=s.set(new Kt(o),!0)}),Au(e,new n_(i.path,s,t))}return[]}function cf(e,n,t){return Au(e,new yl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function h_(e,n,t,i,r=!1){const s=n._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===n._queryIdentifier||UO(o,n))){const l=function oq(e,n,t,i){const r=n._queryIdentifier,s=[];let o=[];const a=la(e);if("default"===r)for(const[l,d]of e.views.entries())o=o.concat(PO(d,t,i)),xO(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||s.push(d.query));else{const l=e.views.get(r);l&&(o=o.concat(PO(l,t,i)),xO(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!la(e)&&s.push(new(function iq(){return(0,D.hu)(c_,"Reference.ts has not been loaded"),c_}())(n._repo,n._path)),{removed:s,events:o}}(o,n,t,i);(function rq(e){return 0===e.views.size})(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const d=l.removed;if(a=l.events,!r){const f=-1!==d.findIndex(m=>m._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(s,(m,v)=>la(v));if(f&&!g){const m=e.syncPointTree_.subtree(s);if(!m.isEmpty()){const v=function mq(e){return e.fold((n,t,i)=>{if(t&&la(t))return[u_(t)];{let r=[];return t&&(r=BO(t)),_i(i,(s,o)=>{r=r.concat(o)}),r}})}(m);for(let I=0;I<v.length;++I){const S=v[I],O=S.query,$=zO(e,S);e.listenProvider_.startListening(df(O),uf(e,O),$.hashFn,$.onComplete)}}}!g&&d.length>0&&!i&&(f?e.listenProvider_.stopListening(df(n),null):d.forEach(m=>{const v=e.queryToTagMap.get(p_(m));e.listenProvider_.stopListening(df(m),v)}))}!function _q(e,n){for(let t=0;t<n.length;++t){const i=n[t];if(!i._queryParams.loadsAllData()){const r=p_(i),s=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(s)}}}(e,d)}return a}function $O(e,n,t,i){const r=hC(e,i);if(null!=r){const s=fC(r),o=s.path,a=s.queryId,l=Ji(o,n);return pC(e,o,new yl(Xw(a),l,t))}return[]}function dC(e,n,t,i=!1){const r=n._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(r,(m,v)=>{const I=Ji(m,r);s=s||aa(v,I),o=o||la(v)});let l,a=e.syncPointTree_.get(r);a?(o=o||la(a),s=s||aa(a,xt())):(a=new LO,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=s?l=!0:(l=!1,s=Je.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((v,I)=>{const S=aa(I,xt());S&&(s=s.updateImmediateChild(v,S))}));const d=UO(a,n);if(!d&&!n._queryParams.loadsAllData()){const m=p_(n);(0,D.hu)(!e.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=function vq(){return cq++}();e.queryToTagMap.set(m,v),e.tagToQueryMap.set(v,m)}let g=function sq(e,n,t,i,r,s){const o=VO(e,n,i,r,s);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,o),function eq(e,n){e.eventRegistrations_.push(n)}(o,t),function tq(e,n){const t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(pn,(s,o)=>{i.push(Iu(s,o))}),t.isFullyInitialized()&&i.push(mO(t.getNode())),FO(e,i,t.getNode(),n)}(o,t)}(a,n,t,s_(e.pendingWriteTree_,r),s,l);if(!d&&!o&&!i){const m=jO(a,n);g=g.concat(function yq(e,n,t){const i=n._path,r=uf(e,n),s=zO(e,t),o=e.listenProvider_.startListening(df(n),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)(0,D.hu)(!la(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((d,f,g)=>{if(!ft(d)&&f&&la(f))return[u_(f).query];{let m=[];return f&&(m=m.concat(BO(f).map(v=>v.query))),_i(g,(v,I)=>{m=m.concat(I)}),m}});for(let d=0;d<l.length;++d){const f=l[d];e.listenProvider_.stopListening(df(f),uf(e,f))}}return o}(e,n,m))}return g}function f_(e,n,t){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(n,(o,a)=>{const d=aa(a,Ji(o,n));if(d)return d});return IO(r,n,s,t,!0)}function Au(e,n){return GO(n,e.syncPointTree_,null,s_(e.pendingWriteTree_,xt()))}function GO(e,n,t,i){if(ft(e.path))return WO(e,n,t,i);{const r=n.get(xt());null==t&&null!=r&&(t=aa(r,xt()));let s=[];const o=ht(e.path),a=e.operationForChild(o),l=n.children.get(o);if(l&&a){const d=t?t.getImmediateChild(o):null,f=SO(i,o);s=s.concat(GO(a,l,d,f))}return r&&(s=s.concat(cC(r,e,i,t))),s}}function WO(e,n,t,i){const r=n.get(xt());null==t&&null!=r&&(t=aa(r,xt()));let s=[];return n.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,d=SO(i,o),f=e.operationForChild(o);f&&(s=s.concat(WO(f,a,l,d)))}),r&&(s=s.concat(cC(r,e,i,t))),s}function zO(e,n){const t=n.query,i=uf(e,t);return{hashFn:()=>(function J6(e){return e.viewCache_.serverCache.getNode()}(n)||Je.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function fq(e,n,t){const i=hC(e,t);if(i){const r=fC(i),s=r.path,o=r.queryId,a=Ji(s,n);return pC(e,s,new rf(Xw(o),a))}return[]}(e,t._path,i):function hq(e,n){return Au(e,new rf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const s=function d5(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}(r,t);return h_(e,t,null,s)}}}}function uf(e,n){const t=p_(n);return e.queryToTagMap.get(t)}function p_(e){return e._path.toString()+"$"+e._queryIdentifier}function hC(e,n){return e.tagToQueryMap.get(n)}function fC(e){const n=e.indexOf("$");return(0,D.hu)(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Kt(e.substr(0,n))}}function pC(e,n,t){const i=e.syncPointTree_.get(n);return(0,D.hu)(i,"Missing sync point for query tag that we're tracking"),cC(i,t,s_(e.pendingWriteTree_,n),null)}function df(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function lq(){return(0,D.hu)(d_,"Reference.ts has not been loaded"),d_}())(e._repo,e._path):e}class gC{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new gC(t)}node(){return this.node_}}class mC{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=Sn(this.path_,n);return new mC(this.syncTree_,t)}node(){return f_(this.syncTree_,this.path_)}}const bq=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},qO=function(e,n,t){return e&&"object"==typeof e?((0,D.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?wq(e[".sv"],n,t):"object"==typeof e[".sv"]?Cq(e[".sv"],n):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},wq=function(e,n,t){if("timestamp"===e)return t.timestamp;(0,D.hu)(!1,"Unexpected server value: "+e)},Cq=function(e,n,t){e.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,D.hu)(!1,"Unexpected increment value: "+i);const r=n.node();if((0,D.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},KO=function(e,n,t,i){return vC(n,new mC(t,e),i)},_C=function(e,n,t){return vC(e,new gC(n),t)};function vC(e,n,t){const i=e.getPriority().val(),r=qO(i,n.getImmediateChild(".priority"),t);let s;if(e.isLeafNode()){const o=e,a=qO(o.getValue(),n,t);return a!==o.getValue()||r!==o.getPriority().val()?new Eu(a,xn(r)):e}{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Eu(r))),o.forEachChild(pn,(a,l)=>{const d=vC(l,n.getImmediateChild(a),t);d!==l&&(s=s.updateImmediateChild(a,d))}),s}}class yC{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}}function g_(e,n){let t=n instanceof Kt?n:new Kt(n),i=e,r=ht(t);for(;null!==r;){const s=(0,D.DV)(i.node.children,r)||{children:{},childCount:0};i=new yC(r,i,s),t=ln(t),r=ht(t)}return i}function Cl(e){return e.node.value}function bC(e,n){e.node.value=n,wC(e)}function ZO(e){return e.node.childCount>0}function m_(e,n){_i(e.node.children,(t,i)=>{n(new yC(t,e,i))})}function YO(e,n,t,i){t&&!i&&n(e),m_(e,r=>{YO(r,n,!0,i)}),t&&i&&n(e)}function hf(e){return new Kt(null===e.parent?e.name:hf(e.parent)+"/"+e.name)}function wC(e){null!==e.parent&&function Iq(e,n,t){const i=function Eq(e){return void 0===Cl(e)&&!ZO(e)}(t),r=(0,D.r3)(e.node.children,n);i&&r?(delete e.node.children[n],e.node.childCount--,wC(e)):!i&&!r&&(e.node.children[n]=t.node,e.node.childCount++,wC(e))}(e.parent,e.name,e)}const Tq=/[\[\].#$\/\u0000-\u001F\u007F]/,Sq=/[\[\].#$\u0000-\u001F\u007F]/,CC=10485760,__=function(e){return"string"==typeof e&&0!==e.length&&!Tq.test(e)},JO=function(e){return"string"==typeof e&&0!==e.length&&!Sq.test(e)},ff=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Gm(e)||e&&"object"==typeof e&&(0,D.r3)(e,".sv")},qs=function(e,n,t,i){i&&void 0===n||pf((0,D.gK)(e,"value"),n,t)},pf=function(e,n,t){const i=t instanceof Kt?new G5(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+_l(i));if("function"==typeof n)throw new Error(e+"contains a function "+_l(i)+" with contents = "+n.toString());if(Gm(n))throw new Error(e+"contains "+n.toString()+" "+_l(i));if("string"==typeof n&&n.length>CC/3&&(0,D.ug)(n)>CC)throw new Error(e+"contains a string greater than "+CC+" utf8 bytes "+_l(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let r=!1,s=!1;if(_i(n,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!__(o)))throw new Error(e+" contains an invalid key ("+o+") "+_l(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function W5(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=(0,D.ug)(n),aO(e)})(i,o),pf(e,a,i),function z5(e){const n=e.parts_.pop();e.byteLength_-=(0,D.ug)(n),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),r&&s)throw new Error(e+' contains ".value" child '+_l(i)+" in addition to actual children.")}},QO=function(e,n,t,i){if(i&&void 0===n)return;const r=(0,D.gK)(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");const s=[];_i(n,(o,a)=>{const l=new Kt(o);if(pf(r,a,Sn(t,l)),".priority"===Vw(l)&&!ff(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];const s=Yh(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!__(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort($5);let r=null;for(t=0;t<n.length;t++){if(i=n[t],null!==r&&Qr(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},EC=function(e,n,t){if(!t||void 0!==n){if(Gm(n))throw new Error((0,D.gK)(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ff(n))throw new Error((0,D.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gf=function(e,n,t,i){if(!(i&&void 0===t||__(t)))throw new Error((0,D.gK)(e,n)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},mf=function(e,n,t,i){if(!(i&&void 0===t||JO(t)))throw new Error((0,D.gK)(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Rq=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mf(e,n,t,i)},Xr=function(e,n){if(".info"===ht(n))throw new Error(e+" failed = Can't modify data under /.info/")},XO=function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!__(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),JO(e)}(t))throw new Error((0,D.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function v_(e,n){let t=null;for(let i=0;i<n.length;i++){const r=n[i],s=r.getPath();null!==t&&!Bw(s,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&e.eventLists_.push(t)}function ex(e,n,t){v_(e,t),tx(e,i=>Bw(i,n))}function Tr(e,n,t){v_(e,t),tx(e,i=>Qr(i,n)||Qr(n,i))}function tx(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];r&&(n(r.path)?(Oq(e.eventLists_[i]),e.eventLists_[i]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function Oq(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const i=t.getEventRunner();gl&&mi("event: "+t.toString()),wu(i)}}}const nx="repo_interrupt",xq=25;class Pq{constructor(n,t,i,r){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=t_(),this.transactionQueueTree_=new yC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ix(e){const t=e.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function _f(e){return bq({timestamp:ix(e)})}function rx(e,n,t,i,r){e.dataUpdateCount++;const s=new Kt(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let o=[];if(r)if(i){const l=(0,D.UI)(t,d=>xn(d));o=function pq(e,n,t,i){const r=hC(e,i);if(r){const s=fC(r),o=s.path,a=s.queryId,l=Ji(o,n),d=gn.fromObject(t);return pC(e,o,new Su(Xw(a),l,d))}return[]}(e.serverSyncTree_,s,l,r)}else{const l=xn(t);o=$O(e.serverSyncTree_,s,l,r)}else if(i){const l=(0,D.UI)(t,d=>xn(d));o=function dq(e,n,t){const i=gn.fromObject(t);return Au(e,new Su({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(e.serverSyncTree_,s,l)}else{const l=xn(t);o=cf(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Mu(e,s)),Tr(e.eventQueue_,a,o)}function sx(e,n){DC(e,"connected",n),!1===n&&function Bq(e){Ru(e,"onDisconnectEvents");const n=_f(e),t=t_();Yw(e.onDisconnect_,xt(),(r,s)=>{const o=KO(r,s,e.serverSyncTree_,n);Tu(t,r,o)});let i=[];Yw(t,xt(),(r,s)=>{i=i.concat(cf(e.serverSyncTree_,r,s));const o=NC(e,r);Mu(e,o)}),e.onDisconnect_=t_(),Tr(e.eventQueue_,xt(),i)}(e)}function DC(e,n,t){const i=new Kt("/.info/"+n),r=xn(t);e.infoData_.updateSnapshot(i,r);const s=cf(e.infoSyncTree_,i,r);Tr(e.eventQueue_,i,s)}function y_(e){return e.nextWriteId_++}function IC(e,n,t,i,r){Ru(e,"set",{path:n.toString(),value:t,priority:i});const s=_f(e),o=xn(t,i),a=f_(e.serverSyncTree_,n),l=_C(o,a,s),d=y_(e),f=uC(e.serverSyncTree_,n,l,d,!0);v_(e.eventQueue_,f),e.server_.put(n.toString(),o.val(!0),(m,v)=>{const I="ok"===m;I||Li("set at "+n+" failed: "+m);const S=ca(e.serverSyncTree_,d,!I);Tr(e.eventQueue_,n,S),ua(0,r,m,v)});const g=NC(e,n);Mu(e,g),Tr(e.eventQueue_,g,[])}function jq(e,n,t){e.server_.onDisconnectCancel(n.toString(),(i,r)=>{"ok"===i&&Zw(e.onDisconnect_,n),ua(0,t,i,r)})}function ox(e,n,t,i){const r=xn(t);e.server_.onDisconnectPut(n.toString(),r.val(!0),(s,o)=>{"ok"===s&&Tu(e.onDisconnect_,n,r),ua(0,i,s,o)})}function TC(e,n,t){let i;i=".info"===ht(n._path)?h_(e.infoSyncTree_,n,t):h_(e.serverSyncTree_,n,t),ex(e.eventQueue_,n._path,i)}function ax(e){e.persistentConnection_&&e.persistentConnection_.interrupt(nx)}function Ru(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),mi(t,...n)}function ua(e,n,t,i){n&&wu(()=>{if("ok"===t)n(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,n(o)}})}function SC(e,n,t){return f_(e.serverSyncTree_,n,t)||Je.EMPTY_NODE}function b_(e,n=e.transactionQueueTree_){if(n||w_(e,n),Cl(n)){const t=cx(e,n);(0,D.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function zq(e,n,t){const i=t.map(d=>d.currentWriteId),r=SC(e,n,i);let s=r;const o=r.hash();for(let d=0;d<t.length;d++){const f=t[d];(0,D.hu)(0===f.status,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const g=Ji(n,f.path);s=s.updateChild(g,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=n;e.server_.put(l.toString(),a,d=>{Ru(e,"transaction put response",{path:l.toString(),status:d});let f=[];if("ok"===d){const g=[];for(let m=0;m<t.length;m++)t[m].status=2,f=f.concat(ca(e.serverSyncTree_,t[m].currentWriteId)),t[m].onComplete&&g.push(()=>t[m].onComplete(null,!0,t[m].currentOutputSnapshotResolved)),t[m].unwatcher();w_(e,g_(e.transactionQueueTree_,n)),b_(e,e.transactionQueueTree_),Tr(e.eventQueue_,n,f);for(let m=0;m<g.length;m++)wu(g[m])}else{if("datastale"===d)for(let g=0;g<t.length;g++)t[g].status=3===t[g].status?4:0;else{Li("transaction at "+l.toString()+" failed: "+d);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=d}Mu(e,n)}},o)}(e,hf(n),t)}else ZO(n)&&m_(n,t=>{b_(e,t)})}function Mu(e,n){const t=lx(e,n),i=hf(t);return function qq(e,n,t){if(0===n.length)return;const i=[];let r=[];const o=n.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){const l=n[a],d=Ji(t,l.path);let g,f=!1;if((0,D.hu)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,g=l.abortReason,r=r.concat(ca(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=xq)f=!0,g="maxretry",r=r.concat(ca(e.serverSyncTree_,l.currentWriteId,!0));else{const m=SC(e,l.path,o);l.currentInputSnapshot=m;const v=n[a].update(m.val());if(void 0!==v){pf("transaction failed: Data returned ",v,l.path);let I=xn(v);"object"==typeof v&&null!=v&&(0,D.r3)(v,".priority")||(I=I.updatePriority(m.getPriority()));const O=l.currentWriteId,$=_f(e),k=_C(I,m,$);l.currentOutputSnapshotRaw=I,l.currentOutputSnapshotResolved=k,l.currentWriteId=y_(e),o.splice(o.indexOf(O),1),r=r.concat(uC(e.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),r=r.concat(ca(e.serverSyncTree_,O,!0))}else f=!0,g="nodata",r=r.concat(ca(e.serverSyncTree_,l.currentWriteId,!0))}Tr(e.eventQueue_,t,r),r=[],f&&(n[a].status=2,setTimeout(n[a].unwatcher,Math.floor(0)),n[a].onComplete&&i.push("nodata"===g?()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot):()=>n[a].onComplete(new Error(g),!1,null)))}w_(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)wu(i[a]);b_(e,e.transactionQueueTree_)}(e,cx(e,t),i),i}function lx(e,n){let t,i=e.transactionQueueTree_;for(t=ht(n);null!==t&&void 0===Cl(i);)i=g_(i,t),t=ht(n=ln(n));return i}function cx(e,n){const t=[];return ux(e,n,t),t.sort((i,r)=>i.order-r.order),t}function ux(e,n,t){const i=Cl(n);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);m_(n,r=>{ux(e,r,t)})}function w_(e,n){const t=Cl(n);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,bC(n,t.length>0?t:void 0)}m_(n,i=>{w_(e,i)})}function NC(e,n){const t=hf(lx(e,n)),i=g_(e.transactionQueueTree_,n);return function Dq(e,n,t){let i=t?e:e.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,r=>{AC(e,r)}),AC(e,i),YO(i,r=>{AC(e,r)}),t}function AC(e,n){const t=Cl(n);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,D.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,D.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(ca(e.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?bC(n,void 0):t.length=s+1,Tr(e.eventQueue_,hf(n),r);for(let o=0;o<i.length;o++)wu(i[o])}}const RC=function(e,n){const t=Yq(e),i=t.namespace;return"firebase.com"===t.domain&&Gs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Li("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ow(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,n,"",i!==t.subdomain),path:new Kt(t.pathString)}},Yq=function(e){let n="",t="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof e){let d=e.indexOf("//");d>=0&&(a=e.substring(0,d-1),e=e.substring(d+2));let f=e.indexOf("/");-1===f&&(f=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),n=e.substring(0,Math.min(f,g)),f<g&&(r=function Kq(e){let n="";const t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}(e.substring(f,g)));const m=function Zq(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Li(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,g)));d=n.indexOf(":"),d>=0?(o="https"===a||"wss"===a,l=parseInt(n.substring(d+1),10)):d=n.length;const v=n.slice(0,d);if("localhost"===v.toLowerCase())t="localhost";else if(v.split(".").length<=2)t=v;else{const I=n.indexOf(".");i=n.substring(0,I).toLowerCase(),t=n.substring(I+1),s=i}"ns"in m&&(s=m.ns)}return{host:n,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},dx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jq=function(){let e=0;const n=[];return function(t){const i=t===e;let r;e=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=dx.charAt(t%64),t=Math.floor(t/64);(0,D.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=dx.charAt(n[r]);return(0,D.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class hx{constructor(n,t,i,r){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,D.Wl)(this.snapshot.exportVal())}}class fx{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class MC{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return(0,D.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class px{constructor(n,t){this._repo=n,this._path=t}cancel(){const n=new D.BH;return jq(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Xr("OnDisconnect.remove",this._path);const n=new D.BH;return ox(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Xr("OnDisconnect.set",this._path),qs("OnDisconnect.set",n,this._path,!1);const t=new D.BH;return ox(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){Xr("OnDisconnect.setWithPriority",this._path),qs("OnDisconnect.setWithPriority",n,this._path,!1),EC("OnDisconnect.setWithPriority",t,!1);const i=new D.BH;return function Uq(e,n,t,i,r){const s=xn(t,i);e.server_.onDisconnectPut(n.toString(),s.val(!0),(o,a)=>{"ok"===o&&Tu(e.onDisconnect_,n,s),ua(0,r,o,a)})}(this._repo,this._path,n,t,i.wrapCallback(()=>{})),i.promise}update(n){Xr("OnDisconnect.update",this._path),QO("OnDisconnect.update",n,this._path,!1);const t=new D.BH;return function Hq(e,n,t,i){if((0,D.xb)(t))return mi("onDisconnect().update() called with empty data.  Don't do anything."),void ua(0,i,"ok",void 0);e.server_.onDisconnectMerge(n.toString(),t,(r,s)=>{"ok"===r&&_i(t,(o,a)=>{const l=xn(a);Tu(e.onDisconnect_,Sn(n,o),l)}),ua(0,i,r,s)})}(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}}class ur{constructor(n,t,i,r){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ft(this._path)?null:Vw(this._path)}get ref(){return new es(this._repo,this._path)}get _queryIdentifier(){const n=vO(this._queryParams),t=Rw(n);return"{}"===t?"default":t}get _queryObject(){return vO(this._queryParams)}isEqual(n){if(!((n=(0,D.m9)(n))instanceof ur))return!1;const t=this._repo===n._repo,i=Bw(this._path,n._path);return t&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function H5(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}function C_(e,n){if(!0===e._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function da(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Ws){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==na)throw new Error(i);if("string"!=typeof n)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==wo)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(e.getIndex()===pn){if(null!=n&&!ff(n)||null!=t&&!ff(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,D.hu)(e.getIndex()instanceof Gw||e.getIndex()===Ww,"unknown index type."),null!=n&&"object"==typeof n||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function E_(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class es extends ur{constructor(n,t){super(n,t,new Qm,!1)}get parent(){const n=oO(this._path);return null===n?null:new es(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class El{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new Kt(n),i=Dl(this.ref,n);return new El(this._node.getChild(t),i,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>n(new El(r,Dl(this.ref,i),pn)))}hasChild(n){const t=new Kt(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function gx(e,n){return(e=(0,D.m9)(e))._checkNotDeleted("ref"),void 0!==n?Dl(e._root,n):e._root}function mx(e,n){(e=(0,D.m9)(e))._checkNotDeleted("refFromURL");const t=RC(n,e._repo.repoInfo_.nodeAdmin);XO("refFromURL",t);const i=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Gs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),gx(e,t.path.toString())}function Dl(e,n){return null===ht((e=(0,D.m9)(e))._path)?Rq("child","path",n,!1):mf("child","path",n,!1),new es(e._repo,Sn(e._path,n))}function OC(e,n){e=(0,D.m9)(e),Xr("set",e._path),qs("set",n,e._path,!1);const t=new D.BH;return IC(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function n7(e,n){QO("update",n,e._path,!1);const t=new D.BH;return function Vq(e,n,t,i){Ru(e,"update",{path:n.toString(),value:t});let r=!0;const s=_f(e),o={};if(_i(t,(a,l)=>{r=!1,o[a]=KO(Sn(n,a),xn(l),e.serverSyncTree_,s)}),r)mi("update() called with empty data.  Don't do anything."),ua(0,i,"ok",void 0);else{const a=y_(e),l=function uq(e,n,t,i){!function S6(e,n,t,i){(0,D.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=tC(e.visibleWrites,n,t),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i);const r=gn.fromObject(t);return Au(e,new Su({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,r))}(e.serverSyncTree_,n,o,a);v_(e.eventQueue_,l),e.server_.merge(n.toString(),t,(d,f)=>{const g="ok"===d;g||Li("update at "+n+" failed: "+d);const m=ca(e.serverSyncTree_,a,!g),v=m.length>0?Mu(e,n):n;Tr(e.eventQueue_,v,m),ua(0,i,d,f)}),_i(t,d=>{const f=NC(e,Sn(n,d));Mu(e,f)}),Tr(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function i7(e){e=(0,D.m9)(e);const n=new MC(()=>{}),t=new vf(n);return function Lq(e,n,t){const i=function gq(e,n){const t=n._path;let i=null;e.syncPointTree_.foreachOnPath(t,(d,f)=>{const g=Ji(d,t);i=i||aa(f,g)});let r=e.syncPointTree_.get(t);r?i=i||aa(r,xt()):(r=new LO,e.syncPointTree_=e.syncPointTree_.set(t,r));const s=null!=i,o=s?new sa(i,!0,!1):null;return function Q6(e){return r_(e.viewCache_)}(VO(r,n,s_(e.pendingWriteTree_,n._path),s?o.getNode():Je.EMPTY_NODE,s))}(e.serverSyncTree_,n);return null!=i?Promise.resolve(i):e.server_.get(n).then(r=>{const s=xn(r).withIndex(n._queryParams.getIndex());let o;if(dC(e.serverSyncTree_,n,t,!0),n._queryParams.loadsAllData())o=cf(e.serverSyncTree_,n._path,s);else{const a=uf(e.serverSyncTree_,n);o=$O(e.serverSyncTree_,n._path,s,a)}return Tr(e.eventQueue_,n._path,o),h_(e.serverSyncTree_,n,t,null,!0),s},r=>(Ru(e,"get for query "+(0,D.Wl)(n)+" failed: "+r),Promise.reject(new Error(r))))}(e._repo,e,t).then(i=>new El(i,new es(e._repo,e._path),e._queryParams.getIndex()))}class vf{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const i=t._queryParams.getIndex();return new hx("value",this,new El(n.snapshotNode,new es(t._repo,t._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new fx(this,n,t):null}matches(n){return n instanceof vf&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class D_{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new fx(this,n,t):null}createEvent(n,t){(0,D.hu)(null!=n.childName,"Child events should have a childName.");const i=Dl(new es(t._repo,t._path),n.childName),r=t._queryParams.getIndex();return new hx(n.type,this,new El(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof D_&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function yf(e,n,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const l=t,d=(f,g)=>{TC(e._repo,e,a),l(f,g)};d.userCallback=t.userCallback,d.context=t.context,t=d}const o=new MC(t,s||void 0),a="value"===n?new vf(o):new D_(n,o);return function $q(e,n,t){let i;i=".info"===ht(n._path)?dC(e.infoSyncTree_,n,t):dC(e.serverSyncTree_,n,t),ex(e.eventQueue_,n._path,i)}(e._repo,e,a),()=>TC(e._repo,e,a)}function xC(e,n,t,i){return yf(e,"value",n,t,i)}function _x(e,n,t,i){return yf(e,"child_added",n,t,i)}function vx(e,n,t,i){return yf(e,"child_changed",n,t,i)}function yx(e,n,t,i){return yf(e,"child_moved",n,t,i)}function bx(e,n,t,i){return yf(e,"child_removed",n,t,i)}function wx(e,n,t){let i=null;const r=t?new MC(t):null;"value"===n?i=new vf(r):n&&(i=new D_(n,r)),TC(e._repo,e,i)}class ys{}class Cx extends ys{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){qs("endAt",this._value,n._path,!0);const t=Kw(n._queryParams,this._value,this._key);if(E_(t),da(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class s7 extends ys{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){qs("endBefore",this._value,n._path,!1);const t=function p6(e,n,t){let i;return i=Kw(e,n,e.index_===Ws||t?t:na),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(E_(t),da(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class Ex extends ys{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){qs("startAt",this._value,n._path,!0);const t=qw(n._queryParams,this._value,this._key);if(E_(t),da(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class l7 extends ys{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){qs("startAfter",this._value,n._path,!1);const t=function f6(e,n,t){let i;return i=qw(e,n,e.index_===Ws||t?t:wo),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(E_(t),da(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class u7 extends ys{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(n._repo,n._path,function d6(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}(n._queryParams,this._limit),n._orderByCalled)}}class h7 extends ys{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(n._repo,n._path,function h6(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}(n._queryParams,this._limit),n._orderByCalled)}}class p7 extends ys{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){C_(n,"orderByChild");const t=new Kt(this._path);if(ft(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Gw(t),r=Xm(n._queryParams,i);return da(r),new ur(n._repo,n._path,r,!0)}}class m7 extends ys{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){C_(n,"orderByKey");const t=Xm(n._queryParams,Ws);return da(t),new ur(n._repo,n._path,t,!0)}}class v7 extends ys{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){C_(n,"orderByPriority");const t=Xm(n._queryParams,pn);return da(t),new ur(n._repo,n._path,t,!0)}}class b7 extends ys{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){C_(n,"orderByValue");const t=Xm(n._queryParams,Ww);return da(t),new ur(n._repo,n._path,t,!0)}}class C7 extends ys{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(qs("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Cx(this._value,this._key)._apply(new Ex(this._value,this._key)._apply(n))}}function bs(e,...n){let t=(0,D.m9)(e);for(const i of n)t=i._apply(t);return t}(function nq(e){(0,D.hu)(!c_,"__referenceConstructor has already been defined"),c_=e})(es),function aq(e){(0,D.hu)(!d_,"__referenceConstructor has already been defined"),d_=e}(es);const PC={};function kC(e,n,t,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||Gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mi("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,d,o=RC(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(l=!0,s=`http://${d}?ns=${a.namespace}`,o=RC(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const f=r&&l?new Zh(Zh.OWNER):new _5(e.name,e.options,n);XO("Invalid Firebase Database URL",o),ft(o.path)||Gs("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function S7(e,n,t,i){let r=PC[n.name];r||(r={},PC[n.name]=r);let s=r[e.toURLString()];return s&&Gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Pq(e,false,t,i),r[e.toURLString()]=s,s}(a,e,f,new m5(e.name,t));return new A7(g,e)}class A7{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kq(e,n,t){if(e.stats_=kw(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new e_(e.repoInfo_,(i,r,s,o)=>{rx(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sx(e,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new vl(e.repoInfo_,n,(i,r,s,o)=>{rx(e,i,r,s,o)},i=>{sx(e,i)},i=>{!function Fq(e,n){_i(n,(t,i)=>{DC(e,t,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function b5(e,n){const t=e.toString();return Pw[t]||(Pw[t]=n()),Pw[t]}(e.repoInfo_,()=>new b6(e.stats_,e.server_)),e.infoData_=new g6,e.infoSyncTree_=new HO({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=cf(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),DC(e,"connected",!1),e.serverSyncTree_=new HO({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const d=o(a,l);Tr(e.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new es(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function T7(e,n){const t=PC[n];(!t||t[e.key]!==e)&&Gs(`Database ${n}(${e.repoInfo_}) has already been deleted.`),ax(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Gs("Cannot call "+n+" on a deleted database.")}}function Ix(){KM.IS_TRANSPORT_INITIALIZED&&Li("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function R7(){Ix(),ia.forceDisallow()}function M7(){Ix(),Cu.forceDisallow(),ia.forceAllow()}function P7(e,n){NM(e,n)}const F7={".sv":"timestamp"};class B7{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vl.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},vl.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function k7(e){Sw(_u.SDK_VERSION),(0,_u._registerComponent)(new hl.wA("database",(n,{instanceIdentifier:t})=>kC(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,_u.registerVersion)(CM,"1.0.3",e),(0,_u.registerVersion)(CM,"1.0.3","esm2017")}();const $7=new ww.Yd("@firebase/database-compat"),Sx=function(e){$7.warn("FIREBASE WARNING: "+e)};class z7{constructor(n){this._delegate=n}cancel(n){(0,D.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,D.Wj)("OnDisconnect.cancel","onComplete",n,!0);const t=this._delegate.cancel();return n&&t.then(()=>n(null),i=>n(i)),t}remove(n){(0,D.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,D.Wj)("OnDisconnect.remove","onComplete",n,!0);const t=this._delegate.remove();return n&&t.then(()=>n(null),i=>n(i)),t}set(n,t){(0,D.Dv)("OnDisconnect.set",1,2,arguments.length),(0,D.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){(0,D.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,D.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(n,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(n,t){if((0,D.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const r={};for(let s=0;s<n.length;++s)r[""+s]=n[s];n=r,Sx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,D.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(n);return t&&i.then(()=>t(null),r=>t(r)),i}}class q7{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return(0,D.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ha{constructor(n,t){this._database=n,this._delegate=t}val(){return(0,D.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,D.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,D.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,D.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,D.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),mf("DataSnapshot.child","path",n,!1),new ha(this._database,this._delegate.child(n))}hasChild(n){return(0,D.Dv)("DataSnapshot.hasChild",1,1,arguments.length),mf("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,D.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,D.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,D.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new ha(this._database,t)))}hasChildren(){return(0,D.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,D.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,D.Dv)("DataSnapshot.ref",0,0,arguments.length),new Sr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ii{constructor(n,t){this.database=n,this._delegate=t}on(n,t,i,r){var s;(0,D.Dv)("Query.on",2,4,arguments.length),(0,D.Wj)("Query.on","callback",t,!1);const o=Ii.getCancelAndContextArgs_("Query.on",i,r),a=(d,f)=>{t.call(o.context,new ha(this.database,d),f)};a.userCallback=t,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(n){case"value":return xC(this._delegate,a,l),t;case"child_added":return _x(this._delegate,a,l),t;case"child_removed":return bx(this._delegate,a,l),t;case"child_changed":return vx(this._delegate,a,l),t;case"child_moved":return yx(this._delegate,a,l),t;default:throw new Error((0,D.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,i){if((0,D.Dv)("Query.off",0,3,arguments.length),function(e,n,t){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,D.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,D.Wj)("Query.off","callback",t,!0),(0,D.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,wx(this._delegate,n,r)}else wx(this._delegate,n)}get(){return i7(this._delegate).then(n=>new ha(this.database,n))}once(n,t,i,r){(0,D.Dv)("Query.once",1,4,arguments.length),(0,D.Wj)("Query.once","callback",t,!0);const s=Ii.getCancelAndContextArgs_("Query.once",i,r),o=new D.BH,a=(d,f)=>{const g=new ha(this.database,d);t&&t.call(s.context,g,f),o.resolve(g)};a.userCallback=t,a.context=s.context;const l=d=>{s.cancel&&s.cancel.call(s.context,d),o.reject(d)};switch(n){case"value":xC(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":_x(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":bx(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":vx(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":yx(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,D.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(n){return(0,D.Dv)("Query.limitToFirst",1,1,arguments.length),new Ii(this.database,bs(this._delegate,function d7(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new u7(e)}(n)))}limitToLast(n){return(0,D.Dv)("Query.limitToLast",1,1,arguments.length),new Ii(this.database,bs(this._delegate,function f7(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new h7(e)}(n)))}orderByChild(n){return(0,D.Dv)("Query.orderByChild",1,1,arguments.length),new Ii(this.database,bs(this._delegate,function g7(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return mf("orderByChild","path",e,!1),new p7(e)}(n)))}orderByKey(){return(0,D.Dv)("Query.orderByKey",0,0,arguments.length),new Ii(this.database,bs(this._delegate,function _7(){return new m7}()))}orderByPriority(){return(0,D.Dv)("Query.orderByPriority",0,0,arguments.length),new Ii(this.database,bs(this._delegate,function y7(){return new v7}()))}orderByValue(){return(0,D.Dv)("Query.orderByValue",0,0,arguments.length),new Ii(this.database,bs(this._delegate,function w7(){return new b7}()))}startAt(n=null,t){return(0,D.Dv)("Query.startAt",0,2,arguments.length),new Ii(this.database,bs(this._delegate,function a7(e=null,n){return gf("startAt","key",n,!0),new Ex(e,n)}(n,t)))}startAfter(n=null,t){return(0,D.Dv)("Query.startAfter",0,2,arguments.length),new Ii(this.database,bs(this._delegate,function c7(e,n){return gf("startAfter","key",n,!0),new l7(e,n)}(n,t)))}endAt(n=null,t){return(0,D.Dv)("Query.endAt",0,2,arguments.length),new Ii(this.database,bs(this._delegate,function r7(e,n){return gf("endAt","key",n,!0),new Cx(e,n)}(n,t)))}endBefore(n=null,t){return(0,D.Dv)("Query.endBefore",0,2,arguments.length),new Ii(this.database,bs(this._delegate,function o7(e,n){return gf("endBefore","key",n,!0),new s7(e,n)}(n,t)))}equalTo(n,t){return(0,D.Dv)("Query.equalTo",1,2,arguments.length),new Ii(this.database,bs(this._delegate,function E7(e,n){return gf("equalTo","key",n,!0),new C7(e,n)}(n,t)))}toString(){return(0,D.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,D.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,D.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Ii))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,D.Wj)(n,"cancel",r.cancel,!0),r.context=i,(0,D.lb)(n,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,D.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Sr(this.database,new es(this._delegate._repo,this._delegate._path))}}class Sr extends Ii{constructor(n,t){super(n,new ur(t._repo,t._path,new Qm,!1)),this.database=n,this._delegate=t}getKey(){return(0,D.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,D.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Sr(this.database,Dl(this._delegate,n))}getParent(){(0,D.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Sr(this.database,n):null}getRoot(){return(0,D.Dv)("Reference.root",0,0,arguments.length),new Sr(this.database,this._delegate.root)}set(n,t){(0,D.Dv)("Reference.set",1,2,arguments.length),(0,D.Wj)("Reference.set","onComplete",t,!0);const i=OC(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}update(n,t){if((0,D.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const r={};for(let s=0;s<n.length;++s)r[""+s]=n[s];n=r,Sx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,D.Wj)("Reference.update","onComplete",t,!0);const i=n7(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){(0,D.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,D.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function t7(e,n,t){if(Xr("setWithPriority",e._path),qs("setWithPriority",n,e._path,!1),EC("setWithPriority",t,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new D.BH;return IC(e._repo,e._path,n,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(n){(0,D.Dv)("Reference.remove",0,1,arguments.length),(0,D.Wj)("Reference.remove","onComplete",n,!0);const t=function Xq(e){return Xr("remove",e._path),OC(e,null)}(this._delegate);return n&&t.then(()=>n(null),i=>n(i)),t}transaction(n,t,i){(0,D.Dv)("Reference.transaction",1,3,arguments.length),(0,D.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,D.Wj)("Reference.transaction","onComplete",t,!0),function(e,n,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,D.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function j7(e,n,t){var i;if(e=(0,D.m9)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new D.BH,a=xC(e,()=>{});return function Wq(e,n,t,i,r,s){Ru(e,"transaction on "+n);const o={path:n,update:t,onComplete:i,status:null,order:IM(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=SC(e,n,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{pf("transaction failed: Data returned ",l,o.path),o.status=0;const d=g_(e.transactionQueueTree_,n),f=Cl(d)||[];let g;f.push(o),bC(d,f),"object"==typeof l&&null!==l&&(0,D.r3)(l,".priority")?(g=(0,D.DV)(l,".priority"),(0,D.hu)(ff(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(f_(e.serverSyncTree_,n)||Je.EMPTY_NODE).getPriority().val();const m=_f(e),v=xn(l,g),I=_C(v,a,m);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=I,o.currentWriteId=y_(e);const S=uC(e.serverSyncTree_,n,I,o.currentWriteId,o.applyLocally);Tr(e.eventQueue_,n,S),b_(e,e.transactionQueueTree_)}}(e._repo,e._path,n,(l,d,f)=>{let g=null;l?s.reject(l):(g=new El(f,new es(e._repo,e._path),pn),s.resolve(new B7(d,g)))},a,r),s.promise}(this._delegate,n,{applyLocally:i}).then(s=>new q7(s.committed,new ha(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(n,t){(0,D.Dv)("Reference.setPriority",1,2,arguments.length),(0,D.Wj)("Reference.setPriority","onComplete",t,!0);const i=function e7(e,n){e=(0,D.m9)(e),Xr("setPriority",e._path),EC("setPriority",n,!1);const t=new D.BH;return IC(e._repo,Sn(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}push(n,t){(0,D.Dv)("Reference.push",0,2,arguments.length),(0,D.Wj)("Reference.push","onComplete",t,!0);const i=function Qq(e,n){e=(0,D.m9)(e),Xr("push",e._path),qs("push",n,e._path,!0);const t=ix(e._repo),i=Jq(t),r=Dl(e,i),s=Dl(e,i);let o;return o=null!=n?OC(s,n).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,n),r=i.then(o=>new Sr(this.database,o));t&&r.then(()=>t(null),o=>t(o));const s=new Sr(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Xr("Reference.onDisconnect",this._delegate._path),new z7(new px(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class bf{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:R7,forceLongPolling:M7}}useEmulator(n,t,i={}){!function Tx(e,n,t,i={}){(e=(0,D.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Gs("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Zh(Zh.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,D.Sg)(i.mockUserToken,e.app.options.projectId);s=new Zh(o)}!function I7(e,n,t,i){e.repoInfo_=new Ow(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,n,t,s)}(this._delegate,n,t,i)}ref(n){if((0,D.Dv)("database.ref",0,1,arguments.length),n instanceof Sr){const t=mx(this._delegate,n.toString());return new Sr(this,t)}{const t=gx(this._delegate,n);return new Sr(this,t)}}refFromURL(n){(0,D.Dv)("database.refFromURL",1,1,arguments.length);const i=mx(this._delegate,n);return new Sr(this,i)}goOffline(){return(0,D.Dv)("database.goOffline",0,0,arguments.length),function O7(e){(e=(0,D.m9)(e))._checkNotDeleted("goOffline"),ax(e._repo)}(this._delegate)}goOnline(){return(0,D.Dv)("database.goOnline",0,0,arguments.length),function x7(e){(e=(0,D.m9)(e))._checkNotDeleted("goOnline"),function Gq(e){e.persistentConnection_&&e.persistentConnection_.resume(nx)}(e._repo)}(this._delegate)}}bf.ServerValue={TIMESTAMP:function L7(){return F7}(),increment:e=>function V7(e){return{".sv":{increment:e}}}(e)};var Z7=Object.freeze({__proto__:null,initStandalone:function K7({app:e,url:n,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){Sw(t);const a=new hl.H0("database-standalone"),l=new hl.zt("auth-internal",a);let d;return l.setComponent(new hl.wA("auth-internal",()=>i,"PRIVATE")),r&&(d=new hl.zt("app-check-internal",a),d.setComponent(new hl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new bf(kC(e,l,d,n,o),e),namespace:s}}});const Y7=bf.ServerValue;function wf(e,n,t="on",i=jm){return new Ue(r=>{let s=null;return s=e[t](n,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),"once"===t&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===t?{unsubscribe(){null!=s&&e.off(n,s)}}:{unsubscribe(){}}}).pipe(ge(r=>{const{snapshot:s,prevKey:o}=r;let a=null;return s.exists()&&(a=s.key),{type:n,payload:s,prevKey:o,key:a}}),K())}function Nx(e){return null==e}function Ax(e){return"function"==typeof e.set}function Rx(e,n){return Ax(n)?n:e.ref(n)}function Mx(e,n){if(function Q7(e){return"string"==typeof e}(e))return n.stringCase();if(Ax(e))return n.firebaseCase();if(function X7(e){return"function"==typeof e.exportVal}(e))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Ox(e){return(Nx(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function xx(e,n,t){return C(...(n=Ox(n)).map(r=>wf(e,r,"on",t)))}function Px(e,n){return function(i,r){return Mx(i,{stringCase:()=>e.child(i)[n](r),firebaseCase:()=>i[n](r),snapshotCase:()=>i.ref[n](r)})}}function i9(e){return function(t){return t?Mx(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function kx(e,n){const t=e.length;for(let i=0;i<t;i++)if(e[i].payload.key===n)return i;return-1}function o9(e,n){const{payload:t,prevKey:i,key:r}=n,s=kx(e,r),o=function s9(e,n){if(Nx(n))return 0;{const t=kx(e,n);return-1===t?e.length:t+1}}(e,i);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(l=>{const d={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,d],!1})}return e;case"child_added":if(s>-1)(e[s-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==t.key)).splice(o,0,n);else{if(null==i)return[n,...e];(e=e.slice()).splice(o,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===r?n:a);case"child_moved":if(s>-1){const a=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,a),e}return e;default:return e}}function Fx(e,n,t){return function r9(e,n,t){return wf(e,"value","once",t).pipe(ye(i=>{const r=[N(i)];return n.forEach(s=>r.push(wf(e,s,"on",t))),C(...r).pipe(zb(o9,[]))}),Fe())}(e,n=Ox(n),t)}function Lx(e,n){return function(){return wf(e,"value","on",n)}}!function J7(e){e.INTERNAL.registerComponent(new hl.wA("database-compat",(n,{instanceIdentifier:t})=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("database").getImmediate({identifier:t});return new bf(r,i)},"PUBLIC").setServiceProps({Reference:Sr,Query:Ii,Database:bf,DataSnapshot:ha,enableLogging:P7,INTERNAL:Z7,ServerValue:Y7}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.3")}(ta.Z);const c9=new fe("angularfire2.realtimeDatabaseURL"),u9=new fe("angularfire2.database.use-emulator");let Vx=(()=>{class e{schedulers;database;constructor(t,i,r,s,o,a,l,d,f,g,m,v,I,S,O){this.schedulers=a;const $=l,k=Dw(t,o,i);d&&bM(k,o,f,m,v,I,g,S),this.database=uM(`${k.name}.database.${r}`,"AngularFireDatabase",k.name,()=>{const Z=o.runOutsideAngular(()=>k.database(r||void 0));return $&&Z.useEmulator(...$),Z},[$])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Rx(this.database,t));let s=r;return i&&(s=i(r)),function a9(e,n){const t=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Px(i,"update"),set:Px(i,"set"),push:r=>i.push(r),remove:i9(i),snapshotChanges:r=>Fx(e,r,t).pipe(ea),stateChanges:r=>xx(e,r,t).pipe(ea),auditTrail:r=>function e9(e,n,t){return function n9(e,n,t){return function t9(e,n){return wf(e,"value","on",n).pipe(ge(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(e,t).pipe($m(n),ge(([r,s])=>{const o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function i5(e){return J((n,t)=>{let i=!1,r=0;n.subscribe(de(t,s=>(i||(i=!e(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),ge(r=>r.actions))}(e,xx(e,n).pipe(zb((r,s)=>[...r,s],[])),t)}(e,r,t).pipe(ea),valueChanges:(r,s)=>Fx(e,r,t).pipe(ge(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),ea)}}(s,this)}object(t){return function l9(e,n){return{query:e,snapshotChanges:()=>Lx(e,n.schedulers.outsideAngular)().pipe(ea),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>Lx(e,n.schedulers.outsideAngular)().pipe(ea,ge(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Rx(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(ee(Um),ee(Hm,8),ee(c9,8),ee(Ls),ee(dt),ee(lM),ee(u9,8),ee(Iw,8),ee(pM,8),ee(gM,8),ee(mM,8),ee(_M,8),ee(vM,8),ee(yM,8),ee(oM,8))};static \u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),d9=(()=>{class e{constructor(){ta.Z.registerVersion("angularfire",Ew.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=wt({type:e});static \u0275inj=It({providers:[Vx]})}return e})(),h9=(()=>{class e{constructor(t){this.db=t,this.refHibajegyek=t.list("hibak")}getErrors(){return this.refHibajegyek}pushError(t){return this.refHibajegyek.push(t)}saveError(t){return this.refHibajegyek.update(t.key,t)}deleteError(t){return this.refHibajegyek.remove(t.key)}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Vx))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bx=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||e)(F(Er),F($t))};static#t=this.\u0275dir=le({type:e})}return e})(),Il=(()=>{class e extends Bx{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Dn(e)))(r||e)}}();static#t=this.\u0275dir=le({type:e,features:[Gt]})}return e})();const ts=new fe("NgValueAccessor"),g9={provide:ts,useExisting:V(()=>Cf),multi:!0},_9=new fe("CompositionEventMode");let Cf=(()=>{class e extends Bx{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m9(){const e=Wo()?Wo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||e)(F(Er),F($t),F(_9,8))};static#t=this.\u0275dir=le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ze("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[an([g9]),Gt]})}return e})();const Ti=new fe("NgValidators"),pa=new fe("NgAsyncValidators");function Yx(e){return null!=e}function Jx(e){return sh(e)?b(e):e}function Qx(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Xx(e,n){return n.map(t=>t(e))}function eP(e){return e.map(n=>function y9(e){return!e.validate}(n)?n:t=>n.validate(t))}function FC(e){return null!=e?function tP(e){if(!e)return null;const n=e.filter(Yx);return 0==n.length?null:function(t){return Qx(Xx(t,n))}}(eP(e)):null}function LC(e){return null!=e?function nP(e){if(!e)return null;const n=e.filter(Yx);return 0==n.length?null:function(t){return function f9(...e){const n=ji(e),{args:t,keys:i}=wA(e),r=new Ue(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let f=0;f<o;f++){let g=!1;se(t[f]).subscribe(de(s,m=>{g||(g=!0,d--),a[f]=m},()=>l--,void 0,()=>{(!l||!g)&&(d||s.next(i?CA(i,a):a),s.complete())}))}});return n?r.pipe($b(n)):r}(Xx(t,n).map(Jx)).pipe(ge(Qx))}}(eP(e)):null}function iP(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function VC(e){return e?Array.isArray(e)?e:[e]:[]}function T_(e,n){return Array.isArray(e)?e.includes(n):e===n}function oP(e,n){const t=VC(n);return VC(e).forEach(r=>{T_(t,r)||t.push(r)}),t}function aP(e,n){return VC(n).filter(t=>!T_(e,t))}class lP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=FC(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=LC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Qi extends lP{get formDirective(){return null}get path(){return null}}class ga extends lP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cP{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let BC=(()=>{class e extends cP{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(F(ga,2))};static#t=this.\u0275dir=le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Gt]})}return e})();const Ef="VALID",N_="INVALID",Ou="PENDING",Df="DISABLED";function A_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class fP{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ef}get invalid(){return this.status===N_}get pending(){return this.status==Ou}get disabled(){return this.status===Df}get enabled(){return this.status!==Df}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(oP(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oP(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(aP(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(aP(n,this._rawAsyncValidators))}hasValidator(n){return T_(this._rawValidators,n)}hasAsyncValidator(n){return T_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ou,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Df,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Ef,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ef||this.status===Ou)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Df:Ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ou,this._hasOwnPendingAsyncValidator=!0;const t=Jx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?Df:this.errors?N_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ou)?Ou:this._anyControlsHaveStatus(N_)?N_:Ef}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){A_(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function D9(e){return Array.isArray(e)?FC(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function I9(e){return Array.isArray(e)?LC(e):e||null}(this._rawAsyncValidators)}}const xu=new fe("CallSetDisabledState",{providedIn:"root",factory:()=>R_}),R_="always";function If(e,n,t=R_){(function WC(e,n){const t=function rP(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(iP(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function sP(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(iP(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();x_(n._rawValidators,r),x_(n._rawAsyncValidators,r)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function N9(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&pP(e,n)})}(e,n),function R9(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function A9(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&pP(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function S9(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function x_(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function pP(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function _P(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function vP(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const yP=class extends fP{constructor(n=null,t,i){super(function HC(e){return(A_(e)?e.validators:e)||null}(t),function $C(e,n){return(A_(n)?n.asyncValidators:e)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=vP(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_P(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_P(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){vP(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},V9={provide:ga,useExisting:V(()=>k_)},CP=(()=>Promise.resolve())();let k_=(()=>{class e extends ga{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new yP,this._registered=!1,this.name="",this.update=new xe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function KC(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===Cf?t=s:function x9(e){return Object.getPrototypeOf(e.constructor)===Il}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function qC(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){If(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){CP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function nu(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(i);CP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function M_(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||e)(F(Qi,9),F(Ti,10),F(pa,10),F(ts,10),F(fs,8),F(xu,8))};static#t=this.\u0275dir=le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[an([V9]),Gt,Xn]})}return e})(),DP=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),cK=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({imports:[DP]})}return e})(),dK=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:xu,useValue:t.callSetDisabledState??R_}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({imports:[cK]})}return e})();const hK=["ngbalert"];function fK(e,n){if(1&e){const t=$r();ih(0),De(1,"div",3)(2,"input",4),ze("ngModelChange",function(r){return ei(t),wi(ke().email=r)}),Ie(),De(3,"span",5),Ot(4,"@gmail.com"),Ie()(),De(5,"button",0),ze("click",function(){return ei(t),wi(ke().sendInEmailLink())}),Ot(6,"Hibajegy lead\xe1sa"),Ie(),rh()}if(2&e){const t=ke();Ne(2),Se("ngModel",t.email)}}function pK(e,n){if(1&e&&(ih(0),De(1,"div",10),Ot(2),Ie(),rh()),2&e){const t=ke(2);Ne(2),il(" ",t.message," ")}}function gK(e,n){if(1&e){const t=$r();De(0,"div",6)(1,"label",7),Ot(2,"Hiba le\xedr\xe1sa"),Ie(),De(3,"textarea",8),ze("ngModelChange",function(r){return ei(t),wi(ke().errorMessage=r)}),Ie()(),De(4,"button",0),ze("click",function(){return ei(t),wi(ke().sendError())}),Ot(5,"Hibajegy lead\xe1sa"),Ie(),Pe(6,pK,3,1,"ng-container",9)}if(2&e){const t=ke();Ne(3),Se("ngModel",t.errorMessage),Ne(3),Se("ngIf",t.sendOk)}}const mK=[{path:"",component:(()=>{class e{constructor(t,i,r){this.emailService=t,this.auth=i,this.base=r,this.alert={type:"success",message:"This is an success alert"},this.sendOk=!1,this.message="",this.auth.getLoggedUser().subscribe(s=>{this.user=s,console.log("user:",s)}),this.email=window.localStorage.getItem("email"),this.email&&this.auth.signInEmailLink(this.email).then(s=>{window.localStorage.removeItem("email")}).catch(s=>console.log("Nok:",s))}sendInEmailLink(){this.email=String(this.email)+"@gmail.com",window.localStorage.setItem("email",this.email),console.log("email",this.email),this.auth.sendInEmailLink(this.email)}logout(){this.auth.logout()}sendError(){var t={email:this.user.email,date:new Date,errorMessage:this.errorMessage,status:"Felv\xe9ve"};this.email="",console.log("Body:",t),this.base.pushError(t).then(i=>{this.emailService.sendMail(this.user.email,this.errorMessage),this.sendOk=!0,this.message="A hibajegyet r\xf6gz\xedtett\xfck, feldolgoz\xe1sa folyamatban van!",setTimeout(()=>{this.sendOk=!1,this.logout()},2e3)}).catch(i=>{this.sendOk=!0,this.message="A hib\xe1t nem siker\xfclt r\xf6gz\xedten\xfcnk, pr\xf3b\xe1lja meg k\xe9s\u0151bb.",this.logout()})}close(t){}proba(){this.ngbalert.Close()}sendEmail(){}static#e=this.\u0275fac=function(i){return new(i||e)(F(t4),F(wM),F(h9))};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-hibabejelentes"]],viewQuery:function(i,r){if(1&i&&Ho(hK,5),2&i){let s;zt(s=qt())&&(r.ngbalert=s.first)}},decls:9,vars:2,consts:[["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf","ngIfElse"],["hibabejelentes",""],[1,"input-group","mb-3"],["type","text","placeholder","Recipient's username","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],["id","basic-addon2",1,"input-group-text"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["role","alert",1,"alert","alert-success"]],template:function(i,r){if(1&i&&(De(0,"p"),Ot(1,"hibabejelentes works!"),Ie(),De(2,"button",0),ze("click",function(){return r.sendEmail()}),Ot(3,"Email"),Ie(),Pe(4,fK,7,1,"ng-container",1),Pe(5,gK,7,2,"ng-template",null,2,qr),De(7,"button",0),ze("click",function(){return r.logout()}),Ot(8,"Kil\xe9p\xe9s"),Ie()),2&i){const s=function as(e){return Ps(function bd(){return Le.lFrame.contextLView}(),ut+e)}(6);Ne(4),Se("ngIf",!r.user)("ngIfElse",s)}},dependencies:[qo,Cf,BC,k_]})}return e})()},{path:"signin",component:(()=>{class e{constructor(t){this.auth=t,this.auth.getLoggedUser().subscribe(i=>this.user=i),this.auth.getsAdmin().subscribe(i=>this.sAdmin=i)}claims(){this.auth.setClaims().subscribe({next:t=>console.log("Sikeres jog be\xe1ll\xedt\xe1s",t),error:t=>console.log("Sikertelen jog be\xe1ll\xedt\xe1s",t)})}login(){this.auth.signIn(this.email,this.password)}register(){this.auth.signUp(this.email,this.password)}googleLogin(){this.auth.googleAuth()}static#e=this.\u0275fac=function(i){return new(i||e)(F(wM))};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-signin"]],decls:26,vars:8,consts:[[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[1,"form-floating"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,r){1&i&&(De(0,"p"),Ot(1),L0(2,"json"),Ie(),De(3,"p"),Ot(4),L0(5,"json"),Ie(),De(6,"div",0)(7,"div",1)(8,"h5",2),Ot(9,"Sing in"),Ie(),De(10,"div",3)(11,"input",4),ze("ngModelChange",function(o){return r.email=o}),Ie(),De(12,"label",5),Ot(13,"Email address"),Ie()(),De(14,"div",6)(15,"input",7),ze("ngModelChange",function(o){return r.password=o}),Ie(),De(16,"label",8),Ot(17,"Password"),Ie()(),De(18,"button",9),ze("click",function(){return r.googleLogin()}),Ot(19,"Sing In with Google"),Ie(),De(20,"button",9),ze("click",function(){return r.login()}),Ot(21,"Sing In"),Ie(),De(22,"button",9),ze("click",function(){return r.register()}),Ot(23,"Sing Up"),Ie(),De(24,"button",9),ze("click",function(){return r.claims()}),Ot(25,"Claims"),Ie()()()),2&i&&(Ne(1),ds(V0(2,4,r.sAdmin)),Ne(3),ds(V0(5,6,r.user)),Ne(7),Se("ngModel",r.email),Ne(4),Se("ngModel",r.password))},dependencies:[Cf,BC,k_,YN]})}return e})()},{path:"userlist",component:(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-user-list"]],decls:2,vars:0,template:function(i,r){1&i&&(De(0,"p"),Ot(1,"user-list works!"),Ie())}})}return e})()},{path:"errorlist",component:(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-error-list"]],decls:2,vars:0,template:function(i,r){1&i&&(De(0,"p"),Ot(1,"error-list works!"),Ie())}})}return e})()}];let _K=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({imports:[AR.forRoot(mK),AR]})}return e})(),vK=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-navbar"]],decls:2,vars:0,template:function(i,r){1&i&&(De(0,"p"),Ot(1,"navbar works!"),Ie())}})}return e})(),yK=(()=>{class e{constructor(){this.title="ErrorTicket"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Pn({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(i,r){1&i&&(ls(0,"app-navbar"),De(1,"div",0),ls(2,"router-outlet"),Ie())},dependencies:[ow,vK]})}return e})();const bK=["addListener","removeListener"],wK=["addEventListener","removeEventListener"],CK=["on","off"];function Si(e,n,t,i){if(E(t)&&(i=t,t=void 0),i)return Si(e,n,t).pipe($b(i));const[r,s]=function IK(e){return E(e.addEventListener)&&E(e.removeEventListener)}(e)?wK.map(o=>a=>e[o](n,a,t)):function EK(e){return E(e.addListener)&&E(e.removeListener)}(e)?bK.map(HP(e,n)):function DK(e){return E(e.on)&&E(e.off)}(e)?CK.map(HP(e,n)):[];if(!r&&gt(e))return mt(o=>Si(o,n,t))(se(e));if(!r)throw new TypeError("Invalid event target");return new Ue(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function HP(e,n){return t=>i=>e[t](n,i)}const{isArray:SK}=Array;function GP(e){return 1===e.length&&SK(e[0])?e[0]:e}function nE(...e){const n=ji(e),t=GP(e);return t.length?new Ue(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)se(t[o]).subscribe(de(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(d=>d.shift());i.next(n?n(...l):l),r.some((d,f)=>!d.length&&s[f])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Rt}Math,Math,Math;const sY=["*"],kY=["dialog"];function Al(e){return"string"==typeof e}function Rl(e){return null!=e}function Bu(e){return(e||document.body).getBoundingClientRect()}const Ek={animation:!0,transitionTimerDelayMs:5},SJ=()=>{},{transitionTimerDelayMs:NJ}=Ek,Pf=new Map,fr=(e,n,t,i)=>{let r=i.context||{};const s=Pf.get(n);if(s)switch(i.runningTransition){case"continue":return Rt;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Pf.delete(n)}const o=t(n,i.animation,r)||SJ;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>o()),N(void 0).pipe(function IJ(e){return n=>new Ue(t=>n.subscribe({next:o=>e.run(()=>t.next(o)),error:o=>e.run(()=>t.error(o)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new B,l=new B,d=a.pipe(function AK(...e){return n=>Dh(n,N(...e))}(!0));Pf.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const f=function TJ(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const g=Si(n,"transitionend").pipe(Ln(d),Zn(({target:v})=>v===n));(function WP(...e){return 1===(e=GP(e)).length?se(e[0]):new Ue(function NK(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(se(e[i]).subscribe(de(n,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}n.next(r)})))}}(e))})(function $P(e=0,n,t=V4){let i=-1;return null!=n&&(on(n)?t=n:i=n),new Ue(r=>{let s=function TK(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(f+NJ).pipe(Ln(d)),g,l).pipe(Ln(d)).subscribe(()=>{Pf.delete(n),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let $_=(()=>{class e{constructor(){this.animation=Ek.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ok=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),xk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),Fk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),Lk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();var cn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(cn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Gk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Wk(e){const n=Array.from(e.querySelectorAll(Gk)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let rF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),aF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();class kl{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}let SQ=(()=>{class e{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Di(1)).subscribe(()=>{fr(this._zone,this._el.nativeElement,(t,i)=>{i&&Bu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)(F($t),F(dt))};static#t=this.\u0275cmp=Pn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(nl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Mt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Wr],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class lF{update(n){}close(n){}dismiss(n){}}const NQ=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],AQ=["animation","backdropClass"];class RQ{_applyWindowOptions(n,t){NQ.forEach(i=>{Rl(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){AQ.forEach(i=>{Rl(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ln(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ln(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new B,this._dismissed=new B,this._hidden=new B,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function bk(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():N(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),nE(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var RE=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(RE||{});let MQ=(()=>{class e{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new xe,this.shown=new B,this.hidden=new B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Al(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=nE(fr(this._zone,t,()=>t.classList.remove("show"),i),fr(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};nE(fr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Bu(s),s.classList.add("show")},t),fr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Si(t,"keydown").pipe(Ln(this._closed$),Zn(r=>r.which===cn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(RE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Si(this._dialogEl.nativeElement,"mousedown").pipe(Ln(this._closed$),ri(()=>i=!1),ye(()=>Si(t,"mouseup").pipe(Ln(this._closed$),Di(1))),Zn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Si(t,"click").pipe(Ln(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(RE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=Wk(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)(F(qn),F($t),F(dt))};static#t=this.\u0275cmp=Pn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Ho(kY,7),2&i){let s;zt(s=qt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Wt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),nl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Mt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Wr],ngContentSelectors:sY,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function UT(e){const n=te()[Cn][di];if(!n.projection){const i=n.projection=Pd(e?e.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=e?UB(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),De(0,"div",0,1)(2,"div",2),function HT(e,n=0,t){const i=te(),r=Ct(),s=Uc(r,ut+e,16,null,t||null);null===s.projection&&(s.projection=n),yd(),(!i[ss]||ks())&&32!=(32&s.flags)&&function $L(e,n,t){GD(n[$e],0,n,t,by(e,t,n),VD(t.parent||n[di],t,n))}(r,i,s)}(3),Ie()()),2&i&&nl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),OQ=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||e)(ee(qn))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xQ=(()=>{class e{constructor(t,i,r,s,o,a,l){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new xe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,i=!1)=>{e.runOutsideAngular(()=>{const r=Si(n,"focusin").pipe(Ln(t),ge(s=>s.target));Si(n,"keydown").pipe(Ln(t),Zn(s=>s.which===cn.Tab),$m(r)).subscribe(([s,o])=>{const[a,l]=Wk(n);(o===a||o===n)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Si(n,"click").pipe(Ln(t),$m(r),ge(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:Rl(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new lF,l=(t=r.injector||t).get(Ki,null)||this._environmentInjector,d=this._getContentRef(t,l,i,a,r);let f=!1!==r.backdrop?this._attachBackdrop(s):void 0,g=this._attachWindowComponent(s,d.nodes),m=new RQ(g,d,f,r.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(g),m.hidden.pipe(Di(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{m.close(v)},a.dismiss=v=>{m.dismiss(v)},a.update=v=>{m.update(v)},m.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),f&&f.instance&&f.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=hb(SQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=hb(MQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof Mn?this._createFromTemplateRef(r,s):Al(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new kl([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new kl([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new kl([[i]])}_createFromComponent(t,i,r,s,o){const l=hb(r,{environmentInjector:i,elementInjector:Ei.create({providers:[{provide:lF,useValue:s}],parent:t})}),d=l.location.nativeElement;return o.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new kl([[d]],l.hostView,l)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Go),ee(Ei),ee(Ki),ee(qn),ee(OQ),ee(Zy),ee(dt))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PQ=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||e)(ee($_))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kQ=(()=>{class e{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)(ee(Ei),ee(xQ),ee(PQ))};static#t=this.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({providers:[kQ]})}return e})(),hF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),bF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),wF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),CF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),EF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),DF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),IF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),TF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),SF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();new fe("live announcer delay",{providedIn:"root",factory:function YQ(){return 100}});let NF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})(),AF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({})}return e})();const QQ=[Ok,xk,Fk,Lk,rF,aF,cF,hF,AF,bF,wF,CF,EF,DF,IF,TF,SF,NF];let XQ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e});static#n=this.\u0275inj=It({imports:[QQ,Ok,xk,Fk,Lk,rF,aF,cF,hF,AF,bF,wF,CF,EF,DF,IF,TF,SF,NF]})}return e})();const eX_firebaseConfig={apiKey:"AIzaSyArRu_bbTD0hC_DRu8HJn4qQ-ykaPI7FfM",authDomain:"hibajegykezelo-abbcf.firebaseapp.com",databaseURL:"https://hibajegykezelo-abbcf-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hibajegykezelo-abbcf",storageBucket:"hibajegykezelo-abbcf.appspot.com",messagingSenderId:"1004493441010",appId:"1:1004493441010:web:38368f793168c6ea1b8d6b",measurementId:"G-V49P7DQXV1"};let tX=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=wt({type:e,bootstrap:[yK]});static#n=this.\u0275inj=It({imports:[cW,_K,XQ,dK,I4,Q4.initializeApp(eX_firebaseConfig),d9]})}return e})();aW().bootstrapModule(tX).catch(e=>console.error(e))},614:()=>{const Ri=":";const Nt=function(L,...x){if(Nt.translate){const Q=Nt.translate(L,x);L=Q[0],x=Q[1]}let G=_n(L[0],L.raw[0]);for(let Q=1;Q<L.length;Q++)G+=x[Q-1]+_n(L[Q],L.raw[Q]);return G},Jt=":";function _n(L,x){return x.charAt(0)===Jt?L.substring(function W(L,x){for(let G=1,Q=1;G<L.length;G++,Q++)if("\\"===x[Q])Q++;else if(L[G]===Ri)return G;throw new Error(`Unterminated $localize metadata block in "${x}".`)}(L,x)+1):L}globalThis.$localize=Nt},106:(Ri,In,Oe)=>{Oe.d(In,{Z:()=>nn});var E=Oe(58),z=Oe(537),P=Oe(534),Te=Oe(879);class Xe{constructor(Ve,Be){this._delegate=Ve,this.firebase=Be,(0,P._addComponent)(Ve,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ve,Be=P._DEFAULT_ENTRY_NAME){var An;this._delegate.checkDestroyed();const rn=this._delegate.container.getProvider(Ve);return!rn.isInitialized()&&"EXPLICIT"===(null===(An=rn.getComponent())||void 0===An?void 0:An.instantiationMode)&&rn.initialize(),rn.getImmediate({identifier:Be})}_removeServiceInstance(Ve,Be=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(Be)}_addComponent(Ve){(0,P._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,P._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const mn=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function pt(){const it=function Vt(it){const Ve={},Be={__esModule:!0,initializeApp:function Ze(We,ie={}){const ot=P.initializeApp(We,ie);if((0,E.r3)(Ve,ot.name))return Ve[ot.name];const Bt=new it(ot,Be);return Ve[ot.name]=Bt,Bt},app:rn,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function oi(We){const ie=We.name,ot=ie.replace("-compat","");if(P._registerComponent(We)&&"PUBLIC"===We.type){const Bt=(un=rn())=>{if("function"!=typeof un[ot])throw mn.create("invalid-app-argument",{appName:ie});return un[ot]()};void 0!==We.serviceProps&&(0,E.ZB)(Bt,We.serviceProps),Be[ot]=Bt,it.prototype[ot]=function(...un){return this._getService.bind(this,ie).apply(this,We.multipleInstances?un:[])}}return"PUBLIC"===We.type?Be[ot]:null},removeApp:function An(We){delete Ve[We]},useAsService:function Tn(We,ie){return"serverAuth"===ie?null:ie},modularAPIs:P}};function rn(We){if(!(0,E.r3)(Ve,We=We||P._DEFAULT_ENTRY_NAME))throw mn.create("no-app",{appName:We});return Ve[We]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function rt(){return Object.keys(Ve).map(We=>Ve[We])}}),rn.App=it,Be}(Xe);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:pt,extendNamespace:function Ve(Be){(0,E.ZB)(it,Be)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),it}(),oe=new Te.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nn=Y;!function yt(it){(0,P.registerVersion)("@firebase/app-compat","0.2.27",it)}()},534:(Ri,In,Oe)=>{Oe.r(In),Oe.d(In,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>pr,_DEFAULT_ENTRY_NAME:()=>et,_addComponent:()=>Wn,_addOrOverwriteComponent:()=>Yn,_apps:()=>dn,_clearComponents:()=>Rt,_components:()=>Bn,_getProvider:()=>mt,_registerComponent:()=>Pt,_removeServiceInstance:()=>Dt,deleteApp:()=>Un,getApp:()=>gr,getApps:()=>jn,initializeApp:()=>ji,onLog:()=>Do,registerVersion:()=>Ui,setLogLevel:()=>Ts});var E=Oe(861),z=Oe(537),P=Oe(879),Te=Oe(58);const Xe=(V,R)=>R.some(ne=>V instanceof ne);let tn,mn;const Y=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Ge=new WeakMap,yt=new WeakMap;let Ve={get(V,R,ne){if(V instanceof IDBTransaction){if("done"===R)return oe.get(V);if("objectStoreNames"===R)return V.objectStoreNames||Ce.get(V);if("store"===R)return ne.objectStoreNames[1]?void 0:ne.objectStore(ne.objectStoreNames[0])}return Ze(V[R])},set:(V,R,ne)=>(V[R]=ne,!0),has:(V,R)=>V instanceof IDBTransaction&&("done"===R||"store"===R)||R in V};function rn(V){return"function"==typeof V?function An(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pt(){return mn||(mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...R){return V.apply(rt(this),R),Ze(Y.get(this))}:function(...R){return Ze(V.apply(rt(this),R))}:function(R,...ne){const ve=V.call(rt(this),R,...ne);return Ce.set(ve,R.sort?R.sort():[R]),Ze(ve)}}(V):(V instanceof IDBTransaction&&function it(V){if(oe.has(V))return;const R=new Promise((ne,ve)=>{const tt=()=>{V.removeEventListener("complete",lt),V.removeEventListener("error",q),V.removeEventListener("abort",q)},lt=()=>{ne(),tt()},q=()=>{ve(V.error||new DOMException("AbortError","AbortError")),tt()};V.addEventListener("complete",lt),V.addEventListener("error",q),V.addEventListener("abort",q)});oe.set(V,R)}(V),Xe(V,function Vt(){return tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ve):V)}function Ze(V){if(V instanceof IDBRequest)return function nn(V){const R=new Promise((ne,ve)=>{const tt=()=>{V.removeEventListener("success",lt),V.removeEventListener("error",q)},lt=()=>{ne(Ze(V.result)),tt()},q=()=>{ve(V.error),tt()};V.addEventListener("success",lt),V.addEventListener("error",q)});return R.then(ne=>{ne instanceof IDBCursor&&Y.set(ne,V)}).catch(()=>{}),yt.set(R,V),R}(V);if(Ge.has(V))return Ge.get(V);const R=rn(V);return R!==V&&(Ge.set(V,R),yt.set(R,V)),R}const rt=V=>yt.get(V),We=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],ot=new Map;function Bt(V,R){if(!(V instanceof IDBDatabase)||R in V||"string"!=typeof R)return;if(ot.get(R))return ot.get(R);const ne=R.replace(/FromIndex$/,""),ve=R!==ne,tt=ie.includes(ne);if(!(ne in(ve?IDBIndex:IDBObjectStore).prototype)||!tt&&!We.includes(ne))return;const lt=function(){var q=(0,E.Z)(function*(vn,...Ee){const nt=this.transaction(vn,tt?"readwrite":"readonly");let ya=nt.store;return ve&&(ya=ya.index(Ee.shift())),(yield Promise.all([ya[ne](...Ee),tt&&nt.done]))[0]});return function(Ee){return q.apply(this,arguments)}}();return ot.set(R,lt),lt}!function Be(V){Ve=V(Ve)}(V=>({...V,get:(R,ne,ve)=>Bt(R,ne)||V.get(R,ne,ve),has:(R,ne)=>!!Bt(R,ne)||V.has(R,ne)}));class un{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(ne=>{if(function sn(V){const R=V.getComponent();return"VERSION"===R?.type}(ne)){const ve=ne.getImmediate();return`${ve.library}/${ve.version}`}return null}).filter(ne=>ne).join(" ")}}const Vi="@firebase/app",Ue=new P.Yd("@firebase/app"),et="[DEFAULT]",Ut={[Vi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Bn=new Map;function Wn(V,R){try{V.container.addComponent(R)}catch(ne){Ue.debug(`Component ${R.name} failed to register with FirebaseApp ${V.name}`,ne)}}function Yn(V,R){V.container.addOrOverwriteComponent(R)}function Pt(V){const R=V.name;if(Bn.has(R))return Ue.debug(`There were multiple attempts to register component ${R}.`),!1;Bn.set(R,V);for(const ne of dn.values())Wn(ne,V);return!0}function mt(V,R){const ne=V.container.getProvider("heartbeat").getImmediate({optional:!0});return ne&&ne.triggerHeartbeat(),V.container.getProvider(R)}function Dt(V,R,ne=et){mt(V,R).clearInstance(ne)}function Rt(){Bn.clear()}const Qt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class on{constructor(R,ne,ve){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},ne),this._name=ne.name,this._automaticDataCollectionEnabled=ne.automaticDataCollectionEnabled,this._container=ve,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const pr="10.8.0";function ji(V,R={}){let ne=V;"object"!=typeof R&&(R={name:R});const ve=Object.assign({name:et,automaticDataCollectionEnabled:!1},R),tt=ve.name;if("string"!=typeof tt||!tt)throw Qt.create("bad-app-name",{appName:String(tt)});if(ne||(ne=(0,Te.aH)()),!ne)throw Qt.create("no-options");const lt=dn.get(tt);if(lt){if((0,Te.vZ)(ne,lt.options)&&(0,Te.vZ)(ve,lt.config))return lt;throw Qt.create("duplicate-app",{appName:tt})}const q=new z.H0(tt);for(const Ee of Bn.values())q.addComponent(Ee);const vn=new on(ne,ve,q);return dn.set(tt,vn),vn}function gr(V=et){const R=dn.get(V);if(!R&&V===et&&(0,Te.aH)())return ji();if(!R)throw Qt.create("no-app",{appName:V});return R}function jn(){return Array.from(dn.values())}function Un(V){return yi.apply(this,arguments)}function yi(){return(yi=(0,E.Z)(function*(V){const R=V.name;dn.has(R)&&(dn.delete(R),yield Promise.all(V.container.getProviders().map(ne=>ne.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Ui(V,R,ne){var ve;let tt=null!==(ve=Ut[V])&&void 0!==ve?ve:V;ne&&(tt+=`-${ne}`);const lt=tt.match(/\s|\//),q=R.match(/\s|\//);if(lt||q){const vn=[`Unable to register library "${tt}" with version "${R}":`];return lt&&vn.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),lt&&q&&vn.push("and"),q&&vn.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void Ue.warn(vn.join(" "))}Pt(new z.wA(`${tt}-version`,()=>({library:tt,version:R}),"VERSION"))}function Do(V,R){if(null!==V&&"function"!=typeof V)throw Qt.create("invalid-log-argument");(0,P.Am)(V,R)}function Ts(V){(0,P.Ub)(V)}const Js="firebase-heartbeat-database",Or=1,A="firebase-heartbeat-store";let T=null;function b(){return T||(T=function oi(V,R,{blocked:ne,upgrade:ve,blocking:tt,terminated:lt}={}){const q=indexedDB.open(V,R),vn=Ze(q);return ve&&q.addEventListener("upgradeneeded",Ee=>{ve(Ze(q.result),Ee.oldVersion,Ee.newVersion,Ze(q.transaction),Ee)}),ne&&q.addEventListener("blocked",Ee=>ne(Ee.oldVersion,Ee.newVersion,Ee)),vn.then(Ee=>{lt&&Ee.addEventListener("close",()=>lt()),tt&&Ee.addEventListener("versionchange",nt=>tt(nt.oldVersion,nt.newVersion,nt))}).catch(()=>{}),vn}(Js,Or,{upgrade:(V,R)=>{if(0===R)try{V.createObjectStore(A)}catch(ne){console.warn(ne)}}}).catch(V=>{throw Qt.create("idb-open",{originalErrorMessage:V.message})})),T}function y(){return(y=(0,E.Z)(function*(V){try{const ne=(yield b()).transaction(A),ve=yield ne.objectStore(A).get(be(V));return yield ne.done,ve}catch(R){if(R instanceof Te.ZR)Ue.warn(R.message);else{const ne=Qt.create("idb-get",{originalErrorMessage:R?.message});Ue.warn(ne.message)}}})).apply(this,arguments)}function N(V,R){return K.apply(this,arguments)}function K(){return(K=(0,E.Z)(function*(V,R){try{const ve=(yield b()).transaction(A,"readwrite");yield ve.objectStore(A).put(R,be(V)),yield ve.done}catch(ne){if(ne instanceof Te.ZR)Ue.warn(ne.message);else{const ve=Qt.create("idb-set",{originalErrorMessage:ne?.message});Ue.warn(ve.message)}}})).apply(this,arguments)}function be(V){return`${V.name}!${V.options.appId}`}class bt{constructor(R){this.container=R,this._heartbeatsCache=null;const ne=this.container.getProvider("app").getImmediate();this._storage=new Ae(ne),this._heartbeatsCachePromise=this._storage.read().then(ve=>(this._heartbeatsCache=ve,ve))}triggerHeartbeat(){var R=this;return(0,E.Z)(function*(){var ne,ve;const lt=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),q=_e();if((null!=(null===(ne=R._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats)||(R._heartbeatsCache=yield R._heartbeatsCachePromise,null!=(null===(ve=R._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)))&&R._heartbeatsCache.lastSentHeartbeatDate!==q&&!R._heartbeatsCache.heartbeats.some(vn=>vn.date===q))return R._heartbeatsCache.heartbeats.push({date:q,agent:lt}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(vn=>{const Ee=new Date(vn.date).valueOf();return Date.now()-Ee<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,E.Z)(function*(){var ne;if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null==(null===(ne=R._heartbeatsCache)||void 0===ne?void 0:ne.heartbeats)||0===R._heartbeatsCache.heartbeats.length)return"";const ve=_e(),{heartbeatsToSend:tt,unsentEntries:lt}=function Ht(V,R=1024){const ne=[];let ve=V.slice();for(const tt of V){const lt=ne.find(q=>q.agent===tt.agent);if(lt){if(lt.dates.push(tt.date),zn(ne)>R){lt.dates.pop();break}}else if(ne.push({agent:tt.agent,dates:[tt.date]}),zn(ne)>R){ne.pop();break}ve=ve.slice(1)}return{heartbeatsToSend:ne,unsentEntries:ve}}(R._heartbeatsCache.heartbeats),q=(0,Te.L)(JSON.stringify({version:2,heartbeats:tt}));return R._heartbeatsCache.lastSentHeartbeatDate=ve,lt.length>0?(R._heartbeatsCache.heartbeats=lt,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),q})()}}function _e(){return(new Date).toISOString().substring(0,10)}class Ae{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,E.Z)(function*(){if(yield R._canUseIndexedDBPromise){const ve=yield function C(V){return y.apply(this,arguments)}(R.app);return ve?.heartbeats?ve:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(R){var ne=this;return(0,E.Z)(function*(){var ve;if(yield ne._canUseIndexedDBPromise){const lt=yield ne.read();return N(ne.app,{lastSentHeartbeatDate:null!==(ve=R.lastSentHeartbeatDate)&&void 0!==ve?ve:lt.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var ne=this;return(0,E.Z)(function*(){var ve;if(yield ne._canUseIndexedDBPromise){const lt=yield ne.read();return N(ne.app,{lastSentHeartbeatDate:null!==(ve=R.lastSentHeartbeatDate)&&void 0!==ve?ve:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...R.heartbeats]})}})()}}function zn(V){return(0,Te.L)(JSON.stringify({version:2,heartbeats:V})).length}!function Qs(V){Pt(new z.wA("platform-logger",R=>new un(R),"PRIVATE")),Pt(new z.wA("heartbeat",R=>new bt(R),"PRIVATE")),Ui(Vi,"0.9.27",V),Ui(Vi,"0.9.27","esm2017"),Ui("fire-js","")}("")},537:(Ri,In,Oe)=>{Oe.d(In,{H0:()=>Vt,wA:()=>P,zt:()=>Xe});var E=Oe(861),z=Oe(58);class P{constructor(Y,oe,Ce){this.name=Y,this.instanceFactory=oe,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const Te="[DEFAULT]";class Xe{constructor(Y,oe){this.name=Y,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const oe=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(oe)){const Ce=new z.BH;if(this.instancesDeferred.set(oe,Ce),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:oe});Ge&&Ce.resolve(Ge)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(Y){var oe;const Ce=this.normalizeInstanceIdentifier(Y?.identifier),Ge=null!==(oe=Y?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(yt){if(Ge)return null;throw yt}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function mn(pt){return"EAGER"===pt.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[oe,Ce]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(oe);try{const yt=this.getOrInitializeService({instanceIdentifier:Ge});Ce.resolve(yt)}catch{}}}}clearInstance(Y=Te){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,E.Z)(function*(){const oe=Array.from(Y.instances.values());yield Promise.all([...oe.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...oe.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=Te){return this.instances.has(Y)}getOptions(Y=Te){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:oe={}}=Y,Ce=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Ce,options:oe});for(const[yt,nn]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(yt)&&nn.resolve(Ge);return Ge}onInit(Y,oe){var Ce;const Ge=this.normalizeInstanceIdentifier(oe),yt=null!==(Ce=this.onInitCallbacks.get(Ge))&&void 0!==Ce?Ce:new Set;yt.add(Y),this.onInitCallbacks.set(Ge,yt);const nn=this.instances.get(Ge);return nn&&Y(nn,Ge),()=>{yt.delete(Y)}}invokeOnInitCallbacks(Y,oe){const Ce=this.onInitCallbacks.get(oe);if(Ce)for(const Ge of Ce)try{Ge(Y,oe)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:oe={}}){let Ce=this.instances.get(Y);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(pt=Y,pt===Te?void 0:pt),options:oe}),this.instances.set(Y,Ce),this.instancesOptions.set(Y,oe),this.invokeOnInitCallbacks(Ce,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Ce)}catch{}var pt;return Ce||null}normalizeInstanceIdentifier(Y=Te){return this.component?this.component.multipleInstances?Y:Te:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vt{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const oe=this.getProvider(Y.name);if(oe.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);oe.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const oe=new Xe(Y,this);return this.providers.set(Y,oe),oe}getProviders(){return Array.from(this.providers.values())}}},879:(Ri,In,Oe)=>{Oe.d(In,{Am:()=>pt,Ub:()=>Vt,Yd:()=>mn,in:()=>z});const E=[];var z=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(z||{});const P={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Te=z.INFO,Xe={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},tn=(Y,oe,...Ce)=>{if(oe<Y.logLevel)return;const Ge=(new Date).toISOString(),yt=Xe[oe];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[yt](`[${Ge}]  ${Y.name}:`,...Ce)};class mn{constructor(oe){this.name=oe,this._logLevel=Te,this._logHandler=tn,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in z))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?P[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...oe),this._logHandler(this,z.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...oe),this._logHandler(this,z.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,z.INFO,...oe),this._logHandler(this,z.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,z.WARN,...oe),this._logHandler(this,z.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...oe),this._logHandler(this,z.ERROR,...oe)}}function Vt(Y){E.forEach(oe=>{oe.setLogLevel(Y)})}function pt(Y,oe){for(const Ce of E){let Ge=null;oe&&oe.level&&(Ge=P[oe.level]),Ce.userLogHandler=null===Y?null:(yt,nn,...it)=>{const Ve=it.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch{return null}}).filter(Be=>Be).join(" ");nn>=(Ge??yt.logLevel)&&Y({level:z[nn].toLowerCase(),message:Ve,args:it,type:yt.name})}}}},365:(Ri,In,Oe)=>{Oe.r(In);var E=Oe(861),z=Oe(106),P=Oe(939),Te=Oe(58),mn=(Oe(534),Oe(879),Oe(537));function Vt(){return window}function oe(){return oe=(0,E.Z)(function*(b,C,y){var N;const{BuildInfo:K}=Vt();(0,P.au)(C.sessionId,"AuthEvent did not contain a session ID");const be=yield function Be(b){return An.apply(this,arguments)}(C.sessionId),ye={};return(0,P.av)()?ye.ibi=K.packageName:(0,P.aw)()?ye.apn=K.packageName:(0,P.ax)(b,"operation-not-supported-in-this-environment"),K.displayName&&(ye.appDisplayName=K.displayName),ye.sessionId=be,(0,P.ay)(b,y,C.type,void 0,null!==(N=C.eventId)&&void 0!==N?N:void 0,ye)}),oe.apply(this,arguments)}function Ge(){return(Ge=(0,E.Z)(function*(b){const{BuildInfo:C}=Vt(),y={};(0,P.av)()?y.iosBundleId=C.packageName:(0,P.aw)()?y.androidPackageName=C.packageName:(0,P.ax)(b,"operation-not-supported-in-this-environment"),yield(0,P.az)(b,y)})).apply(this,arguments)}function it(){return(it=(0,E.Z)(function*(b,C,y){const{cordova:N}=Vt();let K=()=>{};try{yield new Promise((be,ye)=>{let Fe=null;function bt(){var Ae;be();const zn=null===(Ae=N.plugins.browsertab)||void 0===Ae?void 0:Ae.close;"function"==typeof zn&&zn(),"function"==typeof y?.close&&y.close()}function _e(){Fe||(Fe=window.setTimeout(()=>{ye((0,P.aB)(b,"redirect-cancelled-by-user"))},2e3))}function Ht(){"visible"===document?.visibilityState&&_e()}C.addPassiveListener(bt),document.addEventListener("resume",_e,!1),(0,P.aw)()&&document.addEventListener("visibilitychange",Ht,!1),K=()=>{C.removePassiveListener(bt),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Ht,!1),Fe&&window.clearTimeout(Fe)}})}finally{K()}})).apply(this,arguments)}function An(){return(An=(0,E.Z)(function*(b){const C=function rn(b){if((0,P.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const C=new ArrayBuffer(b.length),y=new Uint8Array(C);for(let N=0;N<b.length;N++)y[N]=b.charCodeAt(N);return y}(b),y=yield crypto.subtle.digest("SHA-256",C);return Array.from(new Uint8Array(y)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class rt extends P.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(C=>{this.resolveInialized=C})}addPassiveListener(C){this.passiveListeners.add(C)}removePassiveListener(C){this.passiveListeners.delete(C)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(C){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(C)),super.onEvent(C)}initialized(){var C=this;return(0,E.Z)(function*(){yield C.initPromise})()}}function We(b){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(b){const C=yield un()._get(sn(b));return C&&(yield un()._remove(sn(b))),C})).apply(this,arguments)}function Bt(){const b=[];for(let y=0;y<20;y++){const N=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(N))}return b.join("")}function un(){return(0,P.aE)(P.b)}function sn(b){return(0,P.aF)("authEvent",b.config.apiKey,b.name)}function Ue(b){if(!b?.includes("?"))return{};const[C,...y]=b.split("?");return(0,Te.zd)(y.join("?"))}const U=class er{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aG,this._overrideRedirectResult=P.aH}_initialize(C){var y=this;return(0,E.Z)(function*(){const N=C._key();let K=y.eventManagers.get(N);return K||(K=new rt(C),y.eventManagers.set(N,K),y.attachCallbackListeners(C,K)),K})()}_openPopup(C){(0,P.ax)(C,"operation-not-supported-in-this-environment")}_openRedirect(C,y,N,K){var be=this;return(0,E.Z)(function*(){!function Ve(b){var C,y,N,K,be,ye,Fe,bt,_e,Ht;const Ae=Vt();(0,P.aC)("function"==typeof(null===(C=Ae?.universalLinks)||void 0===C?void 0:C.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aC)(typeof(null===(y=Ae?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aC)("function"==typeof(null===(be=null===(K=null===(N=Ae?.cordova)||void 0===N?void 0:N.plugins)||void 0===K?void 0:K.browsertab)||void 0===be?void 0:be.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aC)("function"==typeof(null===(bt=null===(Fe=null===(ye=Ae?.cordova)||void 0===ye?void 0:ye.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===bt?void 0:bt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aC)("function"==typeof(null===(Ht=null===(_e=Ae?.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Ht?void 0:Ht.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(C);const ye=yield be._initialize(C);yield ye.initialized(),ye.resetRedirect(),(0,P.aI)(),yield be._originValidation(C);const Fe=function oi(b,C,y=null){return{type:C,eventId:y,urlResponse:null,sessionId:Bt(),postBody:null,tenantId:b.tenantId,error:(0,P.aB)(b,"no-auth-event")}}(C,N,K);yield function Tn(b,C){return un()._set(sn(b),C)}(C,Fe);const bt=yield function Y(b,C,y){return oe.apply(this,arguments)}(C,Fe,y),_e=yield function yt(b){const{cordova:C}=Vt();return new Promise(y=>{C.plugins.browsertab.isAvailable(N=>{let K=null;N?C.plugins.browsertab.openUrl(b):K=C.InAppBrowser.open(b,(0,P.aA)()?"_blank":"_system","location=yes"),y(K)})})}(bt);return function nn(b,C,y){return it.apply(this,arguments)}(C,ye,_e)})()}_isIframeWebStorageSupported(C,y){throw new Error("Method not implemented.")}_originValidation(C){const y=C._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ce(b){return Ge.apply(this,arguments)}(C)),this.originValidationPromises[y]}attachCallbackListeners(C,y){const{universalLinks:N,handleOpenURL:K,BuildInfo:be}=Vt(),ye=setTimeout((0,E.Z)(function*(){yield We(C),y.onEvent(W())}),500),Fe=function(){var Ht=(0,E.Z)(function*(Ae){clearTimeout(ye);const zn=yield We(C);let Qs=null;zn&&Ae?.url&&(Qs=function ot(b,C){var y,N;const K=function Bi(b){const C=Ue(b),y=C.link?decodeURIComponent(C.link):void 0,N=Ue(y).link,K=C.deep_link_id?decodeURIComponent(C.deep_link_id):void 0;return Ue(K).link||K||N||y||b}(C);if(K.includes("/__/auth/callback")){const be=Ue(K),ye=be.firebaseError?function Vi(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,Fe=null===(N=null===(y=ye?.code)||void 0===y?void 0:y.split("auth/"))||void 0===N?void 0:N[1],bt=Fe?(0,P.aB)(Fe):null;return bt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:K,postBody:null}}return null}(zn,Ae.url)),y.onEvent(Qs||W())});return function(zn){return Ht.apply(this,arguments)}}();typeof N<"u"&&"function"==typeof N.subscribe&&N.subscribe(null,Fe);const bt=K,_e=`${be.packageName.toLowerCase()}://`;Vt().handleOpenURL=function(){var Ht=(0,E.Z)(function*(Ae){if(Ae.toLowerCase().startsWith(_e)&&Fe({url:Ae}),"function"==typeof bt)try{bt(Ae)}catch(zn){console.error(zn)}});return function(Ae){return Ht.apply(this,arguments)}}()}};function W(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aB)("no-auth-event")}}function de(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function ge(b=(0,Te.z$)()){return!("file:"!==de()&&"ionic:"!==de()&&"capacitor:"!==de()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const b=self.localStorage,C=P.aN();if(b)return b.setItem(C,"1"),b.removeItem(C),!function Nt(b=(0,Te.z$)()){return function gt(){return(0,Te.w1)()&&11===document?.documentMode}()||function Yt(b=(0,Te.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Te.hl)()}catch{return _n()&&(0,Te.hl)()}return!1}function _n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function L(){return(function Ye(){return"http:"===de()||"https:"===de()}()||(0,Te.ru)()||ge())&&!function Re(){return(0,Te.b$)()||(0,Te.UG)()}()&&Jt()&&!_n()}function x(){return ge()&&typeof document<"u"}function Q(){return(Q=(0,E.Z)(function*(){return!!x()&&new Promise(b=>{const C=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(C),b(!0)})})})).apply(this,arguments)}const se={LOCAL:"local",NONE:"none",SESSION:"session"},jt=P.aC,at="persistence";function Ut(b){return dn.apply(this,arguments)}function dn(){return(dn=(0,E.Z)(function*(b){yield b._initializationPromise;const C=Wn(),y=P.aF(at,b.config.apiKey,b.name);C&&C.setItem(y,b._getPersistence())})).apply(this,arguments)}function Wn(){var b;try{return(null===(b=function ue(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Yn=P.aC;class Pt{constructor(){this.browserResolver=P.aE(P.k),this.cordovaResolver=P.aE(U),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aG,this._overrideRedirectResult=P.aH}_initialize(C){var y=this;return(0,E.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(C)})()}_openPopup(C,y,N,K){var be=this;return(0,E.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(C,y,N,K)})()}_openRedirect(C,y,N,K){var be=this;return(0,E.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(C,y,N,K)})()}_isIframeWebStorageSupported(C,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(C,y)}_originValidation(C){return this.assertedUnderlyingResolver._originValidation(C)}get _shouldInitProactively(){return x()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var C=this;return(0,E.Z)(function*(){if(C.underlyingResolver)return;const y=yield function G(){return Q.apply(this,arguments)}();C.underlyingResolver=y?C.cordovaResolver:C.browserResolver})()}}function mt(b){return b.unwrap()}function Rt(b){return Qt(b)}function Qt(b){const{_tokenResponse:C}=b instanceof Te.ZR?b.customData:b;if(!C)return null;if(!(b instanceof Te.ZR)&&"temporaryProof"in C&&"phoneNumber"in C)return P.P.credentialFromResult(b);const y=C.providerId;if(!y||y===P.p.PASSWORD)return null;let N;switch(y){case P.p.GOOGLE:N=P.X;break;case P.p.FACEBOOK:N=P.W;break;case P.p.GITHUB:N=P.Y;break;case P.p.TWITTER:N=P.$;break;default:const{oauthIdToken:K,oauthAccessToken:be,oauthTokenSecret:ye,pendingToken:Fe,nonce:bt}=C;return be||ye||K||Fe?Fe?y.startsWith("saml.")?P.aQ._create(y,Fe):P.N._fromParams({providerId:y,signInMethod:y,pendingToken:Fe,idToken:K,accessToken:be}):new P.Z(y).credential({idToken:K,accessToken:be,rawNonce:bt}):null}return b instanceof Te.ZR?N.credentialFromError(b):N.credentialFromResult(b)}function on(b,C){return C.catch(y=>{throw y instanceof Te.ZR&&function Ys(b,C){var y;const N=null===(y=C.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===C?.code)C.resolver=new gr(b,P.as(b,C));else if(N){const K=Qt(C),be=C;K&&(be.credential=K,be.tenantId=N.tenantId||void 0,be.email=N.email||void 0,be.phoneNumber=N.phoneNumber||void 0)}}(b,y),y}).then(y=>{const K=y.user;return{operationType:y.operationType,credential:Rt(y),additionalUserInfo:P.aq(y),user:jn.getOrCreate(K)}})}function pr(b,C){return ji.apply(this,arguments)}function ji(){return(ji=(0,E.Z)(function*(b,C){const y=yield C;return{verificationId:y.verificationId,confirm:N=>on(b,y.confirm(N))}})).apply(this,arguments)}class gr{constructor(C,y){this.resolver=y,this.auth=function Dt(b){return b.wrapped()}(C)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(C){return on(mt(this.auth),this.resolver.resolveSignIn(C))}}class jn{constructor(C){this._delegate=C,this.multiFactor=P.at(C)}static getOrCreate(C){return jn.USER_MAP.has(C)||jn.USER_MAP.set(C,new jn(C)),jn.USER_MAP.get(C)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(C){return this._delegate.getIdTokenResult(C)}getIdToken(C){return this._delegate.getIdToken(C)}linkAndRetrieveDataWithCredential(C){return this.linkWithCredential(C)}linkWithCredential(C){var y=this;return(0,E.Z)(function*(){return on(y.auth,P.a2(y._delegate,C))})()}linkWithPhoneNumber(C,y){var N=this;return(0,E.Z)(function*(){return pr(N.auth,P.l(N._delegate,C,y))})()}linkWithPopup(C){var y=this;return(0,E.Z)(function*(){return on(y.auth,P.d(y._delegate,C,Pt))})()}linkWithRedirect(C){var y=this;return(0,E.Z)(function*(){return yield Ut(P.aJ(y.auth)),P.g(y._delegate,C,Pt)})()}reauthenticateAndRetrieveDataWithCredential(C){return this.reauthenticateWithCredential(C)}reauthenticateWithCredential(C){var y=this;return(0,E.Z)(function*(){return on(y.auth,P.a3(y._delegate,C))})()}reauthenticateWithPhoneNumber(C,y){return pr(this.auth,P.r(this._delegate,C,y))}reauthenticateWithPopup(C){return on(this.auth,P.e(this._delegate,C,Pt))}reauthenticateWithRedirect(C){var y=this;return(0,E.Z)(function*(){return yield Ut(P.aJ(y.auth)),P.h(y._delegate,C,Pt)})()}sendEmailVerification(C){return P.ag(this._delegate,C)}unlink(C){var y=this;return(0,E.Z)(function*(){return yield P.ap(y._delegate,C),y})()}updateEmail(C){return P.al(this._delegate,C)}updatePassword(C){return P.am(this._delegate,C)}updatePhoneNumber(C){return P.u(this._delegate,C)}updateProfile(C){return P.ak(this._delegate,C)}verifyBeforeUpdateEmail(C,y){return P.ah(this._delegate,C,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const Un=P.aC;let yi=(()=>{class b{constructor(y,N){if(this.app=y,N.isInitialized())return this._delegate=N.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=y.options;Un(K,"invalid-api-key",{appName:y.name}),Un(K,"invalid-api-key",{appName:y.name});const be=typeof window<"u"?Pt:void 0;this._delegate=N.initialize({options:{persistence:Do(K,y.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(P.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,N){P.K(this._delegate,y,N)}applyActionCode(y){return P.a7(this._delegate,y)}checkActionCode(y){return P.a8(this._delegate,y)}confirmPasswordReset(y,N){return P.a6(this._delegate,y,N)}createUserWithEmailAndPassword(y,N){var K=this;return(0,E.Z)(function*(){return on(K._delegate,P.aa(K._delegate,y,N))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return P.af(this._delegate,y)}isSignInWithEmailLink(y){return P.ad(this._delegate,y)}getRedirectResult(){var y=this;return(0,E.Z)(function*(){Un(L(),y._delegate,"operation-not-supported-in-this-environment");const N=yield P.j(y._delegate,Pt);return N?on(y._delegate,Promise.resolve(N)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function B(b,C){(0,P.aJ)(b)._logFramework(C)}(this._delegate,y)}onAuthStateChanged(y,N,K){const{next:be,error:ye,complete:Fe}=Ui(y,N,K);return this._delegate.onAuthStateChanged(be,ye,Fe)}onIdTokenChanged(y,N,K){const{next:be,error:ye,complete:Fe}=Ui(y,N,K);return this._delegate.onIdTokenChanged(be,ye,Fe)}sendSignInLinkToEmail(y,N){return P.ac(this._delegate,y,N)}sendPasswordResetEmail(y,N){return P.a5(this._delegate,y,N||void 0)}setPersistence(y){var N=this;return(0,E.Z)(function*(){let K;switch(function et(b,C){jt(Object.values(se).includes(C),b,"invalid-persistence-type"),(0,Te.b$)()?jt(C!==se.SESSION,b,"unsupported-persistence-type"):(0,Te.UG)()?jt(C===se.NONE,b,"unsupported-persistence-type"):_n()?jt(C===se.NONE||C===se.LOCAL&&(0,Te.hl)(),b,"unsupported-persistence-type"):jt(C===se.NONE||Jt(),b,"unsupported-persistence-type")}(N._delegate,y),y){case se.SESSION:K=P.a;break;case se.LOCAL:K=(yield P.aE(P.i)._isAvailable())?P.i:P.b;break;case se.NONE:K=P.U;break;default:return P.ax("argument-error",{appName:N._delegate.name})}return N._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return on(this._delegate,P.a0(this._delegate))}signInWithCredential(y){return on(this._delegate,P.a1(this._delegate,y))}signInWithCustomToken(y){return on(this._delegate,P.a4(this._delegate,y))}signInWithEmailAndPassword(y,N){return on(this._delegate,P.ab(this._delegate,y,N))}signInWithEmailLink(y,N){return on(this._delegate,P.ae(this._delegate,y,N))}signInWithPhoneNumber(y,N){return pr(this._delegate,P.s(this._delegate,y,N))}signInWithPopup(y){var N=this;return(0,E.Z)(function*(){return Un(L(),N._delegate,"operation-not-supported-in-this-environment"),on(N._delegate,P.c(N._delegate,y,Pt))})()}signInWithRedirect(y){var N=this;return(0,E.Z)(function*(){return Un(L(),N._delegate,"operation-not-supported-in-this-environment"),yield Ut(N._delegate),P.f(N._delegate,y,Pt)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return P.a9(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=se,b})();function Ui(b,C,y){let N=b;"function"!=typeof b&&({next:N,error:C,complete:y}=b);const K=N;return{next:ye=>K(ye&&jn.getOrCreate(ye)),error:C,complete:y}}function Do(b,C){const y=function Bn(b,C){const y=Wn();if(!y)return[];const N=P.aF(at,b,C);switch(y.getItem(N)){case se.NONE:return[P.U];case se.LOCAL:return[P.i,P.a];case se.SESSION:return[P.a];default:return[]}}(b,C);if(typeof self<"u"&&!y.includes(P.i)&&y.push(P.i),typeof window<"u")for(const N of[P.b,P.a])y.includes(N)||y.push(N);return y.includes(P.U)||y.push(P.U),y}class Ts{constructor(){this.providerId="phone",this._delegate=new P.P(mt(z.Z.auth()))}static credential(C,y){return P.P.credential(C,y)}verifyPhoneNumber(C,y){return this._delegate.verifyPhoneNumber(C,y)}unwrap(){return this._delegate}}Ts.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ts.PROVIDER_ID=P.P.PROVIDER_ID;const Js=P.aC;class Or{constructor(C,y,N=z.Z.app()){var K;Js(null===(K=N.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:N.name}),this._delegate=new P.R(N.auth(),C,y),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function T(b){b.INTERNAL.registerComponent(new mn.wA("auth-compat",C=>{const y=C.getProvider("app-compat").getImmediate(),N=C.getProvider("auth");return new yi(y,N)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.V,FacebookAuthProvider:P.W,GithubAuthProvider:P.Y,GoogleAuthProvider:P.X,OAuthProvider:P.Z,SAMLAuthProvider:P._,PhoneAuthProvider:Ts,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Or,TwitterAuthProvider:P.$,Auth:yi,AuthCredential:P.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.5.2")}(z.Z)},861:(Ri,In,Oe)=>{function E(P,Te,Xe,tn,mn,Vt,pt){try{var Y=P[Vt](pt),oe=Y.value}catch(Ce){return void Xe(Ce)}Y.done?Te(oe):Promise.resolve(oe).then(tn,mn)}function z(P){return function(){var Te=this,Xe=arguments;return new Promise(function(tn,mn){var Vt=P.apply(Te,Xe);function pt(oe){E(Vt,tn,mn,pt,Y,"next",oe)}function Y(oe){E(Vt,tn,mn,pt,Y,"throw",oe)}pt(void 0)})}}Oe.d(In,{Z:()=>z})},582:(Ri,In,Oe)=>{function Te(U,W){var B={};for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&W.indexOf(j)<0&&(B[j]=U[j]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var X=0;for(j=Object.getOwnPropertySymbols(U);X<j.length;X++)W.indexOf(j[X])<0&&Object.prototype.propertyIsEnumerable.call(U,j[X])&&(B[j[X]]=U[j[X]])}return B}function Ce(U,W,B,j){return new(B||(B=Promise))(function(J,de){function Ye(gt){try{Re(j.next(gt))}catch(Yt){de(Yt)}}function ge(gt){try{Re(j.throw(gt))}catch(Yt){de(Yt)}}function Re(gt){gt.done?J(gt.value):function X(J){return J instanceof B?J:new B(function(de){de(J)})}(gt.value).then(Ye,ge)}Re((j=j.apply(U,W||[])).next())})}function Ze(U){return this instanceof Ze?(this.v=U,this):new Ze(U)}function rt(U,W,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,j=B.apply(U,W||[]),J=[];return X={},de("next"),de("throw"),de("return"),X[Symbol.asyncIterator]=function(){return this},X;function de(Nt){j[Nt]&&(X[Nt]=function(Jt){return new Promise(function(_n,L){J.push([Nt,Jt,_n,L])>1||Ye(Nt,Jt)})})}function Ye(Nt,Jt){try{!function ge(Nt){Nt.value instanceof Ze?Promise.resolve(Nt.value.v).then(Re,gt):Yt(J[0][2],Nt)}(j[Nt](Jt))}catch(_n){Yt(J[0][3],_n)}}function Re(Nt){Ye("next",Nt)}function gt(Nt){Ye("throw",Nt)}function Yt(Nt,Jt){Nt(Jt),J.shift(),J.length&&Ye(J[0][0],J[0][1])}}function Tn(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,W=U[Symbol.asyncIterator];return W?W.call(U):(U=function it(U){var W="function"==typeof Symbol&&Symbol.iterator,B=W&&U[W],j=0;if(B)return B.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&j>=U.length&&(U=void 0),{value:U&&U[j++],done:!U}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),B={},j("next"),j("throw"),j("return"),B[Symbol.asyncIterator]=function(){return this},B);function j(J){B[J]=U[J]&&function(de){return new Promise(function(Ye,ge){!function X(J,de,Ye,ge){Promise.resolve(ge).then(function(Re){J({value:Re,done:Ye})},de)}(Ye,ge,(de=U[J](de)).done,de.value)})}}}Oe.d(In,{FC:()=>rt,KL:()=>Tn,_T:()=>Te,mG:()=>Ce,qq:()=>Ze}),"function"==typeof SuppressedError&&SuppressedError}},Ri=>{var In=E=>Ri(Ri.s=E);In(614),In(597)}]);