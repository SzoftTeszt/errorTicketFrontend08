"use strict";(self.webpackChunkErrorTicket=self.webpackChunkErrorTicket||[]).push([[179],{58:(Vi,In,Le)=>{Le.d(In,{BH:()=>Tt,DV:()=>R,Dv:()=>Ct,GJ:()=>dn,L:()=>Ye,LL:()=>H,Pz:()=>qe,Sg:()=>ii,UG:()=>Y,UI:()=>X,US:()=>Gt,Wj:()=>hi,Wl:()=>Ce,Yr:()=>Nr,ZB:()=>me,ZR:()=>J,aH:()=>Rt,b$:()=>an,cI:()=>ge,dS:()=>es,eu:()=>U,g5:()=>$,gK:()=>Bt,gQ:()=>fn,h$:()=>xn,hl:()=>V,hu:()=>Ie,jU:()=>Ht,lb:()=>ri,m9:()=>So,ne:()=>di,p$:()=>re,pd:()=>hn,r3:()=>x,ru:()=>$t,tV:()=>Q,uI:()=>Nn,ug:()=>ts,vZ:()=>le,w1:()=>Xi,w9:()=>Pn,xO:()=>vt,xb:()=>j,z$:()=>je,zd:()=>Qe});const b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Ie=function(T,E){if(!T)throw $(E)},$=function(T){return new Error("Firebase Database ("+b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+T)},Re=function(T){const E=[];let S=0;for(let z=0;z<T.length;z++){let k=T.charCodeAt(z);k<128?E[S++]=k:k<2048?(E[S++]=k>>6|192,E[S++]=63&k|128):55296==(64512&k)&&z+1<T.length&&56320==(64512&T.charCodeAt(z+1))?(k=65536+((1023&k)<<10)+(1023&T.charCodeAt(++z)),E[S++]=k>>18|240,E[S++]=k>>12&63|128,E[S++]=k>>6&63|128,E[S++]=63&k|128):(E[S++]=k>>12|224,E[S++]=k>>6&63|128,E[S++]=63&k|128)}return E},Gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,E){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=E?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let k=0;k<T.length;k+=3){const W=T[k],Pe=k+1<T.length,Ze=Pe?T[k+1]:0,pt=k+2<T.length,Qt=pt?T[k+2]:0;let Zn=(15&Ze)<<2|Qt>>6,jt=63&Qt;pt||(jt=64,Pe||(Zn=64)),z.push(S[W>>2],S[(3&W)<<4|Ze>>4],S[Zn],S[jt])}return z.join("")},encodeString(T,E){return this.HAS_NATIVE_SUPPORT&&!E?btoa(T):this.encodeByteArray(Re(T),E)},decodeString(T,E){return this.HAS_NATIVE_SUPPORT&&!E?atob(T):function(T){const E=[];let S=0,z=0;for(;S<T.length;){const k=T[S++];if(k<128)E[z++]=String.fromCharCode(k);else if(k>191&&k<224){const W=T[S++];E[z++]=String.fromCharCode((31&k)<<6|63&W)}else if(k>239&&k<365){const pt=((7&k)<<18|(63&T[S++])<<12|(63&T[S++])<<6|63&T[S++])-65536;E[z++]=String.fromCharCode(55296+(pt>>10)),E[z++]=String.fromCharCode(56320+(1023&pt))}else{const W=T[S++],Pe=T[S++];E[z++]=String.fromCharCode((15&k)<<12|(63&W)<<6|63&Pe)}}return E.join("")}(this.decodeStringToByteArray(T,E))},decodeStringToByteArray(T,E){this.init_();const S=E?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let k=0;k<T.length;){const W=S[T.charAt(k++)],Ze=k<T.length?S[T.charAt(k)]:0;++k;const Qt=k<T.length?S[T.charAt(k)]:64;++k;const be=k<T.length?S[T.charAt(k)]:64;if(++k,null==W||null==Ze||null==Qt||null==be)throw new Kt;z.push(W<<2|Ze>>4),64!==Qt&&(z.push(Ze<<4&240|Qt>>2),64!==be&&z.push(Qt<<6&192|be))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class Kt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xn=function(T){const E=Re(T);return Gt.encodeByteArray(E,!0)},Ye=function(T){return xn(T).replace(/\./g,"")},Q=function(T){try{return Gt.decodeString(T,!0)}catch(E){console.error("base64Decode failed: ",E)}return null};function re(T){return me(void 0,T)}function me(T,E){if(!(E instanceof Object))return E;switch(E.constructor){case Date:return new Date(E.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return E}for(const S in E)!E.hasOwnProperty(S)||!ze(S)||(T[S]=me(T[S],E[S]));return T}function ze(T){return"__proto__"!==T}const He=()=>{try{return function ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const E=T&&Q(T[1]);return E&&JSON.parse(E)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},Rt=()=>{var T;return null===(T=He())||void 0===T?void 0:T.config},qe=T=>{var E;return null===(E=He())||void 0===E?void 0:E[`_${T}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((E,S)=>{this.resolve=E,this.reject=S})}wrapCallback(E){return(S,z)=>{S?this.reject(S):this.resolve(z),"function"==typeof E&&(this.promise.catch(()=>{}),1===E.length?E(S):E(S,z))}}}function ii(T,E){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=E||"demo-project",k=T.iat||0,W=T.sub||T.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:k,exp:k+3600,auth_time:k,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},T);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(Pe)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Y(){var T;const E=null===(T=He())||void 0===T?void 0:T.forceEnvironment;if("node"===E)return!0;if("browser"===E)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ht(){return"object"==typeof self&&self.self===self}function $t(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xi(){const T=je();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function Nr(){return!0===b.NODE_CLIENT||!0===b.NODE_ADMIN}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function U(){return new Promise((T,E)=>{try{let S=!0;const z="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(z);k.onsuccess=()=>{k.result.close(),S||self.indexedDB.deleteDatabase(z),T(!0)},k.onupgradeneeded=()=>{S=!1},k.onerror=()=>{var W;E((null===(W=k.error)||void 0===W?void 0:W.message)||"")}}catch(S){E(S)}})}class J extends Error{constructor(E,S,z){super(S),this.code=E,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(E,S,z){this.service=E,this.serviceName=S,this.errors=z}create(E,...S){const z=S[0]||{},k=`${this.service}/${E}`,W=this.errors[E],Pe=W?function he(T,E){return T.replace(et,(S,z)=>{const k=E[z];return null!=k?String(k):`<${z}?>`})}(W,z):"Error";return new J(k,`${this.serviceName}: ${Pe} (${k}).`,z)}}const et=/\{\$([^}]+)}/g;function ge(T){return JSON.parse(T)}function Ce(T){return JSON.stringify(T)}const dt=function(T){let E={},S={},z={},k="";try{const W=T.split(".");E=ge(Q(W[0])||""),S=ge(Q(W[1])||""),k=W[2],z=S.d||{},delete S.d}catch{}return{header:E,claims:S,data:z,signature:k}},Pn=function(T){const S=dt(T).claims;return!!S&&"object"==typeof S&&S.hasOwnProperty("iat")},dn=function(T){const E=dt(T).claims;return"object"==typeof E&&!0===E.admin};function x(T,E){return Object.prototype.hasOwnProperty.call(T,E)}function R(T,E){if(Object.prototype.hasOwnProperty.call(T,E))return T[E]}function j(T){for(const E in T)if(Object.prototype.hasOwnProperty.call(T,E))return!1;return!0}function X(T,E,S){const z={};for(const k in T)Object.prototype.hasOwnProperty.call(T,k)&&(z[k]=E.call(S,T[k],k,T));return z}function le(T,E){if(T===E)return!0;const S=Object.keys(T),z=Object.keys(E);for(const k of S){if(!z.includes(k))return!1;const W=T[k],Pe=E[k];if(se(W)&&se(Pe)){if(!le(W,Pe))return!1}else if(W!==Pe)return!1}for(const k of z)if(!S.includes(k))return!1;return!0}function se(T){return null!==T&&"object"==typeof T}function vt(T){const E=[];for(const[S,z]of Object.entries(T))Array.isArray(z)?z.forEach(k=>{E.push(encodeURIComponent(S)+"="+encodeURIComponent(k))}):E.push(encodeURIComponent(S)+"="+encodeURIComponent(z));return E.length?"&"+E.join("&"):""}function Qe(T){const E={};return T.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[k,W]=z.split("=");E[decodeURIComponent(k)]=decodeURIComponent(W)}}),E}function hn(T){const E=T.indexOf("?");if(!E)return"";const S=T.indexOf("#",E);return T.substring(E,S>0?S:void 0)}class fn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let E=1;E<this.blockSize;++E)this.pad_[E]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(E,S){S||(S=0);const z=this.W_;if("string"==typeof E)for(let be=0;be<16;be++)z[be]=E.charCodeAt(S)<<24|E.charCodeAt(S+1)<<16|E.charCodeAt(S+2)<<8|E.charCodeAt(S+3),S+=4;else for(let be=0;be<16;be++)z[be]=E[S]<<24|E[S+1]<<16|E[S+2]<<8|E[S+3],S+=4;for(let be=16;be<80;be++){const Zn=z[be-3]^z[be-8]^z[be-14]^z[be-16];z[be]=4294967295&(Zn<<1|Zn>>>31)}let Qt,jn,k=this.chain_[0],W=this.chain_[1],Pe=this.chain_[2],Ze=this.chain_[3],pt=this.chain_[4];for(let be=0;be<80;be++){be<40?be<20?(Qt=Ze^W&(Pe^Ze),jn=1518500249):(Qt=W^Pe^Ze,jn=1859775393):be<60?(Qt=W&Pe|Ze&(W|Pe),jn=2400959708):(Qt=W^Pe^Ze,jn=3395469782);const Zn=(k<<5|k>>>27)+Qt+pt+jn+z[be]&4294967295;pt=Ze,Ze=Pe,Pe=4294967295&(W<<30|W>>>2),W=k,k=Zn}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+W&4294967295,this.chain_[2]=this.chain_[2]+Pe&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+pt&4294967295}update(E,S){if(null==E)return;void 0===S&&(S=E.length);const z=S-this.blockSize;let k=0;const W=this.buf_;let Pe=this.inbuf_;for(;k<S;){if(0===Pe)for(;k<=z;)this.compress_(E,k),k+=this.blockSize;if("string"==typeof E){for(;k<S;)if(W[Pe]=E.charCodeAt(k),++Pe,++k,Pe===this.blockSize){this.compress_(W),Pe=0;break}}else for(;k<S;)if(W[Pe]=E[k],++Pe,++k,Pe===this.blockSize){this.compress_(W),Pe=0;break}}this.inbuf_=Pe,this.total_+=S}digest(){const E=[];let S=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&S,S/=256;this.compress_(this.buf_);let z=0;for(let k=0;k<5;k++)for(let W=24;W>=0;W-=8)E[z]=this.chain_[k]>>W&255,++z;return E}}function di(T,E){const S=new Bi(T,E);return S.subscribe.bind(S)}class Bi{constructor(E,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{E(this)}).catch(z=>{this.error(z)})}next(E){this.forEachObserver(S=>{S.next(E)})}error(E){this.forEachObserver(S=>{S.error(E)}),this.close(E)}complete(){this.forEachObserver(E=>{E.complete()}),this.close()}subscribe(E,S,z){let k;if(void 0===E&&void 0===S&&void 0===z)throw new Error("Missing Observer.");k=function kn(T,E){if("object"!=typeof T||null===T)return!1;for(const S of E)if(S in T&&"function"==typeof T[S])return!0;return!1}(E,["next","error","complete"])?E:{next:E,error:S,complete:z},void 0===k.next&&(k.next=wt),void 0===k.error&&(k.error=wt),void 0===k.complete&&(k.complete=wt);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),W}unsubscribeOne(E){void 0===this.observers||void 0===this.observers[E]||(delete this.observers[E],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(E){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,E)}sendOne(E,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[E])try{S(this.observers[E])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(E){this.finalized||(this.finalized=!0,void 0!==E&&(this.finalError=E),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wt(){}const Ct=function(T,E,S,z){let k;if(z<E?k="at least "+E:z>S&&(k=0===S?"none":"no more than "+S),k)throw new Error(T+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+k+".")};function Bt(T,E){return`${T} failed: ${E} argument `}function hi(T,E,S,z){if((!z||S)&&"function"!=typeof S)throw new Error(Bt(T,E)+"must be a valid function.")}function ri(T,E,S,z){if((!z||S)&&("object"!=typeof S||null===S))throw new Error(Bt(T,E)+"must be a valid context object.")}const es=function(T){const E=[];let S=0;for(let z=0;z<T.length;z++){let k=T.charCodeAt(z);if(k>=55296&&k<=56319){const W=k-55296;z++,Ie(z<T.length,"Surrogate pair missing trail surrogate."),k=65536+(W<<10)+(T.charCodeAt(z)-56320)}k<128?E[S++]=k:k<2048?(E[S++]=k>>6|192,E[S++]=63&k|128):k<65536?(E[S++]=k>>12|224,E[S++]=k>>6&63|128,E[S++]=63&k|128):(E[S++]=k>>18|240,E[S++]=k>>12&63|128,E[S++]=k>>6&63|128,E[S++]=63&k|128)}return E},ts=function(T){let E=0;for(let S=0;S<T.length;S++){const z=T.charCodeAt(S);z<128?E++:z<2048?E+=2:z>=55296&&z<=56319?(E+=4,S++):E+=3}return E};function So(T){return T&&T._delegate?T._delegate:T}},646:(Vi,In,Le)=>{function b(e){return"function"==typeof e}function Ie(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $=Ie(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Re(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Xe{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(b(i))try{i()}catch(s){n=s instanceof $?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{xn(s)}catch(o){n=n??[],o instanceof $?n=[...n,...o.errors]:n.push(o)}}if(n)throw new $(n)}}add(n){var t;if(n&&n!==this)if(this.closed)xn(n);else{if(n instanceof Xe){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Re(t,n)}remove(n){const{_finalizers:t}=this;t&&Re(t,n),n instanceof Xe&&n._removeParent(this)}}Xe.EMPTY=(()=>{const e=new Xe;return e.closed=!0,e})();const Gt=Xe.EMPTY;function Kt(e){return e instanceof Xe||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function xn(e){b(e)?e():e.unsubscribe()}const Ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Q={setTimeout(e,n,...t){const{delegate:i}=Q;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Q;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function re(e){Q.setTimeout(()=>{const{onUnhandledError:n}=Ye;if(!n)throw e;n(e)})}function me(){}const ze=_t("C",void 0,void 0);function _t(e,n,t){return{kind:e,value:n,error:t}}let Me=null;function He(e){if(Ye.useDeprecatedSynchronousErrorHandling){const n=!Me;if(n&&(Me={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=Me;if(Me=null,t)throw i}}else e()}class Sn extends Xe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Kt(n)&&n.add(this)):this.destination=Ht}static create(n,t,i){return new ii(n,t,i)}next(n){this.isStopped?Y(function on(e){return _t("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Y(function ft(e){return _t("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Y(ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Rt=Function.prototype.bind;function qe(e,n){return Rt.call(e,n)}class Tt{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){je(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){je(i)}else je(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){je(t)}}}class ii extends Sn{constructor(n,t,i){let r;if(super(),b(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Ye.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&qe(n.next,s),error:n.error&&qe(n.error,s),complete:n.complete&&qe(n.complete,s)}):r=n}this.destination=new Tt(r)}}function je(e){Ye.useDeprecatedSynchronousErrorHandling?function Tn(e){Ye.useDeprecatedSynchronousErrorHandling&&Me&&(Me.errorThrown=!0,Me.error=e)}(e):re(e)}function Y(e,n){const{onStoppedNotification:t}=Ye;t&&Q.setTimeout(()=>t(e,n))}const Ht={closed:!0,next:me,error:function Nn(e){throw e},complete:me},$t="function"==typeof Symbol&&Symbol.observable||"@@observable";function an(e){return e}function Xi(e){return 0===e.length?an:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let $e=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function V(e){return e&&e instanceof Sn||function er(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}(e)&&Kt(e)}(t)?t:new ii(t,i,r);return He(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Nr(i))((r,s)=>{const o=new ii({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[$t](){return this}pipe(...t){return Xi(t)(this)}toPromise(t){return new(t=Nr(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=n=>new e(n),e})();function Nr(e){var n;return null!==(n=e??Ye.Promise)&&void 0!==n?n:Promise}const U=Ie(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let L=(()=>{class e extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new q(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new U}next(t){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Gt:(this.currentObservers=null,s.push(t),new Xe(()=>{this.currentObservers=null,Re(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new $e;return t.source=this,t}}return e.create=(n,t)=>new q(n,t),e})();class q extends L{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:Gt}}function J(e){return b(e?.lift)}function H(e){return n=>{if(J(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(e,n,t,i,r){return new et(e,n,t,i,r)}class et extends Sn{constructor(n,t,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ge(e,n){return H((t,i)=>{let r=0;t.subscribe(he(i,s=>{i.next(e.call(n,s,r++))}))})}var Ce=Le(582);const dt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Wt(e){return b(e?.then)}function St(e){return b(e[$t])}function Pn(e){return Symbol.asyncIterator&&b(e?.[Symbol.asyncIterator])}function dn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const R=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function j(e){return b(e?.[R])}function X(e){return(0,Ce.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ce.qq)(t.read());if(r)return yield(0,Ce.qq)(void 0);yield yield(0,Ce.qq)(i)}}finally{t.releaseLock()}})}function le(e){return b(e?.getReader)}function se(e){if(e instanceof $e)return e;if(null!=e){if(St(e))return function Yt(e){return new $e(n=>{const t=e[$t]();if(b(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(dt(e))return function vt(e){return new $e(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Wt(e))return function Qe(e){return new $e(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,re)})}(e);if(Pn(e))return fn(e);if(j(e))return function hn(e){return new $e(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(le(e))return function di(e){return fn(X(e))}(e)}throw dn(e)}function fn(e){return new $e(n=>{(function Bi(e,n){var t,i,r,s;return(0,Ce.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ce.KL)(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function An(e,n,t,i=0,r=!1){const s=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function wt(e,n,t=1/0){return b(n)?wt((i,r)=>ge((s,o)=>n(i,s,r,o))(se(e(i,r))),t):("number"==typeof n&&(t=n),H((i,r)=>function kn(e,n,t,i,r,s,o,a){const l=[];let d=0,p=0,g=!1;const _=()=>{g&&!l.length&&!d&&n.complete()},v=I=>d<i?C(I):l.push(I),C=I=>{s&&n.next(I),d++;let A=!1;se(t(I,p++)).subscribe(he(n,B=>{r?.(B),s?v(B):n.next(B)},()=>{A=!0},void 0,()=>{if(A)try{for(d--;l.length&&d<i;){const B=l.shift();o?An(n,o,()=>C(B)):C(B)}_()}catch(B){n.error(B)}}))};return e.subscribe(he(n,v,()=>{g=!0,_()})),()=>{a?.()}}(i,r,e,t)))}function Ct(e=1/0){return wt(an,e)}const Bt=new $e(e=>e.complete());function ri(e){return e&&b(e.schedule)}function es(e){return e[e.length-1]}function ts(e){return b(es(e))?e.pop():void 0}function Es(e){return ri(es(e))?e.pop():void 0}function fi(e,n=0){return H((t,i)=>{t.subscribe(he(i,r=>An(i,e,()=>i.next(r),n),()=>An(i,e,()=>i.complete(),n),r=>An(i,e,()=>i.error(r),n)))})}function Ni(e,n=0){return H((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function So(e,n){if(!e)throw new Error("Iterable cannot be null");return new $e(t=>{An(t,n,()=>{const i=e[Symbol.asyncIterator]();An(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function S(e,n){return n?function E(e,n){if(null!=e){if(St(e))return function Ds(e,n){return se(e).pipe(Ni(n),fi(n))}(e,n);if(dt(e))return function ec(e,n){return new $e(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Wt(e))return function To(e,n){return se(e).pipe(Ni(n),fi(n))}(e,n);if(Pn(e))return So(e,n);if(j(e))return function xa(e,n){return new $e(t=>{let i;return An(t,n,()=>{i=e[R](),An(t,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>b(i?.return)&&i.return()})}(e,n);if(le(e))return function T(e,n){return So(X(e),n)}(e,n)}throw dn(e)}(e,n):se(e)}function z(...e){const n=Es(e),t=function Io(e,n){return"number"==typeof es(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?se(i[0]):Ct(t)(S(i,n)):Bt}class k extends L{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function W(...e){return S(e,Es(e))}function Pe(e={}){const{connector:n=(()=>new L),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,d=0,p=!1,g=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),o=l=void 0,p=g=!1},C=()=>{const I=o;v(),I?.unsubscribe()};return H((I,A)=>{d++,!g&&!p&&_();const B=l=l??n();A.add(()=>{d--,0===d&&!g&&!p&&(a=Ze(C,r))}),B.subscribe(A),!o&&d>0&&(o=new ii({next:M=>B.next(M),error:M=>{g=!0,_(),a=Ze(v,t,M),B.error(M)},complete:()=>{p=!0,_(),a=Ze(v,i),B.complete()}}),se(I).subscribe(o))})(s)}}function Ze(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new ii({next:()=>{i.unsubscribe(),e()}});return se(n(...t)).subscribe(i)}function pt(e,n){return H((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(he(i,l=>{r?.unsubscribe();let d=0;const p=s++;se(e(l,p)).subscribe(r=he(i,g=>i.next(n?n(l,g,p,d++):g),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Qt(e,n=an){return e=e??jn,H((t,i)=>{let r,s=!0;t.subscribe(he(i,o=>{const a=n(o);(s||!e(r,a))&&(s=!1,r=a,i.next(o))}))})}function jn(e,n){return e===n}function be(e){for(let n in e)if(e[n]===be)return n;throw Error("Could not find renamed property on target object.")}function Zn(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function jt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(jt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ar(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const tc=be({__forward_ref__:be});function F(e){return e.__forward_ref__=F,e.toString=function(){return jt(this())},e}function N(e){return te(e)?e():e}function te(e){return"function"==typeof e&&e.hasOwnProperty(tc)&&e.__forward_ref__===F}function _e(e){return e&&!!e.\u0275providers}class G extends Error{constructor(n,t){super(function pn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function we(e){return"string"==typeof e?e:null==e?"":String(e)}function Pa(e,n){throw new G(-201,!1)}function tr(e,n){null==e&&function Oe(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function rc(e){return pd(e,ka)||pd(e,Xs)}function pd(e,n){return e.hasOwnProperty(n)?e[n]:null}function sc(e){return e&&(e.hasOwnProperty(gd)||e.hasOwnProperty(kp))?e[gd]:null}const ka=be({\u0275prov:be}),gd=be({\u0275inj:be}),Xs=be({ngInjectableDef:be}),kp=be({ngInjectorDef:be});var Je=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Je||{});let md;function Ai(e){const n=md;return md=e,n}function ac(e,n,t){const i=rc(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Je.Optional?null:void 0!==n?n:void Pa(jt(e))}const Mt=globalThis;class ue{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const La={},Va="__NG_DI_FLAG__",Ts="ngTempTokenPath",wd=/\n/gm,pr="__source";let Ao;function Ss(e){const n=Ao;return Ao=e,n}function Ed(e,n=Je.Default){if(void 0===Ao)throw new G(-203,!1);return null===Ao?ac(e,void 0,n):Ao.get(e,n&Je.Optional?null:void 0,n)}function ne(e,n=Je.Default){return(function oc(){return md}()||Ed)(N(e),n)}function oe(e,n=Je.Default){return ne(e,uc(n))}function uc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ba(e){const n=[];for(let t=0;t<e.length;t++){const i=N(e[t]);if(Array.isArray(i)){if(0===i.length)throw new G(900,!1);let r,s=Je.Default;for(let o=0;o<i.length;o++){const a=i[o],l=iy(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(ne(r,s))}else n.push(ne(i))}return n}function gr(e,n){return e[Va]=n,e.prototype[Va]=n,e}function iy(e){return e[Va]}function Ns(e){return{toString:e}.toString()}var Ro=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ro||{}),Fn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fn||{});const pi={},it=[],Ua=be({\u0275cmp:be}),dc=be({\u0275dir:be}),hc=be({\u0275pipe:be}),jp=be({\u0275mod:be}),Ri=be({\u0275fac:be}),Ha=be({__NG_ELEMENT_ID__:be}),$a=be({__NG_ENV_ID__:be});function Dd(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}t=r+1}}function fc(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];e.setAttribute(n,o,a,s)}else{const s=r,o=t[++i];Ui(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),i++}}return i}function pc(e){return 3===e||4===e||6===e}function Ui(e){return 64===e.charCodeAt(0)}function Mo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||Up(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function Up(e,n,t,i,r){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const gc="ng-template";function mc(e,n,t){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const o=e[i++];if(t&&"class"===s&&-1!==Dd(o.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Id(e){return 4===e.type&&e.value!==gc}function Hp(e,n,t){return n===(4!==e.type||t?e.value:gc)}function sy(e,n,t){let i=4;const r=e.attrs||[],s=function Sd(e){for(let n=0;n<e.length;n++)if(pc(e[n]))return n;return e.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Hp(e,l,t)||""===l&&1===n.length){if(Hi(i))return!1;o=!0}}else{const d=8&i?l:n[++a];if(8&i&&null!==e.attrs){if(!mc(e.attrs,d,t)){if(Hi(i))return!1;o=!0}continue}const g=Td(8&i?"class":l,r,Id(e),t);if(-1===g){if(Hi(i))return!1;o=!0;continue}if(""!==d){let _;_=g>s?"":r[g+1].toLowerCase();const v=8&i?_:null;if(v&&-1!==Dd(v,d,0)||2&i&&d!==_){if(Hi(i))return!1;o=!0}}}}else{if(!o&&!Hi(i)&&!Hi(l))return!1;if(o&&Hi(l))continue;o=!1,i=l|1&i}}return Hi(i)||o}function Hi(e){return 0==(1&e)}function Td(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let s=!1;for(;r<n.length;){const o=n[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function $p(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function _c(e,n,t=!1){for(let i=0;i<n.length;i++)if(sy(e,n[i],t))return!0;return!1}function Nd(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Ad(e,n){return e?":not("+n.trim()+")":n}function Rd(e){let n=e[0],t=1,i=2,r="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&i){const a=e[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Hi(o)&&(n+=Ad(s,r),r=""),i=o,s=s||!Hi(i);t++}return""!==r&&(n+=Ad(s,r)),n}function si(e){return Ns(()=>{const n=zp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ro.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fn.Emulated,styles:e.styles||it,_:null,schemas:e.schemas||null,tView:null,id:""};bc(t);const i=e.dependencies;return t.directiveDefs=wc(i,!1),t.pipeDefs=wc(i,!0),t.id=function oy(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function Gp(e){return ct(e)||Ln(e)}function xd(e){return null!==e}function yt(e){return Ns(()=>({type:e.type,bootstrap:e.bootstrap||it,declarations:e.declarations||it,imports:e.imports||it,exports:e.exports||it,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Wp(e,n){if(null==e)return pi;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,n&&(n[r]=s)}return t}function ae(e){return Ns(()=>{const n=zp(e);return bc(n),n})}function Un(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ct(e){return e[Ua]||null}function Ln(e){return e[dc]||null}function Hn(e){return e[hc]||null}function gi(e,n){const t=e[jp]||null;if(!t&&!0===n)throw new Error(`Type ${jt(e)} does not have '\u0275mod' property.`);return t}function zp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||pi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||it,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wp(e.inputs,n),outputs:Wp(e.outputs)}}function bc(e){e.features?.forEach(n=>n(e))}function wc(e,n){if(!e)return null;const t=n?Hn:Gp;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(xd)}const Xt=0,pe=1,Ve=2,en=3,$i=4,Ga=5,$n=6,Oo=7,_n=8,Rr=9,xo=10,Be=11,eo=12,qp=13,Rs=14,vn=15,to=16,Po=17,nr=18,Wa=19,Cc=20,Ms=21,mr=22,za=23,no=24,rt=25,Ec=1,Dc=2,Mr=7,io=9,Kn=11;function Mi(e){return Array.isArray(e)&&"object"==typeof e[Ec]}function mi(e){return Array.isArray(e)&&!0===e[Ec]}function Zp(e){return 0!=(4&e.flags)}function ko(e){return e.componentOffset>-1}function Fd(e){return 1==(1&e.flags)}function Gi(e){return!!e.template}function Ld(e){return 0!=(512&e[Ve])}function ro(e,n){return e.hasOwnProperty(Ri)?e[Ri]:null}let oi=null,_r=!1;function ir(e){const n=oi;return oi=e,n}const Xp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function eg(e){if(!xs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!tg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Tc(e){e.dirty=!0,function yn(e){if(void 0===e.liveConsumerNode)return;const n=_r;_r=!0;try{for(const t of e.liveConsumerNode)t.dirty||Tc(t)}finally{_r=n}}(e),e.consumerMarkedDirty?.(e)}function Ud(e){return e&&(e.nextProducerIndex=0),ir(e)}function Za(e,n){if(ir(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(xs(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Sc(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function tg(e){so(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(eg(t),i!==t.version))return!0}return!1}function ng(e){if(so(e),xs(e))for(let n=0;n<e.producerNode.length;n++)Sc(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Sc(e,n){if(function Vo(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),so(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)Sc(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];so(r),r.producerIndexOfThis[i]=n}}function xs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function so(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Nc=null;const lg=()=>{},zd=(()=>({...Xp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:lg}))();class py{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yn(){return cg}function cg(e){return e.type.prototype.ngOnChanges&&(e.setInput=gy),ug}function ug(){const e=hg(this),n=e?.current;if(n){const t=e.previous;if(t===pi)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function gy(e,n,t,i){const r=this.declaredInputs[t],s=hg(e)||function qd(e,n){return e[dg]=n}(e,{previous:pi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new py(l&&l.currentValue,n,a===pi),e[i]=n}Yn.ngInherit=!0;const dg="__ngSimpleChanges__";function hg(e){return e[dg]||null}const Or=function(e,n,t){};function Ot(e){for(;Array.isArray(e);)e=e[Xt];return e}function jo(e,n){return Ot(n[e])}function Oi(e,n){return Ot(n[e.index])}function Uo(e,n){return e.data[n]}function rr(e,n){return e[n]}function _i(e,n){const t=n[e];return Mi(t)?t:t[Xt]}function xr(e,n){return null==n?null:e[n]}function Qd(e){e[Po]=0}function yy(e){1024&e[Ve]||(e[Ve]|=1024,Oc(e,1))}function pg(e){1024&e[Ve]&&(e[Ve]&=-1025,Oc(e,-1))}function Oc(e,n){let t=e[en];if(null===t)return;t[Ga]+=n;let i=t;for(t=t[en];null!==t&&(1===n&&1===i[Ga]||-1===n&&0===i[Ga]);)t[Ga]+=n,i=t,t=t[en]}const ke={lFrame:Ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _g(){return ke.bindingsEnabled}function Ps(){return null!==ke.skipHydrationRootTNode}function ee(){return ke.lFrame.lView}function gt(){return ke.lFrame.tView}function vi(e){return ke.lFrame.contextLView=e,e[_n]}function Qn(e){return ke.lFrame.contextLView=null,e}function Jn(){let e=yg();for(;null!==e&&64===e.type;)e=e.parent;return e}function yg(){return ke.lFrame.currentTNode}function Pr(e,n){const t=ke.lFrame;t.currentTNode=e,t.isParent=n}function nh(){return ke.lFrame.isParent}function Qa(){ke.lFrame.isParent=!1}function Ho(){return ke.lFrame.bindingIndex++}function Fr(e){const n=ke.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Dy(e,n){const t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xa(n)}function Xa(e){ke.lFrame.currentDirectiveIndex=e}function Eg(){return ke.lFrame.currentQueryIndex}function sh(e){ke.lFrame.currentQueryIndex=e}function oh(e){const n=e[pe];return 2===n.type?n.declTNode:1===n.type?e[$n]:null}function Dg(e,n,t){if(t&Je.SkipSelf){let r=n,s=e;for(;!(r=r.parent,null!==r||t&Je.Host||(r=oh(s),null===r||(s=s[Rs],10&r.type))););if(null===r)return!1;n=r,e=s}const i=ke.lFrame=lh();return i.currentTNode=n,i.lView=e,!0}function ah(e){const n=lh(),t=e[pe];ke.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function lh(){const e=ke.lFrame,n=null===e?null:e.child;return null===n?Ig(e):n}function Ig(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function el(){const e=ke.lFrame;return ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tg=el;function ch(){const e=el();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yi(){return ke.lFrame.selectedIndex}function ao(e){ke.lFrame.selectedIndex=e}function ln(){const e=ke.lFrame;return Uo(e.tView,e.selectedIndex)}let Ng=!0;function kc(){return Ng}function rs(e){Ng=e}function Fc(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),null!=p&&(e.destroyHooks??=[]).push(t,p)}}function Lc(e,n,t){Bc(e,n,3,t)}function Vc(e,n,t,i){(3&e[Ve])===t&&Bc(e,n,t,i)}function dh(e,n){let t=e[Ve];(3&t)===n&&(t&=8191,t+=1,e[Ve]=t)}function Bc(e,n,t,i){const s=i??-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&e[Po]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(e[Po]+=65536),(a<s||-1==s)&&(My(e,t,n,l),e[Po]=(4294901760&e[Po])+l+2),l++}function jc(e,n){Or(4,e,n);const t=ir(null);try{n.call(e)}finally{ir(t),Or(5,e,n)}}function My(e,n,t,i){const r=t[i]<0,s=t[i+1],a=e[r?-t[i]:t[i]];r?e[Ve]>>13<e[Po]>>16&&(3&e[Ve])===n&&(e[Ve]+=8192,jc(a,s)):jc(a,s)}const ks=-1;class tl{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Uc(e){return e!==ks}function $o(e){return 32767&e}function il(e,n){let t=function xy(e){return e>>16}(e),i=n;for(;t>0;)i=i[Rs],t--;return i}let ph=!0;function Hc(e){const n=ph;return ph=e,n}const gh=255,Rg=5;let GD=0;const Lr={};function $c(e,n){const t=Gc(e,n);if(-1!==t)return t;const i=n[pe];i.firstCreatePass&&(e.injectorIndex=n.length,mh(i.data,e),mh(n,null),mh(i.blueprint,null));const r=Wc(e,n),s=e.injectorIndex;if(Uc(r)){const o=$o(r),a=il(r,n),l=a[pe].data;for(let d=0;d<8;d++)n[s+d]=a[o+d]|l[o+d]}return n[s+8]=r,s}function mh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Gc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Wc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=Fg(r),null===i)return ks;if(t++,r=r[Rs],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ks}function rl(e,n,t){!function lo(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ha)&&(i=t[Ha]),null==i&&(i=t[Ha]=GD++);const r=i&gh;n.data[e+(r>>Rg)]|=1<<r}(e,n,t)}function Mg(e,n,t){if(t&Je.Optional||void 0!==e)return e;Pa()}function zc(e,n,t,i){if(t&Je.Optional&&void 0===i&&(i=null),!(t&(Je.Self|Je.Host))){const r=e[Rr],s=Ai(void 0);try{return r?r.get(n,i,t&Je.Optional):ac(n,i,t&Je.Optional)}finally{Ai(s)}}return Mg(i,0,t)}function Og(e,n,t,i=Je.Default,r){if(null!==e){if(2048&n[Ve]&&!(i&Je.Self)){const o=function Ly(e,n,t,i,r){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[Ve]&&!(512&o[Ve]);){const a=xg(s,o,t,i|Je.Self,Lr);if(a!==Lr)return a;let l=s.parent;if(!l){const d=o[Cc];if(d){const p=d.get(t,Lr,i);if(p!==Lr)return p}l=Fg(o),o=o[Rs]}s=l}return r}(e,n,t,i,Lr);if(o!==Lr)return o}const s=xg(e,n,t,i,Lr);if(s!==Lr)return s}return zc(n,t,i,r)}function xg(e,n,t,i,r){const s=function ky(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ha)?e[Ha]:void 0;return"number"==typeof n?n>=0?n&gh:Fy:n}(t);if("function"==typeof s){if(!Dg(n,e,i))return i&Je.Host?Mg(r,0,i):zc(n,t,i,r);try{let o;if(o=s(i),null!=o||i&Je.Optional)return o;Pa()}finally{Tg()}}else if("number"==typeof s){let o=null,a=Gc(e,n),l=ks,d=i&Je.Host?n[vn][$n]:null;for((-1===a||i&Je.SkipSelf)&&(l=-1===a?Wc(e,n):n[a+8],l!==ks&&kg(i,!1)?(o=n[pe],a=$o(l),n=il(l,n)):a=-1);-1!==a;){const p=n[pe];if(Pg(s,a,p.data)){const g=_h(a,n,t,o,i,d);if(g!==Lr)return g}l=n[a+8],l!==ks&&kg(i,n[pe].data[a+8]===d)&&Pg(s,a,n)?(o=p,a=$o(l),n=il(l,n)):a=-1}}return r}function _h(e,n,t,i,r,s){const o=n[pe],a=o.data[e+8],p=qc(a,o,t,null==i?ko(a)&&ph:i!=o&&0!=(3&a.type),r&Je.Host&&s===a);return null!==p?co(n,o,p,a):Lr}function qc(e,n,t,i,r){const s=e.providerIndexes,o=n.data,a=1048575&s,l=e.directiveStart,p=s>>20,_=r?a+p:e.directiveEnd;for(let v=i?a:a+p;v<_;v++){const C=o[v];if(v<l&&t===C||v>=l&&C.type===t)return v}if(r){const v=o[l];if(v&&Gi(v)&&v.type===t)return l}return null}function co(e,n,t,i){let r=e[t];const s=n.data;if(function Ag(e){return e instanceof tl}(r)){const o=r;o.resolving&&function No(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new G(-200,`Circular dependency in DI detected for ${e}${t}`)}(function tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():we(e)}(s[t]));const a=Hc(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?Ai(o.injectImpl):null;Dg(e,i,Je.Default);try{r=e[t]=o.factory(void 0,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&function Ry(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=cg(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==d&&Ai(d),Hc(a),o.resolving=!1,Tg()}}return r}function Pg(e,n,t){return!!(t[n+(e>>Rg)]&1<<e)}function kg(e,n){return!(e&Je.Self||e&Je.Host&&n)}class bi{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return Og(this._tNode,this._lView,n,uc(i),t)}}function Fy(){return new bi(Jn(),ee())}function cn(e){return Ns(()=>{const n=e.prototype.constructor,t=n[Ri]||sl(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Ri]||sl(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function sl(e){return te(e)?()=>{const n=sl(N(e));return n&&n()}:ro(e)}function Fg(e){const n=e[pe],t=n.type;return 2===t?n.declTNode:1===t?e[$n]:null}const zo="__parameters__";function Zo(e,n,t){return Ns(()=>{const i=function bh(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,d,p){const g=l.hasOwnProperty(zo)?l[zo]:Object.defineProperty(l,zo,{value:[]})[zo];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Gn(e,n){e.forEach(t=>Array.isArray(t)?Gn(t,n):n(t))}function Yo(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function al(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ll(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}function Wi(e,n,t){let i=uo(e,n);return i>=0?e[1|i]=t:(i=~i,function jy(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function Br(e,n){const t=uo(e,n);if(t>=0)return e[1|t]}function uo(e,n){return function jg(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=e[s<<t];if(n===o)return s<<t;o>n?r=s:i=s+1}return~(r<<t)}(e,n,1)}const Qo=gr(Zo("Optional"),8),Jo=gr(Zo("SkipSelf"),4);function Yg(e){return 128==(128&e.flags)}var Xo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Xo||{});const yL=/^>|^->|<!--|-->|--!>|<!-$/g,bL=/(<|>)/g,wL="\u200b$1\u200b";const Zy=new Map;let CL=0;const Yy="__ngContext__";function ki(e,n){Mi(n)?(e[Yy]=n[Wa],function DL(e){Zy.set(e[Wa],e)}(n)):e[Yy]=n}let Qy;function Jy(e,n){return Qy(e,n)}function Ah(e){const n=e[en];return mi(n)?n[en]:n}function hI(e){return pI(e[eo])}function fI(e){return pI(e[$i])}function pI(e){for(;null!==e&&!mi(e);)e=e[$i];return e}function Jc(e,n,t,i,r){if(null!=i){let s,o=!1;mi(i)?s=i:Mi(i)&&(o=!0,i=i[Xt]);const a=Ot(i);0===e&&null!==t?null==r?vI(n,t,a):hl(n,t,a,r||null,!0):1===e&&null!==t?hl(n,t,a,r||null,!0):2===e?function im(e,n,t){const i=tm(e,n);i&&function $L(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function zL(e,n,t,i,r){const s=t[Mr];s!==Ot(t)&&Jc(n,e,i,s,r);for(let a=Kn;a<t.length;a++){const l=t[a];Mh(l[pe],l,e,n,i,s)}}(n,e,s,t,r)}}function Xy(e,n){return e.createComment(function rI(e){return e.replace(yL,n=>n.replace(bL,wL))}(n))}function Xg(e,n,t){return e.createElement(n,t)}function mI(e,n){const t=e[io],i=t.indexOf(n);pg(n),t.splice(i,1)}function em(e,n){if(e.length<=Kn)return;const t=Kn+n,i=e[t];if(i){const r=i[to];null!==r&&r!==e&&mI(r,i),n>0&&(e[t-1][$i]=i[$i]);const s=al(e,Kn+n);!function kL(e,n){Mh(e,n,n[Be],2,null,null),n[Xt]=null,n[$n]=null}(i[pe],i);const o=s[nr];null!==o&&o.detachView(s[pe]),i[en]=null,i[$i]=null,i[Ve]&=-129}return i}function e0(e,n){if(!(256&n[Ve])){const t=n[Be];n[za]&&ng(n[za]),n[no]&&ng(n[no]),t.destroyNode&&Mh(e,n,t,3,null,null),function VL(e){let n=e[eo];if(!n)return t0(e[pe],e);for(;n;){let t=null;if(Mi(n))t=n[eo];else{const i=n[Kn];i&&(t=i)}if(!t){for(;n&&!n[$i]&&n!==e;)Mi(n)&&t0(n[pe],n),n=n[en];null===n&&(n=e),Mi(n)&&t0(n[pe],n),t=n&&n[$i]}n=t}}(n)}}function t0(e,n){if(!(256&n[Ve])){n[Ve]&=-129,n[Ve]|=256,function HL(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof tl)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Or(4,a,l);try{l.call(a)}finally{Or(5,a,l)}}else{Or(4,r,s);try{s.call(r)}finally{Or(5,r,s)}}}}}(e,n),function UL(e,n){const t=e.cleanup,i=n[Oo];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(n[Oo]=null);const r=n[Ms];if(null!==r){n[Ms]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,n),1===n[pe].type&&n[Be].destroy();const t=n[to];if(null!==t&&mi(n[en])){t!==n[en]&&mI(t,n);const i=n[nr];null!==i&&i.detachView(e)}!function IL(e){Zy.delete(e[Wa])}(n)}}function n0(e,n,t){return function _I(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[Xt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===Fn.None||s===Fn.Emulated)return null}return Oi(i,t)}}(e,n.parent,t)}function hl(e,n,t,i,r){e.insertBefore(n,t,i,r)}function vI(e,n,t){e.appendChild(n,t)}function yI(e,n,t,i,r){null!==i?hl(e,n,t,i,r):vI(e,n,t)}function tm(e,n){return e.parentNode(n)}function bI(e,n,t){return CI(e,n,t)}let r0,l0,CI=function wI(e,n,t){return 40&e.type?Oi(e,t):null};function nm(e,n,t,i){const r=n0(e,i,n),s=n[Be],a=bI(i.parent||n[$n],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)yI(s,r,t[l],a,!1);else yI(s,r,t,a,!1);void 0!==r0&&r0(s,i,n,t,r)}function Rh(e,n){if(null!==n){const t=n.type;if(3&t)return Oi(n,e);if(4&t)return s0(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return Rh(e,i);{const r=e[n.index];return mi(r)?s0(-1,r):Ot(r)}}if(32&t)return Jy(n,e)()||Ot(e[n.index]);{const i=DI(e,n);return null!==i?Array.isArray(i)?i[0]:Rh(Ah(e[vn]),i):Rh(e,n.next)}}return null}function DI(e,n){return null!==n?e[vn][$n].projection[n.projection]:null}function s0(e,n){const t=Kn+e+1;if(t<n.length){const i=n[t],r=i[pe].firstChild;if(null!==r)return Rh(i,r)}return n[Mr]}function o0(e,n,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===n&&(a&&ki(Ot(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)o0(e,n,t.child,i,r,s,!1),Jc(n,e,r,a,s);else if(32&l){const d=Jy(t,i);let p;for(;p=d();)Jc(n,e,r,p,s);Jc(n,e,r,a,s)}else 16&l?TI(e,n,i,t,r,s):Jc(n,e,r,a,s);t=o?t.projectionNext:t.next}}function Mh(e,n,t,i,r,s){o0(t,i,e.firstChild,n,r,s,!1)}function TI(e,n,t,i,r,s){const o=t[vn],l=o[$n].projection[i.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Jc(n,e,r,l[d],s);else{let d=l;const p=o[en];Yg(i)&&(d.flags|=128),o0(e,n,d,p,r,s,!0)}}function SI(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function NI(e,n,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&fc(e,n,i),null!==r&&SI(e,n,r),null!==s&&function ZL(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class OI{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ea(e){return e instanceof OI?e.changingThisBreaksApplicationSecurity:e}const kh=new ue("ENVIRONMENT_INITIALIZER"),HI=new ue("INJECTOR",-1),$I=new ue("INJECTOR_DEF_TYPES");class p0{get(n,t=La){if(t===La){const i=new Error(`NullInjectorError: No provider for ${jt(n)}!`);throw i.name="NullInjectorError",i}return t}}function w2(...e){return{\u0275providers:GI(0,e),\u0275fromNgModule:!0}}function GI(e,...n){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Gn(n,o=>{const a=o;am(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&WI(r,s),t}function WI(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];m0(r,s=>{n(s,i)})}}function am(e,n,t,i){if(!(e=N(e)))return!1;let r=null,s=sc(e);const o=!s&&ct(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{const l=e.ngModule;if(s=sc(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)am(d,n,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;i.add(r);try{Gn(s.imports,p=>{am(p,n,t,i)&&(d||=[],d.push(p))})}finally{}void 0!==d&&WI(d,n)}if(!a){const d=ro(r)||(()=>new r);n({provide:r,useFactory:d,deps:it},r),n({provide:$I,useValue:r,multi:!0},r),n({provide:kh,useValue:()=>ne(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const d=e;m0(l,p=>{n(p,d)})}}}return r!==e&&void 0!==e.providers}function m0(e,n){for(let t of e)_e(t)&&(t=t.\u0275providers),Array.isArray(t)?m0(t,n):n(t)}const C2=be({provide:String,useValue:be});function _0(e){return null!==e&&"object"==typeof e&&C2 in e}function fl(e){return"function"==typeof e}const v0=new ue("Set Injector scope."),lm={},D2={};let y0;function cm(){return void 0===y0&&(y0=new p0),y0}class zi{}class nu extends zi{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w0(n,o=>this.processProvider(o)),this.records.set(HI,iu(void 0,this)),r.has("environment")&&this.records.set(zi,iu(void 0,this));const s=this.records.get(v0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($I.multi,it,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Ss(this),i=Ai(void 0);try{return n()}finally{Ss(t),Ai(i)}}get(n,t=La,i=Je.Default){if(this.assertNotDestroyed(),n.hasOwnProperty($a))return n[$a](this);i=uc(i);const s=Ss(this),o=Ai(void 0);try{if(!(i&Je.SkipSelf)){let l=this.records.get(n);if(void 0===l){const d=function A2(e){return"function"==typeof e||"object"==typeof e&&e instanceof ue}(n)&&rc(n);l=d&&this.injectableDefInScope(d)?iu(b0(n),lm):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(i&Je.Self?cm():this.parent).get(n,t=i&Je.Optional&&t===La?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ts]=a[Ts]||[]).unshift(jt(n)),s)throw a;return function ry(e,n,t,i){const r=e[Ts];throw n[pr]&&r.unshift(n[pr]),e.message=function ja(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=jt(n);if(Array.isArray(n))r=n.map(jt).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(wd,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[Ts]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Ai(o),Ss(s)}}resolveInjectorInitializers(){const n=Ss(this),t=Ai(void 0);try{const r=this.get(kh.multi,it,Je.Self);for(const s of r)s()}finally{Ss(n),Ai(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(jt(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(n){let t=fl(n=N(n))?n:N(n&&n.provide);const i=function T2(e){return _0(e)?iu(void 0,e.useValue):iu(ZI(e),lm)}(n);if(fl(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=iu(void 0,lm,!0),r.factory=()=>Ba(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===lm&&(t.value=D2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function N2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=N(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function b0(e){const n=rc(e),t=null!==n?n.factory:ro(e);if(null!==t)return t;if(e instanceof ue)throw new G(204,!1);if(e instanceof Function)return function I2(e){const n=e.length;if(n>0)throw ll(n,"?"),new G(204,!1);const t=function Pp(e){return e&&(e[ka]||e[Xs])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new G(204,!1)}function ZI(e,n,t){let i;if(fl(e)){const r=N(e);return ro(r)||b0(r)}if(_0(e))i=()=>N(e.useValue);else if(function qI(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Ba(e.deps||[]));else if(function zI(e){return!(!e||!e.useExisting)}(e))i=()=>ne(N(e.useExisting));else{const r=N(e&&(e.useClass||e.provide));if(!function S2(e){return!!e.deps}(e))return ro(r)||b0(r);i=()=>new r(...Ba(e.deps))}return i}function iu(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function w0(e,n){for(const t of e)Array.isArray(t)?w0(t,n):t&&_e(t)?w0(t.\u0275providers,n):n(t)}const um=new ue("AppId",{providedIn:"root",factory:()=>R2}),R2="ng",KI=new ue("Platform Initializer"),Ls=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YI=new ue("CSP nonce",{providedIn:"root",factory:()=>function eu(){if(void 0!==l0)return l0;if(typeof document<"u")return document;throw new G(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let QI=(e,n,t)=>null;function A0(e,n,t=!1){return QI(e,n,t)}class j2{}class eT{}class H2{resolveComponentFactory(n){throw function U2(e){const n=Error(`No component factory found for ${jt(e)}.`);return n.ngComponent=e,n}(n)}}let mm=(()=>{class e{static#e=this.NULL=new H2}return e})();function $2(){return ou(Jn(),ee())}function ou(e,n){return new xt(Oi(e,n))}let xt=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=$2}return e})();function G2(e){return e instanceof xt?e.nativeElement:e}class O0{}let yr=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function W2(){const e=ee(),t=_i(Jn().index,e);return(Mi(t)?t:e)[Be]}()}return e})(),z2=(()=>{class e{static#e=this.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null})}return e})();class au{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const nT=new au("16.2.12"),x0={};function oT(e,n=null,t=null,i){const r=aT(e,n,t,i);return r.resolveInjectorInitializers(),r}function aT(e,n=null,t=null,i,r=new Set){const s=[t||it,w2(e)];return i=i||("object"==typeof e?void 0:jt(e)),new nu(s,n||cm(),i||null,r)}let wi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=La;static#t=this.NULL=new p0;static create(t,i){if(Array.isArray(t))return oT({name:""},i,t,"");{const r=t.name??"";return oT({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ce({token:e,providedIn:"any",factory:()=>ne(HI)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function P0(e){return e.ngOriginalError}class fo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&P0(n);for(;t&&P0(t);)t=P0(t);return t||null}}function k0(e){return n=>{setTimeout(e,void 0,n)}}const Te=class eV extends L{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,s=t||(()=>null),o=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=k0(s),r&&(r=k0(r)),o&&(o=k0(o)));const a=super.subscribe({next:r,error:s,complete:o});return n instanceof Xe&&n.add(a),a}};function cT(...e){}class st{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tV(){const e="function"==typeof Mt.requestAnimationFrame;let n=Mt[e?"requestAnimationFrame":"setTimeout"],t=Mt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function rV(e){const n=()=>{!function iV(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Mt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,L0(e),e.isCheckStableRunning=!0,F0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),L0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function oV(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return uT(e),t.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),dT(e)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return uT(e),t.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),dT(e)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,L0(e),F0(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new G(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,nV,cT,cT);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const nV={};function F0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function L0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function uT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dT(e){e._nesting--,F0(e)}class sV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const hT=new ue("",{providedIn:"root",factory:fT});function fT(){const e=oe(st);let n=!0;return z(new $e(r=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(n),r.complete()})}),new $e(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const o=e.onUnstable.subscribe(()=>{st.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Pe()))}function po(e){return e instanceof Function?e():e}let V0=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e})}return e})();function Vh(e){for(;e;){e[Ve]|=64;const n=Ah(e);if(Ld(e)&&!n)return e;e=n}return null}const vT=new ue("",{providedIn:"root",factory:()=>!1});let ym=null;function CT(e,n){return e[n]??IT()}function ET(e,n){const t=IT();t.producerNode?.length&&(e[n]=ym,t.lView=e,ym=DT())}const mV={...Xp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Vh(e.lView)},lView:null};function DT(){return Object.create(mV)}function IT(){return ym??=DT(),ym}const Ge={};function Ee(e){TT(gt(),ee(),yi()+e,!1)}function TT(e,n,t,i){if(!i)if(3==(3&n[Ve])){const s=e.preOrderCheckHooks;null!==s&&Lc(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Vc(n,s,0,t)}ao(t)}function O(e,n=Je.Default){const t=ee();return null===t?ne(e,n):Og(Jn(),t,N(e),n)}function bm(e,n,t,i,r,s,o,a,l,d,p){const g=n.blueprint.slice();return g[Xt]=r,g[Ve]=140|i,(null!==d||e&&2048&e[Ve])&&(g[Ve]|=2048),Qd(g),g[en]=g[Rs]=e,g[_n]=t,g[xo]=o||e&&e[xo],g[Be]=a||e&&e[Be],g[Rr]=l||e&&e[Rr]||null,g[$n]=s,g[Wa]=function EL(){return CL++}(),g[mr]=p,g[Cc]=d,g[vn]=2==n.type?e[vn]:g,g}function du(e,n,t,i,r){let s=e.data[n];if(null===s)s=function B0(e,n,t,i,r){const s=yg(),o=nh(),l=e.data[n]=function DV(e,n,t,i,r,s){let o=n?n.injectorIndex:-1,a=0;return Ps()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,i,r),function wg(){return ke.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function oo(){const e=ke.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function Bh(e,n,t,i){if(0===t)return-1;const r=n.length;for(let s=0;s<t;s++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function NT(e,n,t,i,r){const s=CT(n,za),o=yi(),a=2&i;try{ao(-1),a&&n.length>rt&&TT(e,n,rt,!1),Or(a?2:0,r);const d=a?s:null,p=Ud(d);try{null!==d&&(d.dirty=!1),t(i,r)}finally{Za(d,p)}}finally{a&&null===n[za]&&ET(n,za),ao(o),Or(a?3:1,r)}}function j0(e,n,t){if(Zp(n)){const i=ir(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{ir(i)}}}function U0(e,n,t){_g()&&(function MV(e,n,t,i){const r=t.directiveStart,s=t.directiveEnd;ko(t)&&function VV(e,n,t){const i=Oi(n,e),r=AT(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=wm(e,bm(e,r,null,o,i,n,null,e[xo].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=a}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||$c(t,n),ki(i,n);const o=t.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],d=co(n,e,a,t);ki(d,n),null!==o&&BV(0,a-r,d,l,0,o),Gi(l)&&(_i(t.index,n)[_n]=co(n,e,a,t))}}(e,n,t,Oi(t,n)),64==(64&t.flags)&&PT(e,n,t))}function H0(e,n,t=Oi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(n,e):e[o];e[r++]=a}}}function AT(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=$0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function $0(e,n,t,i,r,s,o,a,l,d,p){const g=rt+i,_=g+r,v=function vV(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Ge);return t}(g,_),C="function"==typeof d?d():d;return v[pe]={type:e,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:n,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:p}}let RT=e=>null;function MT(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const s=e[r];null===i?OT(t,n,r,s):i.hasOwnProperty(r)&&OT(t,n,i[r],s)}return t}function OT(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function G0(e,n,t,i){if(_g()){const r=null===i?null:{"":-1},s=function xV(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(_c(n,o.selectors,!1))if(i||(i=[]),Gi(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),W0(e,n,a.length)}else i.unshift(o),W0(e,n,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&xT(e,n,t,o,r,a),r&&function PV(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const s=t[n[r+1]];if(null==s)throw new G(-301,!1);i.push(n[r],s)}}}(t,i,r)}t.mergedAttrs=Mo(t.mergedAttrs,t.attrs)}function xT(e,n,t,i,r,s){for(let d=0;d<i.length;d++)rl($c(t,n),e,i[d].type);!function FV(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let d=0;d<i.length;d++){const p=i[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,l=Bh(e,n,i.length,null);for(let d=0;d<i.length;d++){const p=i[d];t.mergedAttrs=Mo(t.mergedAttrs,p.hostAttrs),LV(e,t,n,l,p),kV(l,p,r),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function IV(e,n,t){const r=n.directiveEnd,s=e.data,o=n.attrs,a=[];let l=null,d=null;for(let p=n.directiveStart;p<r;p++){const g=s[p],_=t?t.get(g):null,C=_?_.outputs:null;l=MT(g.inputs,p,l,_?_.inputs:null),d=MT(g.outputs,p,d,C);const I=null===l||null===o||Id(n)?null:jV(l,p,o);a.push(I)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=d}(e,t,s)}function PT(e,n,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function Cg(){return ke.lFrame.currentDirectiveIndex}();try{ao(s);for(let a=i;a<r;a++){const l=e.data[a],d=n[a];Xa(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&OV(l,d)}}finally{ao(-1),Xa(o)}}function OV(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function W0(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function kV(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Gi(n)&&(t[""]=e)}}function LV(e,n,t,i,r){e.data[i]=r;const s=r.factory||(r.factory=ro(r.type)),o=new tl(s,Gi(r),O);e.blueprint[i]=o,t[i]=o,function AV(e,n,t,i,r){const s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function RV(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(e,n,i,Bh(e,t,r.hostVars,Ge),r)}function Vs(e,n,t,i,r,s){const o=Oi(e,n);!function z0(e,n,t,i,r,s,o){if(null==s)e.removeAttribute(n,r,t);else{const a=null==o?we(s):o(s,i||"",r);e.setAttribute(n,r,a,t)}}(n[Be],o,s,e.value,t,i,r)}function BV(e,n,t,i,r,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)kT(i,t,o[a++],o[a++],o[a++])}function kT(e,n,t,i,r){const s=ir(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(n,r)),null!==e.setInput?e.setInput(n,r,t,i):n[i]=r}finally{ir(s)}}function jV(e,n,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===n){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function FT(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null,null]}function LT(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=e.data[s];sh(t[i]),o.contentQueries(2,n[s],s)}}}function wm(e,n){return e[eo]?e[qp][$i]=n:e[eo]=n,e[qp]=n,n}function q0(e,n,t){sh(0);const i=ir(null);try{n(e,t)}finally{ir(i)}}function VT(e){return e[Oo]||(e[Oo]=[])}function BT(e){return e.cleanup||(e.cleanup=[])}function UT(e,n){const t=e[Rr],i=t?t.get(fo,null):null;i&&i.handleError(n)}function Z0(e,n,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];kT(e.data[o],n[o],i,a,r)}}function UV(e,n){const t=_i(n,e),i=t[pe];!function HV(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Xt];null!==r&&null===t[mr]&&(t[mr]=A0(r,t[Rr])),K0(i,t,t[_n])}function K0(e,n,t){ah(n);try{const i=e.viewQuery;null!==i&&q0(1,i,t);const r=e.template;null!==r&&NT(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&LT(e,n),e.staticViewQueries&&q0(2,e.viewQuery,t);const s=e.components;null!==s&&function $V(e,n){for(let t=0;t<n.length;t++)UV(e,n[t])}(n,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[Ve]&=-5,ch()}}let HT=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function fy(e,n,t){const i=Object.create(zd);t&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=n;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>Tc(i),run:()=>{if(i.dirty=!1,i.hasRun&&!tg(i))return;i.hasRun=!0;const o=Ud(i);try{i.cleanupFn(),i.cleanupFn=lg,i.fn(r)}finally{Za(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e})}return e})();function Cm(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=Ar(r,a):2==s&&(i=Ar(i,a+": "+n[++o]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function jh(e,n,t,i,r=!1){for(;null!==t;){const s=n[t.index];null!==s&&i.push(Ot(s)),mi(s)&&$T(s,i);const o=t.type;if(8&o)jh(e,n,t.child,i);else if(32&o){const a=Jy(t,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=DI(n,t);if(Array.isArray(a))i.push(...a);else{const l=Ah(n[vn]);jh(l[pe],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function $T(e,n){for(let t=Kn;t<e.length;t++){const i=e[t],r=i[pe].firstChild;null!==r&&jh(i[pe],i,r,n)}e[Mr]!==e[Xt]&&n.push(e[Mr])}function Em(e,n,t,i=!0){const r=n[xo],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{GT(e,n,e.template,t)}catch(l){throw i&&UT(n,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function GT(e,n,t,i){const r=n[Ve];if(256!=(256&r)){n[xo].effectManager?.flush(),ah(n);try{Qd(n),function Pc(e){return ke.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&NT(e,n,t,2,i);const o=3==(3&r);if(o){const d=e.preOrderCheckHooks;null!==d&&Lc(n,d,null)}else{const d=e.preOrderHooks;null!==d&&Vc(n,d,0,null),dh(n,0)}if(function zV(e){for(let n=hI(e);null!==n;n=fI(n)){if(!n[Dc])continue;const t=n[io];for(let i=0;i<t.length;i++){yy(t[i])}}}(n),WT(n,2),null!==e.contentQueries&&LT(e,n),o){const d=e.contentCheckHooks;null!==d&&Lc(n,d)}else{const d=e.contentHooks;null!==d&&Vc(n,d,1),dh(n,1)}!function _V(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const i=CT(n,no);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)ao(~s);else{const o=s,a=t[++r],l=t[++r];Dy(a,o),i.dirty=!1;const d=Ud(i);try{l(2,n[o])}finally{Za(i,d)}}}}finally{null===n[no]&&ET(n,no),ao(-1)}}(e,n);const a=e.components;null!==a&&qT(n,a,0);const l=e.viewQuery;if(null!==l&&q0(2,l,i),o){const d=e.viewCheckHooks;null!==d&&Lc(n,d)}else{const d=e.viewHooks;null!==d&&Vc(n,d,2),dh(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ve]&=-73,pg(n)}finally{ch()}}}function WT(e,n){for(let t=hI(e);null!==t;t=fI(t))for(let i=Kn;i<t.length;i++)zT(t[i],n)}function qV(e,n,t){zT(_i(n,e),t)}function zT(e,n){if(!function _y(e){return 128==(128&e[Ve])}(e))return;const t=e[pe],i=e[Ve];if(80&i&&0===n||1024&i||2===n)GT(t,e,t.template,e[_n]);else if(e[Ga]>0){WT(e,1);const r=t.components;null!==r&&qT(e,r,1)}}function qT(e,n,t){for(let i=0;i<n.length;i++)qV(e,n[i],t)}class Uh{get rootNodes(){const n=this._lView,t=n[pe];return jh(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(n){this._lView[_n]=n}get destroyed(){return 256==(256&this._lView[Ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[en];if(mi(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(em(n,i),al(t,i))}this._attachedToViewContainer=!1}e0(this._lView[pe],this._lView)}onDestroy(n){!function gg(e,n){if(256==(256&e[Ve]))throw new G(911,!1);null===e[Ms]&&(e[Ms]=[]),e[Ms].push(n)}(this._lView,n)}markForCheck(){Vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ve]&=-129}reattach(){this._lView[Ve]|=128}detectChanges(){Em(this._lView[pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LL(e,n){Mh(e,n,n[Be],2,null,null)}(this._lView[pe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=n}}class ZV extends Uh{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Em(n[pe],n,n[_n],!1)}checkNoChanges(){}get context(){return null}}class ZT extends mm{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ct(n);return new Hh(t,this.ngModule)}}function KT(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class YV{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=uc(i);const r=this.injector.get(n,x0,i);return r!==x0||t===x0?r:this.parentInjector.get(n,t,i)}}class Hh extends eT{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=KT(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return KT(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function yc(e){return e.map(Rd).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let s=(r=r||this.ngModule)instanceof zi?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new YV(n,s):n,a=o.get(O0,null);if(null===a)throw new G(407,!1);const g={rendererFactory:a,sanitizer:o.get(z2,null),effectManager:o.get(HT,null),afterRenderEventManager:o.get(V0,null)},_=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",C=i?function yV(e,n,t,i){const s=i.get(vT,!1)||t===Fn.ShadowDom,o=e.selectRootElement(n,s);return function bV(e){RT(e)}(o),o}(_,i,this.componentDef.encapsulation,o):Xg(_,v,function KV(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),B=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==C&&(M=A0(C,o,!0));const K=$0(0,null,null,1,0,null,null,null,null,null,null),ie=bm(null,K,null,B,null,null,g,_,o,null,M);let de,Fe;ah(ie);try{const mt=this.componentDef;let bt,On=null;mt.findHostDirectiveDefs?(bt=[],On=new Map,mt.findHostDirectiveDefs(mt,bt,On),bt.push(mt)):bt=[mt];const Bn=function JV(e,n){const t=e[pe],i=rt;return e[i]=n,du(t,i,2,"#host",null)}(ie,C),ui=function XV(e,n,t,i,r,s,o){const a=r[pe];!function eB(e,n,t,i){for(const r of e)n.mergedAttrs=Mo(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Cm(n,n.mergedAttrs,!0),null!==t&&NI(i,t,n))}(i,e,n,o);let l=null;null!==n&&(l=A0(n,r[Rr]));const d=s.rendererFactory.createRenderer(n,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const g=bm(r,AT(t),null,p,r[e.index],e,s,d,null,null,l);return a.firstCreatePass&&W0(a,e,i.length-1),wm(r,g),r[e.index]=g}(Bn,C,mt,bt,ie,g,_);Fe=Uo(K,rt),C&&function nB(e,n,t,i){if(i)fc(e,t,["ng-version",nT.full]);else{const{attrs:r,classes:s}=function Md(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&n.push(s,e[++i]):8===r&&t.push(s);else{if(!Hi(r))break;r=s}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&fc(e,t,r),s&&s.length>0&&SI(e,t,s.join(" "))}}(_,mt,C,i),void 0!==t&&function iB(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(Fe,this.ngContentSelectors,t),de=function tB(e,n,t,i,r,s){const o=Jn(),a=r[pe],l=Oi(o,r);xT(a,r,o,t,null,i);for(let p=0;p<t.length;p++)ki(co(r,a,o.directiveStart+p,o),r);PT(a,r,o),l&&ki(l,r);const d=co(r,a,o.directiveStart+o.componentOffset,o);if(e[_n]=r[_n]=d,null!==s)for(const p of s)p(d,n);return j0(a,o,e),d}(ui,mt,bt,On,ie,[rB]),K0(K,ie,null)}finally{ch()}return new QV(this.componentType,de,ou(Fe,ie),ie,Fe)}}class QV extends j2{constructor(n,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ZV(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;Z0(s[pe],s,r,n,t),this.previousInputValues.set(n,t),Vh(_i(this._tNode.index,s))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function rB(){const e=Jn();Fc(ee()[pe],e)}function Pt(e){let n=function YT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(Gi(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new G(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const o=e;o.inputs=Dm(e.inputs),o.inputTransforms=Dm(e.inputTransforms),o.declaredInputs=Dm(e.declaredInputs),o.outputs=Dm(e.outputs);const a=r.hostBindings;a&&lB(e,a);const l=r.viewQuery,d=r.contentQueries;if(l&&oB(e,l),d&&aB(e,d),Zn(e.inputs,r.inputs),Zn(e.declaredInputs,r.declaredInputs),Zn(e.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Zn(o.inputTransforms,r.inputTransforms)),Gi(r)&&r.data.animation){const p=e.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Pt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function sB(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Mo(r.hostAttrs,t=Mo(t,r.hostAttrs))}}(i)}function Dm(e){return e===pi?{}:e===it?[]:e}function oB(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function aB(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,s)=>{n(i,r,s),t(i,r,s)}:n}function lB(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function Fi(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function kt(e,n,t,i){const r=ee();return Fi(r,Ho(),n)&&(gt(),Vs(ln(),r,e,n,t,i)),kt}function Se(e,n,t,i,r,s,o,a){const l=ee(),d=gt(),p=e+rt,g=d.firstCreatePass?function OB(e,n,t,i,r,s,o,a,l){const d=n.consts,p=du(n,e,4,o||null,xr(d,a));G0(n,t,p,xr(d,l)),Fc(n,p);const g=p.tView=$0(2,p,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return null!==n.queries&&(n.queries.template(n,p),g.queries=n.queries.embeddedTView(p)),p}(p,d,l,n,t,i,r,s,o):d.data[p];Pr(g,!1);const _=f1(d,l,g,e);kc()&&nm(d,l,_,g),ki(_,l),wm(l,l[p]=FT(_,l,_,g)),Fd(g)&&U0(d,l,g),null!=o&&H0(l,g,a)}let f1=function p1(e,n,t,i){return rs(!0),n[Be].createComment("")};function De(e,n,t){const i=ee();return Fi(i,Ho(),n)&&function br(e,n,t,i,r,s,o,a){const l=Oi(n,t);let p,d=n.inputs;!a&&null!=d&&(p=d[i])?(Z0(e,t,p,i,r),ko(n)&&function SV(e,n){const t=_i(n,e);16&t[Ve]||(t[Ve]|=64)}(t,n.index)):3&n.type&&(i=function TV(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=o?o(r,n.value||"",i):r,s.setProperty(l,i,r))}(gt(),ln(),i,e,n,i[Be],t,!1),De}function nb(e,n,t,i,r){const o=r?"class":"style";Z0(e,t,n.inputs[o],o,i)}function Ae(e,n,t,i){const r=ee(),s=gt(),o=rt+e,a=r[Be],l=s.firstCreatePass?function FB(e,n,t,i,r,s){const o=n.consts,l=du(n,e,2,i,xr(o,r));return G0(n,t,l,xr(o,s)),null!==l.attrs&&Cm(l,l.attrs,!1),null!==l.mergedAttrs&&Cm(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(o,s,r,n,t,i):s.data[o],d=g1(s,r,l,a,n,e);r[o]=d;const p=Fd(l);return Pr(l,!0),NI(a,d,l),32!=(32&l.flags)&&kc()&&nm(s,r,d,l),0===function by(){return ke.lFrame.elementDepthCount}()&&ki(d,r),function Ya(){ke.lFrame.elementDepthCount++}(),p&&(U0(s,r,l),j0(s,l,r)),null!==i&&H0(r,l),Ae}function xe(){let e=Jn();nh()?Qa():(e=e.parent,Pr(e,!1));const n=e;(function Xd(e){return ke.skipHydrationRootTNode===e})(n)&&function vg(){ke.skipHydrationRootTNode=null}(),function wy(){ke.lFrame.elementDepthCount--}();const t=gt();return t.firstCreatePass&&(Fc(t,e),Zp(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function HD(e){return 0!=(8&e.flags)}(n)&&nb(t,n,ee(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function hh(e){return 0!=(16&e.flags)}(n)&&nb(t,n,ee(),n.stylesWithoutHost,!1),xe}function js(e,n,t,i){return Ae(e,n,t,i),xe(),js}let g1=(e,n,t,i,r,s)=>(rs(!0),Xg(i,r,function Sg(){return ke.lFrame.currentNamespace}()));function Zh(e,n,t){const i=ee(),r=gt(),s=e+rt,o=r.firstCreatePass?function BB(e,n,t,i,r){const s=n.consts,o=xr(s,i),a=du(n,e,8,"ng-container",o);return null!==o&&Cm(a,o,!0),G0(n,t,a,xr(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,t):r.data[s];Pr(o,!0);const a=_1(r,i,o,e);return i[s]=a,kc()&&nm(r,i,a,o),ki(a,i),Fd(o)&&(U0(r,i,o),j0(r,o,i)),null!=t&&H0(i,o),Zh}function Kh(){let e=Jn();const n=gt();return nh()?Qa():(e=e.parent,Pr(e,!1)),n.firstCreatePass&&(Fc(n,e),Zp(e)&&n.queries.elementEnd(e)),Kh}let _1=(e,n,t,i)=>(rs(!0),Xy(n[Be],""));function Ur(){return ee()}function Yh(e){return!!e&&"function"==typeof e.then}function v1(e){return!!e&&"function"==typeof e.subscribe}function ot(e,n,t,i){const r=ee(),s=gt(),o=Jn();return function b1(e,n,t,i,r,s,o){const a=Fd(i),d=e.firstCreatePass&&BT(e),p=n[_n],g=VT(n);let _=!0;if(3&i.type||o){const I=Oi(i,n),A=o?o(I):I,B=g.length,M=o?ie=>o(Ot(ie[i.index])):i.index;let K=null;if(!o&&a&&(K=function HB(e,n,t,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=n[Oo],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,n,r,i.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,_=!1;else{s=C1(i,n,p,s,!1);const ie=t.listen(A,r,s);g.push(s,ie),d&&d.push(r,M,B,B+1)}}else s=C1(i,n,p,s,!1);const v=i.outputs;let C;if(_&&null!==v&&(C=v[r])){const I=C.length;if(I)for(let A=0;A<I;A+=2){const de=n[C[A]][C[A+1]].subscribe(s),Fe=g.length;g.push(s,de),d&&d.push(r,i.index,Fe,-(Fe+1))}}}(s,r,r[Be],o,e,n,i),ot}function w1(e,n,t,i){try{return Or(6,n,t),!1!==t(i)}catch(r){return UT(e,r),!1}finally{Or(7,n,t)}}function C1(e,n,t,i,r){return function s(o){if(o===Function)return i;Vh(e.componentOffset>-1?_i(e.index,n):n);let l=w1(n,t,i,o),d=s.__ngNextListenerFn__;for(;d;)l=w1(n,t,d,o)&&l,d=d.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Ne(e=1){return function Iy(e){return(ke.lFrame.contextLView=function Ty(e,n){for(;e>0;)n=n[Rs],e--;return n}(e,ke.lFrame.contextLView))[_n]}(e)}function $B(e,n){let t=null;const i=function vc(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?_c(e,s,!0):Nd(i,s))return r}else t=r}return t}function Mm(e,n){return e<<17|n<<2}function ta(e){return e>>17&32767}function rb(e){return 2|e}function gl(e){return(131068&e)>>2}function sb(e,n){return-131069&e|n<<2}function ob(e){return 1|e}function x1(e,n,t,i,r){const s=e[t+1],o=null===n;let a=i?ta(s):gl(s),l=!1;for(;0!==a&&(!1===l||o);){const p=e[a+1];KB(e[a],n)&&(l=!0,e[a+1]=i?ob(p):rb(p)),a=i?ta(p):gl(p)}l&&(e[t+1]=i?rb(s):ob(s))}function KB(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&uo(e,n)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P1(e){return e.substring(ei.key,ei.keyEnd)}function k1(e,n){const t=ei.textEnd;return t===n?-1:(n=ei.keyEnd=function XB(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,ei.key=n,t),wu(e,n,t))}function wu(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Dt(e,n){return function os(e,n,t,i){const r=ee(),s=gt(),o=Fr(2);s.firstUpdatePass&&H1(s,e,o,i),n!==Ge&&Fi(r,o,n)&&G1(s,s.data[yi()],r,r[Be],e,r[o+1]=function uj(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=jt(ea(e)))),e}(n,t),i,o)}(e,n,null,!0),Dt}function ml(e){!function as(e,n,t,i){const r=gt(),s=Fr(2);r.firstUpdatePass&&H1(r,null,s,i);const o=ee();if(t!==Ge&&Fi(o,s,t)){const a=r.data[yi()];if(z1(a,i)&&!U1(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Ar(l,t||"")),nb(r,a,o,t,i)}else!function cj(e,n,t,i,r,s,o,a){r===Ge&&(r=it);let l=0,d=0,p=0<r.length?r[0]:null,g=0<s.length?s[0]:null;for(;null!==p||null!==g;){const _=l<r.length?r[l+1]:void 0,v=d<s.length?s[d+1]:void 0;let I,C=null;p===g?(l+=2,d+=2,_!==v&&(C=g,I=v)):null===g||null!==p&&p<g?(l+=2,C=p):(d+=2,C=g,I=v),null!==C&&G1(e,n,t,i,C,I,o,a),p=l<r.length?r[l]:null,g=d<s.length?s[d]:null}}(r,a,o,o[Be],o[s+1],o[s+1]=function aj(e,n,t){if(null==t||""===t)return it;const i=[],r=ea(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,s)}}(lj,Hs,e,!0)}function Hs(e,n){for(let t=function QB(e){return function L1(e){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=e.length}(e),k1(e,wu(e,0,ei.textEnd))}(n);t>=0;t=k1(n,t))Wi(e,P1(n),!0)}function U1(e,n){return n>=e.expandoStartIndex}function H1(e,n,t,i){const r=e.data;if(null===r[t+1]){const s=r[yi()],o=U1(e,t);z1(s,i)&&null===n&&!o&&(n=!1),n=function ij(e,n,t,i){const r=function rh(e){const n=ke.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Qh(t=ab(null,e,n,t,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==r)if(t=ab(r,e,n,t,i),null===s){let l=function rj(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==gl(i))return e[ta(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=ab(null,e,n,l[1],i),l=Qh(l,n.attrs,i),function sj(e,n,t,i){e[ta(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else s=function oj(e,n,t){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=Qh(i,e[s].hostAttrs,t);return Qh(i,n.attrs,t)}(e,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),t}(r,s,n,i),function qB(e,n,t,i,r,s){let o=s?n.classBindings:n.styleBindings,a=ta(o),l=gl(o);e[i]=t;let p,d=!1;if(Array.isArray(t)?(p=t[1],(null===p||uo(t,p)>0)&&(d=!0)):p=t,r)if(0!==l){const _=ta(e[a+1]);e[i+1]=Mm(_,a),0!==_&&(e[_+1]=sb(e[_+1],i)),e[a+1]=function WB(e,n){return 131071&e|n<<17}(e[a+1],i)}else e[i+1]=Mm(a,0),0!==a&&(e[a+1]=sb(e[a+1],i)),a=i;else e[i+1]=Mm(l,0),0===a?a=i:e[l+1]=sb(e[l+1],i),l=i;d&&(e[i+1]=rb(e[i+1])),x1(e,p,i,!0),x1(e,p,i,!1),function ZB(e,n,t,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&uo(s,n)>=0&&(t[i+1]=ob(t[i+1]))}(n,p,e,i,s),o=Mm(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,t,o,i)}}function ab(e,n,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=n[a],i=Qh(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),i}function Qh(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wi(e,o,!!t||n[++s]))}return void 0===e?null:e}function lj(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&Wi(e,i,t)}function G1(e,n,t,i,r,s,o,a){if(!(3&n.type))return;const l=e.data,d=l[a+1],p=function zB(e){return 1==(1&e)}(d)?W1(l,n,t,r,gl(d),o):void 0;Om(p)||(Om(s)||function GB(e){return 2==(2&e)}(d)&&(s=W1(l,null,t,r,a,o)),function qL(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Xo.DashCase;null==r?e.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Xo.Important),e.setStyle(t,i,r,s))}}(i,o,jo(yi(),t),r,s))}function W1(e,n,t,i,r,s){const o=null===n;let a;for(;r>0;){const l=e[r],d=Array.isArray(l),p=d?l[1]:l,g=null===p;let _=t[r+1];_===Ge&&(_=g?it:void 0);let v=g?Br(_,i):p===i?_:void 0;if(d&&!Om(v)&&(v=Br(l,i)),Om(v)&&(a=v,o))return a;const C=e[r+1];r=o?ta(C):gl(C)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=Br(l,i))}return a}function Om(e){return void 0!==e}function z1(e,n){return 0!=(e.flags&(n?8:16))}function wn(e,n=""){const t=ee(),i=gt(),r=e+rt,s=i.firstCreatePass?du(i,r,1,n,null):i.data[r],o=q1(i,t,s,n,e);t[r]=o,kc()&&nm(i,t,o,s),Pr(s,!1)}let q1=(e,n,t,i,r)=>(rs(!0),function Jg(e,n){return e.createText(n)}(n[Be],i));function $s(e,n,t){const i=ee(),r=function fu(e,n,t,i){return Fi(e,Ho(),t)?n+we(t)+i:Ge}(i,e,n,t);return r!==Ge&&function go(e,n,t){const i=jo(n,e);!function gI(e,n,t){e.setValue(n,t)}(e[Be],i,t)}(i,yi(),r),$s}const Eu="en-US";let pS=Eu;function ub(e,n,t,i,r){if(e=N(e),Array.isArray(e))for(let s=0;s<e.length;s++)ub(e[s],n,t,i,r);else{const s=gt(),o=ee(),a=Jn();let l=fl(e)?e:N(e.provide);const d=ZI(e),p=1048575&a.providerIndexes,g=a.directiveStart,_=a.providerIndexes>>20;if(fl(e)||!e.multi){const v=new tl(d,r,O),C=hb(l,n,r?p:p+_,g);-1===C?(rl($c(a,o),s,l),db(s,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[C]=v,o[C]=v)}else{const v=hb(l,n,p+_,g),C=hb(l,n,p,p+_),A=C>=0&&t[C];if(r&&!A||!r&&!(v>=0&&t[v])){rl($c(a,o),s,l);const B=function RU(e,n,t,i,r){const s=new tl(e,t,O);return s.multi=[],s.index=n,s.componentProviders=0,BS(s,r,i&&!t),s}(r?AU:NU,t.length,r,i,d);!r&&A&&(t[C].providerFactory=B),db(s,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(B),o.push(B)}else db(s,e,v>-1?v:C,BS(t[r?C:v],d,!r&&i));!r&&i&&A&&t[C].componentProviders++}}}function db(e,n,t,i){const r=fl(n),s=function E2(e){return!!e.useClass}(n);if(r||s){const l=(s?N(n.useClass):n).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const p=d.indexOf(t);-1===p?d.push(t,[i,l]):d[p+1].push(i,l)}else d.push(t,l)}}}function BS(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function hb(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function NU(e,n,t,i){return fb(this.multi,[])}function AU(e,n,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=co(t,t[pe],this.providerFactory.index,i);s=a.slice(0,o),fb(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],fb(r,s);return s}function fb(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function zt(e,n=[]){return t=>{t.providersResolver=(i,r)=>function SU(e,n,t){const i=gt();if(i.firstCreatePass){const r=Gi(e);ub(t,i.data,i.blueprint,r,!0),ub(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class vl{}class jS{}class pb extends vl{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ZT(this);const r=gi(n);this._bootstrapComponents=po(r.bootstrap),this._r3Injector=aT(n,t,[{provide:vl,useValue:this},{provide:mm,useValue:this.componentFactoryResolver},...i],jt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gb extends jS{constructor(n){super(),this.moduleType=n}create(n){return new pb(this.moduleType,n,[])}}class US extends vl{constructor(n){super(),this.componentFactoryResolver=new ZT(this),this.instance=null;const t=new nu([...n.providers,{provide:vl,useValue:this},{provide:mm,useValue:this.componentFactoryResolver}],n.parent||cm(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mb(e,n,t=null){return new US({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let xU=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=GI(0,t.type),r=i.length>0?mb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ce({token:e,providedIn:"environment",factory:()=>new e(ne(zi))})}return e})();function $r(e){e.getStandaloneInjector=n=>n.get(xU).getOrCreateStandaloneInjector(e)}function ZS(e,n,t,i,r,s){const o=n+t;return Fi(e,o,r)?function Bs(e,n,t){return e[n]=t}(e,o+1,s?i.call(s,r):i(r)):function lf(e,n){const t=e[n];return t===Ge?void 0:t}(e,o+1)}function eN(e,n,t){const i=e+rt,r=ee(),s=rr(r,i);return function cf(e,n){return e[pe].data[n].pure}(r,i)?ZS(r,function Xn(){const e=ke.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,s.transform,t,s):s.transform(t)}function eH(){return this._results[Symbol.iterator]()}class yb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Te)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=yb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=eH)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const i=this;i.dirty=!1;const r=function sr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ch(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nH(e,n,t,i=!0){const r=n[pe];if(function BL(e,n,t,i){const r=Kn+i,s=t.length;i>0&&(t[r-1][$i]=n),i<s-Kn?(n[$i]=t[r],Yo(t,Kn+i,n)):(t.push(n),n[$i]=null),n[en]=t;const o=n[to];null!==o&&t!==o&&function jL(e,n){const t=e[io];n[vn]!==n[en][en][vn]&&(e[Dc]=!0),null===t?e[io]=[n]:t.push(n)}(o,n);const a=n[nr];null!==a&&a.insertView(e),n[Ve]|=128}(r,n,e,t),i){const s=s0(t,e),o=n[Be],a=tm(o,e[Mr]);null!==a&&function FL(e,n,t,i,r,s){i[Xt]=r,i[$n]=n,Mh(e,i,t,1,r,s)}(r,e[$n],o,n,a,s)}}let Cn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sH}return e})();const iH=Cn,rH=class extends iH{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function tH(e,n,t,i){const r=n.tView,a=bm(e,r,t,4096&e[Ve]?4096:16,null,n,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[to]=e[n.index];const d=e[nr];return null!==d&&(a[nr]=d.createEmbeddedView(r)),K0(r,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:i});return new Uh(r)}};function sH(){return Lm(Jn(),ee())}function Lm(e,n){return 4&e.type?new rH(n,e,ou(e,n)):null}let Gr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=dH}return e})();function dH(){return aN(Jn(),ee())}const hH=Gr,sN=class extends hH{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Wc(this._hostTNode,this._hostLView);if(Uc(n)){const t=il(n,this._hostLView),i=$o(n);return new bi(t[pe].data[i+8],t)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=oN(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Kn}createEmbeddedView(n,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(n,t,i,r,s){const o=n&&!function ol(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const I=t||{};a=I.index,i=I.injector,r=I.projectableNodes,s=I.environmentInjector||I.ngModuleRef}const l=o?n:new Hh(ct(n)),d=i||this.parentInjector;if(!s&&null==l.ngModule){const A=(o?d:this.parentInjector).get(zi,null);A&&(s=A)}ct(l.componentType??{});const v=l.create(d,r,null,s);return this.insertImpl(v.hostView,a,false),v}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,i){const r=n._lView;if(function vy(e){return mi(e[en])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const d=r[en],p=new sN(d,d[$n],d[en]);p.detach(p.indexOf(n))}}const o=this._adjustIndex(t),a=this._lContainer;return nH(a,r,o,!i),n.attachToViewContainerRef(),Yo(bb(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=oN(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=em(this._lContainer,t);i&&(al(bb(this._lContainer),t),e0(i[pe],i))}detach(n){const t=this._adjustIndex(n,-1),i=em(this._lContainer,t);return i&&null!=al(bb(this._lContainer),t)?new Uh(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function oN(e){return e[8]}function bb(e){return e[8]||(e[8]=[])}function aN(e,n){let t;const i=n[e.index];return mi(i)?t=i:(t=FT(i,n,null,e),n[e.index]=t,wm(n,t)),lN(t,n,e,i),new sN(t,e,n)}let lN=function cN(e,n,t,i){if(e[Mr])return;let r;r=8&t.type?Ot(i):function fH(e,n){const t=e[Be],i=t.createComment(""),r=Oi(n,e);return hl(t,tm(t,r),i,function GL(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[Mr]=r};class wb{constructor(n){this.queryList=n,this.matches=null}clone(){return new wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Cb(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==pN(n,t).matches&&this.queries[t].setDirty()}}class uN{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class Eb{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Eb(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Db{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Db(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,t,mH(t,s)),this.matchTNodeWithReadOption(n,t,qc(t,n,s,!1,!1))}else i===Cn?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,qc(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===xt||r===Gr||r===Cn&&4&t.type)this.addMatch(t.index,-2);else{const s=qc(t,n,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function mH(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function vH(e,n,t,i){return-1===t?function _H(e,n){return 11&e.type?ou(e,n):4&e.type?Lm(e,n):null}(n,e):-2===t?function yH(e,n,t){return t===xt?ou(n,e):t===Cn?Lm(n,e):t===Gr?aN(n,e):void 0}(e,n,i):co(e,e[pe],t,n)}function dN(e,n,t,i){const r=n[nr].queries[i];if(null===r.matches){const s=e.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const d=o[l];a.push(d<0?null:vH(n,s[d],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function Ib(e,n,t,i){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const o=dN(e,n,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const d=s[a+1],p=n[-l];for(let g=Kn;g<p.length;g++){const _=p[g];_[to]===_[en]&&Ib(_[pe],_,d,i)}if(null!==p[io]){const g=p[io];for(let _=0;_<g.length;_++){const v=g[_];Ib(v[pe],v,d,i)}}}}}return i}function Ft(e){const n=ee(),t=gt(),i=Eg();sh(i+1);const r=pN(t,i);if(e.dirty&&function my(e){return 4==(4&e[Ve])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Ib(t,n,i,[]):dN(t,n,r,i);e.reset(s,G2),e.notifyOnChanges()}return!0}return!1}function na(e,n,t){const i=gt();i.firstCreatePass&&(function fN(e,n,t){null===e.queries&&(e.queries=new Eb),e.queries.track(new Db(n,t))}(i,new uN(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),function hN(e,n,t){const i=new yb(4==(4&t));(function EV(e,n,t,i){const r=VT(n);r.push(t),e.firstCreatePass&&BT(e).push(i,r.length-1)})(e,n,i,i.destroy),null===n[nr]&&(n[nr]=new Cb),n[nr].queries.push(new wb(i))}(i,ee(),n)}function Lt(){return function bH(e,n){return e[nr].queries[n].queryList}(ee(),Eg())}function pN(e,n){return e.queries.getByIndex(n)}function Wr(e,n){return Lm(e,n)}const Mb=new ue("Application Initializer");let Ob=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=oe(Mb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(Yh(s))t.push(s);else if(v1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MN=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ls=new ue("LocaleId",{providedIn:"root",factory:()=>oe(ls,Je.Optional|Je.SkipSelf)||function HH(){return typeof $localize<"u"&&$localize.locale||Eu}()});let jm=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new k(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class WH{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let ON=(()=>{class e{compileModuleSync(t){return new gb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=po(gi(t).declarations).reduce((o,a)=>{const l=ct(a);return l&&o.push(new Hh(l)),o},[]);return new WH(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const FN=new ue(""),Hm=new ue("");let Lb,kb=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lb||(function f$(e){Lb=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(ne(st),ne(Fb),ne(Hm))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})(),Fb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Lb?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ia=null;const LN=new ue("AllowMultipleToken"),Vb=new ue("PlatformDestroyListeners"),Bb=new ue("appBootstrapListener");class BN{constructor(n,t){this.name=n,this.token=t}}function UN(e,n,t=[]){const i=`Platform: ${n}`,r=new ue(i);return(s=[])=>{let o=jb();if(!o||o.injector.get(LN,!1)){const a=[...t,...s,{provide:r,useValue:!0}];e?e(a):function m$(e){if(ia&&!ia.get(LN,!1))throw new G(400,!1);(function VN(){!function cy(e){Nc=e}(()=>{throw new G(600,!1)})})(),ia=e;const n=e.get($N);(function jN(e){e.get(KI,null)?.forEach(t=>t())})(e)}(function HN(e=[],n){return wi.create({name:n,providers:[{provide:v0,useValue:"platform"},{provide:Vb,useValue:new Set([()=>ia=null])},...e]})}(a,i))}return function v$(e){const n=jb();if(!n)throw new G(401,!1);return n}()}}function jb(){return ia?.get($N)??null}let $N=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function y$(e="zone.js",n){return"noop"===e?new sV:"zone.js"===e?new st(n):e}(i?.ngZone,function GN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function OU(e,n,t){return new pb(e,n,t)}(t.moduleType,this.injector,function KN(e){return[{provide:st,useFactory:e},{provide:kh,multi:!0,useFactory:()=>{const n=oe(w$,{optional:!0});return()=>n.initialize()}},{provide:ZN,useFactory:b$},{provide:hT,useFactory:fT}]}(()=>r)),o=s.injector.get(fo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{$m(this._modules,s),a.unsubscribe()})}),function WN(e,n,t){try{const i=t();return Yh(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Ob);return a.runInitializers(),a.donePromise.then(()=>(function gS(e){tr(e,"Expected localeId to be defined"),"string"==typeof e&&(pS=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ls,Eu)||Eu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=zN({},i);return function p$(e,n,t){const i=new gb(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(ra);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new G(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Vb,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(ne(wi))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function zN(e,n){return Array.isArray(n)?n.reduce(zN,e):{...e,...n}}let ra=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(ZN),this.zoneIsStable=oe(hT),this.componentTypes=[],this.components=[],this.isStable=oe(jm).hasPendingTasks.pipe(pt(t=>t?W(!1):this.zoneIsStable),Qt(),Pe()),this._injector=oe(zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof eT;if(!this._injector.get(Ob).done)throw!r&&function As(e){const n=ct(e)||Ln(e)||Hn(e);return null!==n&&n.standalone}(t),new G(405,!1);let o;o=r?t:this._injector.get(mm).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function g$(e){return e.isBoundToModule}(o)?void 0:this._injector.get(vl),d=o.create(wi.NULL,[],i||o.selector,a),p=d.location.nativeElement,g=d.injector.get(FN,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),$m(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new G(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;$m(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Bb,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$m(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $m(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const ZN=new ue("",{providedIn:"root",factory:()=>oe(fo).handleError.bind(void 0)});function b$(){const e=oe(st),n=oe(fo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let w$=(()=>{class e{constructor(){this.zone=oe(st),this.applicationRef=oe(ra)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let cs=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=E$}return e})();function E$(e){return function D$(e,n,t){if(ko(e)&&!t){const i=_i(e.index,n);return new Uh(i,i)}return 47&e.type?new Uh(n[vn],n):null}(Jn(),ee(),16==(16&e))}const L$=UN(null,"core",[]);let V$=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||e)(ne(ra))};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();function zb(e,n){const t=ct(e),i=n.elementInjector||cm();return new Hh(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let qb=null;function sa(){return qb}class J${}const Wn=new ue("DocumentToken");let Zb=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return oe(e3)},providedIn:"platform"})}return e})();const X$=new ue("Location Initialized");let e3=(()=>{class e extends Zb{constructor(){super(),this._doc=oe(Wn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sa().getBaseHref(this._doc)}onPopState(t){const i=sa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=sa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Kb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function pA(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function _o(e){return e&&"?"!==e[0]?"?"+e:e}let bl=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return oe(mA)},providedIn:"root"})}return e})();const gA=new ue("appBaseHref");let mA=(()=>{class e extends bl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??oe(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+_o(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+_o(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+_o(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Zb),ne(gA,8))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t3=(()=>{class e extends bl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Kb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+_o(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+_o(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Zb),ne(gA,8))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})(),Yb=(()=>{class e{constructor(t){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function r3(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(pA(_A(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+_o(i))}normalize(t){return e.stripTrailingSlash(function i3(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,_A(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_o(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_o(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=_o;static#t=this.joinWithSlash=Kb;static#n=this.stripTrailingSlash=pA;static#i=this.\u0275fac=function(i){return new(i||e)(ne(bl))};static#r=this.\u0275prov=ce({token:e,factory:function(){return function n3(){return new Yb(ne(bl))}()},providedIn:"root"})}return e})();function _A(e){return e.replace(/\/index.html$/,"")}function NA(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}let aa=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new H3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(O(Gr),O(Cn))};static#t=this.\u0275dir=ae({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class H3{constructor(){this.$implicit=null,this.ngIf=null}}function OA(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${jt(n)}'.`)}let PA=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275pipe=Un({name:"json",type:e,pure:!1,standalone:!0})}return e})(),pG=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();function hw(e){return"server"===e}let vG=(()=>{class e{static#e=this.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new yG(ne(Wn),window)})}return e})();class yG{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function bG(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class LA{}class $G extends J${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gw extends $G{static makeCurrent(){!function Q$(e){qb||(qb=e)}(new gw)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function GG(){return mf=mf||document.querySelector("base"),mf?mf.getAttribute("href"):null}();return null==t?null:function WG(e){o_=o_||document.createElement("a"),o_.setAttribute("href",e);const n=o_.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return NA(document.cookie,n)}}let o_,mf=null,qG=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const mw=new ue("EventManagerPlugins");let HA=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(ne(mw),ne(st))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();class $A{constructor(n){this._doc=n}}const _w="ng-app-id";let GA=(()=>{class e{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hw(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${_w}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(_w),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(_w,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn),ne(um),ne(YI,8),ne(Ls))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const vw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yw=/%COMP%/g,QG=new ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function zA(e,n){return n.map(t=>t.replace(yw,e))}let qA=(()=>{class e{constructor(t,i,r,s,o,a,l,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=hw(a),this.defaultRenderer=new bw(t,o,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fn.ShadowDom&&(i={...i,encapsulation:Fn.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof KA?r.applyToHost(t):r instanceof ww&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Fn.Emulated:s=new KA(l,d,i,this.appId,p,o,a,g);break;case Fn.ShadowDom:return new t8(l,d,t,i,o,a,this.nonce,g);default:s=new ww(l,d,i,p,o,a,g)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(ne(HA),ne(GA),ne(um),ne(QG),ne(Wn),ne(Ls),ne(st),ne(YI))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();class bw{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(vw[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(ZA(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(ZA(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new G(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const s=vw[r];s?n.setAttributeNS(s,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=vw[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Xo.DashCase|Xo.Important)?n.style.setProperty(t,i,r&Xo.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Xo.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=sa().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function ZA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class t8 extends bw{constructor(n,t,i,r,s,o,a,l){super(n,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=zA(r.id,r.styles);for(const p of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ww extends bw{constructor(n,t,i,r,s,o,a,l){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?zA(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KA extends ww{constructor(n,t,i,r,s,o,a,l){const d=r+"-"+i.id;super(n,t,i,s,o,a,l,d),this.contentAttr=function JG(e){return"_ngcontent-%COMP%".replace(yw,e)}(d),this.hostAttr=function XG(e){return"_nghost-%COMP%".replace(yw,e)}(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let n8=(()=>{class e extends $A{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const YA=["alt","control","meta","shift"],i8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let s8=(()=>{class e extends $A{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sa().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),YA.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),o+=d+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=i8[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),YA.forEach(o=>{o!==r&&(0,r8[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const c8=UN(L$,"browser",[{provide:Ls,useValue:"browser"},{provide:KI,useValue:function o8(){gw.makeCurrent()},multi:!0},{provide:Wn,useFactory:function l8(){return function JL(e){l0=e}(document),document},deps:[]}]),u8=new ue(""),XA=[{provide:Hm,useClass:class zG{addToWindow(n){Mt.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new G(5103,!1);return s},Mt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Mt.getAllAngularRootElements=()=>n.getAllRootElements(),Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(i=>{const r=Mt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?sa().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:FN,useClass:kb,deps:[st,Fb,Hm]},{provide:kb,useClass:kb,deps:[st,Fb,Hm]}],eR=[{provide:v0,useValue:"root"},{provide:fo,useFactory:function a8(){return new fo},deps:[]},{provide:mw,useClass:n8,multi:!0,deps:[Wn,st,Ls]},{provide:mw,useClass:s8,multi:!0,deps:[Wn]},qA,GA,HA,{provide:O0,useExisting:qA},{provide:LA,useClass:qG,deps:[]},[]];let d8=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:um,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(ne(u8,12))};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({providers:[...eR,...XA],imports:[pG,V$]})}return e})(),tR=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn))};static#t=this.\u0275prov=ce({token:e,factory:function(i){let r=null;return r=i?new i:function f8(){return new tR(ne(Wn))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:y8}=Array,{getPrototypeOf:b8,prototype:w8,keys:C8}=Object;function sR(e){if(1===e.length){const n=e[0];if(y8(n))return{args:n,keys:null};if(function E8(e){return e&&"object"==typeof e&&b8(e)===w8}(n)){const t=C8(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:D8}=Array;function Ew(e){return ge(n=>function I8(e,n){return D8(n)?e(...n):e(n)}(e,n))}function oR(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Dw(...e){const n=Es(e),t=ts(e),{args:i,keys:r}=sR(e);if(0===i.length)return S([],n);const s=new $e(function T8(e,n,t=an){return i=>{aR(n,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)aR(n,()=>{const d=S(e[l],n);let p=!1;d.subscribe(he(i,g=>{s[l]=g,p||(p=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>oR(r,o):an));return t?s.pipe(Ew(t)):s}function aR(e,n,t){e?An(t,e,n):n()}const a_=Ie(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _f(...e){return function S8(){return Ct(1)}()(S(e,Es(e)))}function lR(e){return new $e(n=>{se(e()).subscribe(n)})}function vf(e,n){const t=b(e)?e:()=>e,i=r=>r.error(t());return new $e(n?r=>n.schedule(i,0,r):i)}function Iw(){return H((e,n)=>{let t=null;e._refCount++;const i=he(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class cR extends $e{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,J(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Xe;const t=this.getSubject();n.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Xe.EMPTY)}return n}refCount(){return Iw()(this)}}function Ci(e){return e<=0?()=>Bt:H((n,t)=>{let i=0;n.subscribe(he(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function qn(e,n){return H((t,i)=>{let r=0;t.subscribe(he(i,s=>e.call(n,s,r++)&&i.next(s)))})}function l_(e){return H((n,t)=>{let i=!1;n.subscribe(he(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function dR(e=N8){return H((n,t)=>{let i=!1;n.subscribe(he(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function N8(){return new a_}function ca(e,n){const t=arguments.length>=2;return i=>i.pipe(e?qn((r,s)=>e(r,s,i)):an,Ci(1),t?l_(n):dR(()=>new a_))}function Au(e,n){return b(n)?wt(e,n,1):wt(e,1)}function ti(e,n,t){const i=b(e)||n||t?{next:e,error:n,complete:t}:e;return i?H((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(he(s,l=>{var d;null===(d=i.next)||void 0===d||d.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var d;a=!1,null===(d=i.error)||void 0===d||d.call(i,l),s.error(l)},()=>{var l,d;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):an}function wl(e){return H((n,t)=>{let s,i=null,r=!1;i=n.subscribe(he(t,void 0,void 0,o=>{s=se(e(o,wl(e)(n))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Tw(e,n){return H(function A8(e,n,t,i,r){return(s,o)=>{let a=t,l=n,d=0;s.subscribe(he(o,p=>{const g=d++;l=a?e(l,p,g):(a=!0,p),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(e,n,arguments.length>=2,!0))}function Sw(e){return e<=0?()=>Bt:H((n,t)=>{let i=[];n.subscribe(he(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function yf(e){return H((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Mn(e){return H((n,t)=>{se(e).subscribe(he(t,()=>t.complete(),me)),!t.closed&&n.subscribe(t)})}const Ke="primary",bf=Symbol("RouteTitle");class M8{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ru(e){return new M8(e)}function O8(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Gs(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!fR(e[r],n[r]))return!1;return!0}function fR(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,s)=>i[s]===r)}return e===n}function pR(e){return e.length>0?e[e.length-1]:null}function ua(e){return function v8(e){return!!e&&(e instanceof $e||b(e.lift)&&b(e.subscribe))}(e)?e:Yh(e)?S(Promise.resolve(e)):W(e)}const P8={exact:function _R(e,n,t){if(!Cl(e.segments,n.segments)||!c_(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!_R(e.children[i],n.children[i],t))return!1;return!0},subset:vR},gR={exact:function k8(e,n){return Gs(e,n)},subset:function F8(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>fR(e[t],n[t]))},ignored:()=>!0};function mR(e,n,t){return P8[t.paths](e.root,n.root,t.matrixParams)&&gR[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function vR(e,n,t){return yR(e,n,n.segments,t)}function yR(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!Cl(r,t)||n.hasChildren()||!c_(r,t,i))}if(e.segments.length===t.length){if(!Cl(e.segments,t)||!c_(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!vR(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Cl(e.segments,r)&&c_(e.segments,r,i)&&e.children[Ke])&&yR(e.children[Ke],n,s,i)}}function c_(e,n,t){return n.every((i,r)=>gR[t](e[r].parameters,i.parameters))}class Mu{constructor(n=new Ut([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return B8.serialize(this)}}class Ut{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u_(this)}}class wf{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ru(this.parameters)),this._parameterMap}toString(){return CR(this)}}function Cl(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let Cf=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return new Nw},providedIn:"root"})}return e})();class Nw{parse(n){const t=new Y8(n);return new Mu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Ef(n.root,!0)}`,i=function H8(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(r=>`${d_(t)}=${d_(r)}`).join("&"):`${d_(t)}=${d_(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function j8(e){return encodeURI(e)}(n.fragment)}`:""}`}}const B8=new Nw;function u_(e){return e.segments.map(n=>CR(n)).join("/")}function Ef(e,n){if(!e.hasChildren())return u_(e);if(n){const t=e.children[Ke]?Ef(e.children[Ke],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Ke&&i.push(`${r}:${Ef(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function V8(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===Ke&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Ke&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===Ke?[Ef(e.children[Ke],!1)]:[`${r}:${Ef(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ke]?`${u_(e)}/${t[0]}`:`${u_(e)}/(${t.join("//")})`}}function bR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d_(e){return bR(e).replace(/%3B/gi,";")}function Aw(e){return bR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h_(e){return decodeURIComponent(e)}function wR(e){return h_(e.replace(/\+/g,"%20"))}function CR(e){return`${Aw(e.path)}${function U8(e){return Object.keys(e).map(n=>`;${Aw(n)}=${Aw(e[n])}`).join("")}(e.parameters)}`}const $8=/^[^\/()?;#]+/;function Rw(e){const n=e.match($8);return n?n[0]:""}const G8=/^[^\/()?;=#]+/,z8=/^[^=?&#]+/,Z8=/^[^&#]+/;class Y8{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Ke]=new Ut(n,t)),i}parseSegment(){const n=Rw(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(n),new wf(h_(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function W8(e){const n=e.match(G8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Rw(this.remaining);r&&(i=r,this.capture(i))}n[h_(t)]=h_(i)}parseQueryParam(n){const t=function q8(e){const n=e.match(z8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function K8(e){const n=e.match(Z8);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=wR(t),s=wR(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Rw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new G(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=Ke);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ke]:new Ut([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new G(4011,!1)}}function ER(e){return e.segments.length>0?new Ut([],{[Ke]:e}):e}function DR(e){const n={};for(const i of Object.keys(e.children)){const s=DR(e.children[i]);if(i===Ke&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function Q8(e){if(1===e.numberOfChildren&&e.children[Ke]){const n=e.children[Ke];return new Ut(e.segments.concat(n.segments),n.children)}return e}(new Ut(e.segments,n))}function El(e){return e instanceof Mu}function IR(e){let n;const r=ER(function t(s){const o={};for(const l of s.children){const d=t(l);o[l.outlet]=d}const a=new Ut(s.url,o);return s===e&&(n=a),a}(e.root));return n??r}function TR(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return Mw(r,r,r,t,i);const s=function X8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new NR(!0,0,e);let n=0,t=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new NR(t,n,i)}(n);if(s.toRoot())return Mw(r,r,new Ut([],{}),t,i);const o=function eW(e,n,t){if(e.isAbsolute)return new p_(n,!0,0);if(!t)return new p_(n,!1,NaN);if(null===t.parent)return new p_(t,!0,0);const i=f_(e.commands[0])?0:1;return function tW(e,n,t){let i=e,r=n,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new G(4005,!1);r=i.segments.length}return new p_(i,!1,r-s)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(s,r,e),a=o.processChildren?If(o.segmentGroup,o.index,s.commands):AR(o.segmentGroup,o.index,s.commands);return Mw(r,o.segmentGroup,a,t,i)}function f_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Df(e){return"object"==typeof e&&null!=e&&e.outlets}function Mw(e,n,t,i,r){let o,s={};i&&Object.entries(i).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`}),o=e===n?t:SR(e,n,t);const a=ER(DR(o));return new Mu(a,s,r)}function SR(e,n,t){const i={};return Object.entries(e.children).forEach(([r,s])=>{i[r]=s===n?t:SR(s,n,t)}),new Ut(e.segments,i)}class NR{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&f_(i[0]))throw new G(4003,!1);const r=i.find(Df);if(r&&r!==pR(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class p_{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function AR(e,n,t){if(e||(e=new Ut([],{})),0===e.segments.length&&e.hasChildren())return If(e,n,t);const i=function iW(e,n,t){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return s;const o=e.segments[r],a=t[i];if(Df(a))break;const l=`${a}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!MR(l,d,o))return s;i+=2}else{if(!MR(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Ut(e.segments.slice(0,i.pathIndex),{});return s.children[Ke]=new Ut(e.segments.slice(i.pathIndex),e.children),If(s,0,r)}return i.match&&0===r.length?new Ut(e.segments,{}):i.match&&!e.hasChildren()?Ow(e,n,t):i.match?If(e,0,r):Ow(e,n,t)}function If(e,n,t){if(0===t.length)return new Ut(e.segments,{});{const i=function nW(e){return Df(e[0])?e[0].outlets:{[Ke]:e}}(t),r={};if(Object.keys(i).some(s=>s!==Ke)&&e.children[Ke]&&1===e.numberOfChildren&&0===e.children[Ke].segments.length){const s=If(e.children[Ke],n,t);return new Ut(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=AR(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Ut(e.segments,r)}}function Ow(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const s=t[r];if(Df(s)){const l=rW(s.outlets);return new Ut(i,l)}if(0===r&&f_(t[0])){i.push(new wf(e.segments[n].path,RR(t[0]))),r++;continue}const o=Df(s)?s.outlets[Ke]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&f_(a)?(i.push(new wf(o,RR(a))),r+=2):(i.push(new wf(o,{})),r++)}return new Ut(i,{})}function rW(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=Ow(new Ut([],{}),0,i))}),n}function RR(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function MR(e,n,t){return e==t.path&&Gs(n,t.parameters)}const Tf="imperative";class Ws{constructor(n,t){this.id=n,this.url=t}}class g_ extends Ws{constructor(n,t,i="imperative",r=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class da extends Ws{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends Ws{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ou extends Ws{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=16}}class m_ extends Ws{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OR extends Ws{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sW extends Ws{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oW extends Ws{constructor(n,t,i,r,s){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aW extends Ws{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lW extends Ws{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cW{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uW{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dW{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hW{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fW{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pW{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xR{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xw{}class Pw{constructor(n){this.url=n}}class gW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nf,this.attachRef=null}}let Nf=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new gW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class PR{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=kw(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=kw(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Fw(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Fw(n,this._root).map(t=>t.value)}}function kw(e,n){if(e===n.value)return n;for(const t of n.children){const i=kw(e,t);if(i)return i}return null}function Fw(e,n){if(e===n.value)return[n];for(const t of n.children){const i=Fw(e,t);if(i.length)return i.unshift(n),i}return[]}class bo{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function xu(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class kR extends PR{constructor(n,t){super(n),this.snapshot=t,Lw(this,n)}toString(){return this.snapshot.toString()}}function FR(e,n){const t=function mW(e,n){const o=new __([],{},{},"",{},Ke,n,null,{});return new VR("",new bo(o,[]))}(0,n),i=new k([new wf("",{})]),r=new k({}),s=new k({}),o=new k({}),a=new k(""),l=new Pu(i,r,o,a,s,Ke,n,t.root);return l.snapshot=t.root,new kR(new bo(l,[]),t)}class Pu{constructor(n,t,i,r,s,o,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ge(d=>d[bf]))??W(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(n=>Ru(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(n=>Ru(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LR(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function _W(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class __{get title(){return this.data?.[bf]}constructor(n,t,i,r,s,o,a,l,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VR extends PR{constructor(n,t){super(t),this.url=n,Lw(this,t)}toString(){return BR(this._root)}}function Lw(e,n){n.value._routerState=e,n.children.forEach(t=>Lw(e,t))}function BR(e){const n=e.children.length>0?` { ${e.children.map(BR).join(", ")} } `:"";return`${e.value}${n}`}function Vw(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Gs(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Gs(n.params,t.params)||e.paramsSubject.next(t.params),function x8(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Gs(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Gs(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Bw(e,n){const t=Gs(e.params,n.params)&&function L8(e,n){return Cl(e,n)&&e.every((t,i)=>Gs(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Bw(e.parent,n.parent))}let jw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=oe(Nf),this.location=oe(Gr),this.changeDetector=oe(cs),this.environmentInjector=oe(zi),this.inputBinder=oe(v_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vW(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}return e})();class vW{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Pu?this.route:n===Nf?this.childContexts:this.parent.get(n,t)}}const v_=new ue("");let jR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Dw([i.queryParams,i.params,i.data]).pipe(pt(([s,o,a],l)=>(a={...s,...o,...a},0===l?W(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function Y$(e){const n=ct(e);if(!n)return null;const t=new Hh(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();function Af(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function bW(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Af(e,i,r);return Af(e,i)})}(e,n,t);return new bo(i,r)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>Af(e,a)),o}}const i=function wW(e){return new Pu(new k(e.url),new k(e.params),new k(e.queryParams),new k(e.fragment),new k(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(s=>Af(e,s));return new bo(i,r)}}const Uw="ngNavigationCancelingError";function UR(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=El(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=HR(!1,0,n);return r.url=t,r.navigationBehaviorOptions=i,r}function HR(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[Uw]=!0,i.cancellationCode=n,t&&(i.url=t),i}function $R(e){return e&&e[Uw]}let GR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=si({type:e,selectors:[["ng-component"]],standalone:!0,features:[$r],decls:1,vars:0,template:function(i,r){1&i&&js(0,"router-outlet")},dependencies:[jw],encapsulation:2})}return e})();function Hw(e){const n=e.children&&e.children.map(Hw),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ke&&(t.component=GR),t}function hs(e){return e.outlet||Ke}function Rf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class AW{constructor(n,t,i,r,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Vw(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=xu(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=xu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,s=xu(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=xu(t);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new pW(s.value.snapshot))}),n.children.length&&this.forwardEvent(new hW(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,s=t?t.value:null;if(Vw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vw(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=Rf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class WR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class y_{constructor(n,t){this.component=n,this.route=t}}function RW(e,n,t){const i=e._root;return Mf(i,n?n._root:null,t,[i.value])}function ku(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function ty(e){return null!==rc(e)}(e)?n.get(e):e:i}function Mf(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(n);return e.children.forEach(o=>{(function OW(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function xW(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Cl(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Cl(e.url,n.url)||!Gs(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bw(e,n)||!Gs(e.queryParams,n.queryParams);default:return!Bw(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new WR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Mf(e,n,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new y_(a.outlet.component,o))}else o&&Of(n,a,r),r.canActivateChecks.push(new WR(i)),Mf(e,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Of(a,t.getContext(o),r)),r}function Of(e,n,t){const i=xu(e),r=e.value;Object.entries(i).forEach(([s,o])=>{Of(o,r.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new y_(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function xf(e){return"function"==typeof e}function zR(e){return e instanceof a_||"EmptyError"===e?.name}const b_=Symbol("INITIAL_VALUE");function Fu(){return pt(e=>Dw(e.map(n=>n.pipe(Ci(1),function uR(...e){const n=Es(e);return H((t,i)=>{(n?_f(e,t,n):_f(e,t)).subscribe(i)})}(b_)))).pipe(ge(n=>{for(const t of n)if(!0!==t){if(t===b_)return b_;if(!1===t||t instanceof Mu)return t}return!0}),qn(n=>n!==b_),Ci(1)))}function qR(e){return function Ji(...e){return Xi(e)}(ti(n=>{if(El(n))throw UR(0,n)}),ge(n=>!0===n))}class w_{constructor(n){this.segmentGroup=n||null}}class ZR{constructor(n){this.urlTree=n}}function Lu(e){return vf(new w_(e))}function KR(e){return vf(new ZR(e))}class XW{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new G(4002,!1)}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return W(i);if(r.numberOfChildren>1||!r.children[Ke])return vf(new G(4e3,!1));r=r.children[Ke]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,r){const s=this.createSegmentGroup(n,t.root,i,r);return new Mu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(n,t,i,r){const s=this.createSegments(n,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(n,l,i,r)}),new Ut(s,o)}createSegments(n,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new G(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const $w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ez(e,n,t,i,r){const s=Gw(e,n,t);return s.matched?(i=function EW(e,n){return e.providers&&!e._injector&&(e._injector=mb(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function YW(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?W(r.map(o=>{const a=ku(o,e);return ua(function BW(e){return e&&xf(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(Fu(),qR()):W(!0)}(i,n,t).pipe(ge(o=>!0===o?s:{...$w}))):W(s)}function Gw(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...$w}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||O8)(t,e,n);if(!r)return{...$w};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function YR(e,n,t,i){return t.length>0&&function iz(e,n,t){return t.some(i=>C_(e,n,i)&&hs(i)!==Ke)}(e,t,i)?{segmentGroup:new Ut(n,nz(i,new Ut(t,e.children))),slicedSegments:[]}:0===t.length&&function rz(e,n,t){return t.some(i=>C_(e,n,i))}(e,t,i)?{segmentGroup:new Ut(e.segments,tz(e,0,t,i,e.children)),slicedSegments:t}:{segmentGroup:new Ut(e.segments,e.children),slicedSegments:t}}function tz(e,n,t,i,r){const s={};for(const o of i)if(C_(e,t,o)&&!r[hs(o)]){const a=new Ut([],{});s[hs(o)]=a}return{...r,...s}}function nz(e,n){const t={};t[Ke]=n;for(const i of e)if(""===i.path&&hs(i)!==Ke){const r=new Ut([],{});t[hs(i)]=r}return t}function C_(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class lz{constructor(n,t,i,r,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new XW(this.urlSerializer,this.urlTree)}noMatchError(n){return new G(4002,!1)}recognize(){const n=YR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ke).pipe(wl(t=>{if(t instanceof ZR)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof w_?this.noMatchError(t):t}),ge(t=>{const i=new __([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),r=new bo(i,t),s=new VR("",r),o=function J8(e,n,t=null,i=null){return TR(IR(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Ke).pipe(wl(i=>{throw i instanceof w_?this.noMatchError(i):i}))}inheritParamsAndData(n){const t=n.value,i=LR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0)}processChildren(n,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return S(r).pipe(Au(s=>{const o=i.children[s],a=function SW(e,n){const t=e.filter(i=>hs(i)===n);return t.push(...e.filter(i=>hs(i)!==n)),t}(t,s);return this.processSegmentGroup(n,a,o,s)}),Tw((s,o)=>(s.push(...o),s)),l_(null),function R8(e,n){const t=arguments.length>=2;return i=>i.pipe(e?qn((r,s)=>e(r,s,i)):an,Sw(1),t?l_(n):dR(()=>new a_))}(),wt(s=>{if(null===s)return Lu(i);const o=QR(s);return function cz(e){e.sort((n,t)=>n.value.outlet===Ke?-1:t.value.outlet===Ke?1:n.value.outlet.localeCompare(t.value.outlet))}(o),W(o)}))}processSegment(n,t,i,r,s,o){return S(t).pipe(Au(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,i,r,s,o).pipe(wl(l=>{if(l instanceof w_)return W(null);throw l}))),ca(a=>!!a),wl(a=>{if(zR(a))return function oz(e,n,t){return 0===n.length&&!e.children[t]}(i,r,s)?W([]):Lu(i);throw a}))}processSegmentAgainstRoute(n,t,i,r,s,o,a){return function sz(e,n,t,i){return!!(hs(e)===i||i!==Ke&&C_(n,t,e))&&("**"===e.path||Gw(n,e,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,s,o):Lu(r):Lu(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?KR(s):this.applyRedirects.lineralizeSegments(i,s).pipe(wt(o=>{const a=new Ut(o,{});return this.processSegment(n,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:d,positionalParamSegments:p}=Gw(t,r,s);if(!a)return Lu(t);const g=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,p);return r.redirectTo.startsWith("/")?KR(g):this.applyRedirects.lineralizeSegments(r,g).pipe(wt(_=>this.processSegment(n,i,t,_.concat(d),o,!1)))}matchSegmentAgainstRoute(n,t,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?pR(r).parameters:{};a=W({snapshot:new __(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JR(i),hs(i),i.component??i._loadedComponent??null,i,XR(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ez(t,i,r,n).pipe(ge(({matched:l,consumedSegments:d,remainingSegments:p,parameters:g})=>l?{snapshot:new __(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JR(i),hs(i),i.component??i._loadedComponent??null,i,XR(i)),consumedSegments:d,remainingSegments:p}:null));return a.pipe(pt(l=>null===l?Lu(t):this.getChildConfig(n=i._injector??n,i,r).pipe(pt(({routes:d})=>{const p=i._loadedInjector??n,{snapshot:g,consumedSegments:_,remainingSegments:v}=l,{segmentGroup:C,slicedSegments:I}=YR(t,_,v,d);if(0===I.length&&C.hasChildren())return this.processChildren(p,d,C).pipe(ge(B=>null===B?null:[new bo(g,B)]));if(0===d.length&&0===I.length)return W([new bo(g,[])]);const A=hs(i)===s;return this.processSegment(p,d,C,I,A?Ke:s,!0).pipe(ge(B=>[new bo(g,B)]))}))))}getChildConfig(n,t,i){return t.children?W({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function KW(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?W(!0):W(r.map(o=>{const a=ku(o,e);return ua(function kW(e){return e&&xf(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(Fu(),qR())}(n,t,i).pipe(wt(r=>r?this.configLoader.loadChildren(n,t).pipe(ti(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function JW(e){return vf(HR(!1,3))}())):W({routes:[],injector:n})}}function uz(e){const n=e.value.routeConfig;return n&&""===n.path}function QR(e){const n=[],t=new Set;for(const i of e){if(!uz(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=QR(i.children);n.push(new bo(i.value,r))}return n.filter(i=>!t.has(i))}function JR(e){return e.data||{}}function XR(e){return e.resolve||{}}function hz(e,n){return wt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let s=0;return S(r).pipe(Au(o=>function fz(e,n,t,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!eM(r)&&(s[bf]=r.title),function pz(e,n,t,i){const r=function gz(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return W({});const s={};return S(r).pipe(wt(o=>function mz(e,n,t,i){const r=Rf(n)??i,s=ku(e,r);return ua(s.resolve?s.resolve(n,t):r.runInContext(()=>s(n,t)))}(e[o],n,t,i).pipe(ca(),ti(a=>{s[o]=a}))),Sw(1),function hR(e){return ge(()=>e)}(s),wl(o=>zR(o)?Bt:vf(o)))}(s,e,n,i).pipe(ge(o=>(e._resolvedData=o,e.data=LR(e,t).resolve,r&&eM(r)&&(e.data[bf]=r.title),null)))}(o.route,i,e,n)),ti(()=>s++),Sw(1),wt(o=>s===r.length?W(t):Bt))})}function eM(e){return"string"==typeof e.title||null===e.title}function Ww(e){return pt(n=>{const t=e(n);return t?S(t).pipe(ge(()=>n)):W(n)})}const Vu=new ue("ROUTES");let zw=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(ON)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ua(t.loadComponent()).pipe(ge(tM),ti(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),yf(()=>{this.componentLoaders.delete(t)})),r=new cR(i,()=>new L).pipe(Iw());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function _z(e,n,t,i){return ua(e.loadChildren()).pipe(ge(tM),wt(r=>r instanceof jS||Array.isArray(r)?W(r):S(n.compileModuleAsync(r))),ge(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Hw),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(yf(()=>{this.childrenLoaders.delete(i)})),o=new cR(s,()=>new L).pipe(Iw());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tM(e){return function vz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let E_=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L,this.transitionAbortSubject=new L,this.configLoader=oe(zw),this.environmentInjector=oe(zi),this.urlSerializer=oe(Cf),this.rootContexts=oe(Nf),this.inputBindingEnabled=null!==oe(v_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new uW(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new cW(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new k({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qn(s=>0!==s.id),ge(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),pt(s=>{this.currentTransition=s;let o=!1,a=!1;return W(s).pipe(ti(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pt(l=>{const d=l.currentBrowserUrl.toString(),p=!t.navigated||l.extractedUrl.toString()!==d||d!==l.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const _="";return this.events.next(new Ou(l.id,this.urlSerializer.serialize(l.rawUrl),_,0)),l.resolve(null),Bt}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(pt(_=>{const v=this.transitions?.getValue();return this.events.next(new g_(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),v!==this.transitions?.getValue()?Bt:Promise.resolve(_)}),function dz(e,n,t,i,r,s){return wt(o=>function az(e,n,t,i,r,s,o="emptyOnly"){return new lz(e,n,t,i,r,o,s).recognize()}(e,n,t,i,o.extractedUrl,r,s).pipe(ge(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ti(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const v=new OR(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(v)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:_,extractedUrl:v,source:C,restoredState:I,extras:A}=l,B=new g_(_,this.urlSerializer.serialize(v),C,I);this.events.next(B);const M=FR(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:M,urlAfterRedirects:v,extras:{...A,skipLocationChange:!1,replaceUrl:!1}},W(s)}{const _="";return this.events.next(new Ou(l.id,this.urlSerializer.serialize(l.extractedUrl),_,1)),l.resolve(null),Bt}}),ti(l=>{const d=new sW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ge(l=>(this.currentTransition=s={...l,guards:RW(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function UW(e,n){return wt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function HW(e,n,t,i){return S(e).pipe(wt(r=>function ZW(e,n,t,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=Rf(n)??r,d=ku(a,l);return ua(function VW(e){return e&&xf(e.canDeactivate)}(d)?d.canDeactivate(e,n,t,i):l.runInContext(()=>d(e,n,t,i))).pipe(ca())})).pipe(Fu()):W(!0)}(r.component,r.route,t,n,i)),ca(r=>!0!==r,!0))}(o,i,r,e).pipe(wt(a=>a&&function PW(e){return"boolean"==typeof e}(a)?function $W(e,n,t,i){return S(n).pipe(Au(r=>_f(function WW(e,n){return null!==e&&n&&n(new dW(e)),W(!0)}(r.route.parent,i),function GW(e,n){return null!==e&&n&&n(new fW(e)),W(!0)}(r.route,i),function qW(e,n,t){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function MW(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>lR(()=>W(o.guards.map(l=>{const d=Rf(o.node)??t,p=ku(l,d);return ua(function LW(e){return e&&xf(e.canActivateChild)}(p)?p.canActivateChild(i,e):d.runInContext(()=>p(i,e))).pipe(ca())})).pipe(Fu())));return W(s).pipe(Fu())}(e,r.path,t),function zW(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return W(!0);const r=i.map(s=>lR(()=>{const o=Rf(n)??t,a=ku(s,o);return ua(function FW(e){return e&&xf(e.canActivate)}(a)?a.canActivate(n,e):o.runInContext(()=>a(n,e))).pipe(ca())}));return W(r).pipe(Fu())}(e,r.route,t))),ca(r=>!0!==r,!0))}(i,s,e,n):W(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ti(l=>{if(s.guardsResult=l.guardsResult,El(l.guardsResult))throw UR(0,l.guardsResult);const d=new oW(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),qn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Ww(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(ti(d=>{const p=new aW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),pt(d=>{let p=!1;return W(d).pipe(hz(t.paramsInheritanceStrategy,this.environmentInjector),ti({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),ti(d=>{const p=new lW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Ww(l=>{const d=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ti(_=>{p.component=_}),ge(()=>{})));for(const _ of p.children)g.push(...d(_));return g};return Dw(d(l.targetSnapshot.root)).pipe(l_(),Ci(1))}),Ww(()=>this.afterPreactivation()),ge(l=>{const d=function yW(e,n,t){const i=Af(e,n._root,t?t._root:void 0);return new kR(i,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:d},s}),ti(()=>{this.events.next(new xw)}),((e,n,t,i)=>ge(r=>(new AW(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ci(1),ti({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new da(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Mn(this.transitionAbortSubject.pipe(ti(l=>{throw l}))),yf(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),wl(l=>{if(a=!0,$R(l))this.events.next(new Sf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function CW(e){return $R(e)&&El(e.url)}(l)?this.events.next(new Pw(l.url)):s.resolve(!1);else{this.events.next(new m_(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(d){s.reject(d)}}return Bt}))}))}cancelNavigationTransition(t,i,r){const s=new Sf(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nM(e){return e!==Tf}let iM=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ke);return i}getResolvedTitleForRoute(t){return t.data[bf]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return oe(yz)},providedIn:"root"})}return e})(),yz=(()=>{class e extends iM{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(tR))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bz=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return oe(Cz)},providedIn:"root"})}return e})();class wz{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Cz=(()=>{class e extends wz{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=cn(e)))(r||e)}}();static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const D_=new ue("",{providedIn:"root",factory:()=>({})});let Ez=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:function(){return oe(Dz)},providedIn:"root"})}return e})(),Dz=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Pf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Pf||{});function rM(e,n){e.events.pipe(qn(t=>t instanceof da||t instanceof Sf||t instanceof m_||t instanceof Ou),ge(t=>t instanceof da||t instanceof Ou?Pf.COMPLETE:t instanceof Sf&&(0===t.code||1===t.code)?Pf.REDIRECTING:Pf.FAILED),qn(t=>t!==Pf.REDIRECTING),Ci(1)).subscribe(()=>{n()})}function Iz(e){throw e}function Tz(e,n,t){return n.parse("/")}const Sz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=oe(MN),this.isNgZoneEnabled=!1,this._events=new L,this.options=oe(D_,{optional:!0})||{},this.pendingTasks=oe(jm),this.errorHandler=this.options.errorHandler||Iz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Tz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=oe(Ez),this.routeReuseStrategy=oe(bz),this.titleStrategy=oe(iM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=oe(Vu,{optional:!0})?.flat()??[],this.navigationTransitions=oe(E_),this.urlSerializer=oe(Cf),this.location=oe(Yb),this.componentInputBindingEnabled=!!oe(v_,{optional:!0}),this.eventsSubscription=new Xe,this.isNgZoneEnabled=oe(st)instanceof st&&st.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(sM(i)&&this._events.next(i));if(i instanceof g_)nM(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Ou)this.rawUrlTree=r.rawUrl;else if(i instanceof OR){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof xw)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Sf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Pw){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nM(r.source)};this.scheduleNavigation(s,Tf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof m_&&this.restoreHistory(r,!0),i instanceof da&&(this.navigated=!0),sM(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Hw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:o;let g,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{g=IR(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return TR(g,t,p,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=El(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Tf,null,i)}navigate(t,i={skipLocationChange:!1}){return function Az(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new G(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Sz}:!1===i?{...Nz}:i,El(t))return mR(this.currentUrlTree,t,r);const s=this.parseUrl(t);return mR(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,d;o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,l=_});const p=this.pendingTasks.add();return rM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sM(e){return!(e instanceof xw||e instanceof Pw)}class oM{}let Oz=(()=>{class e{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qn(t=>t instanceof da),Au(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=mb(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return S(r).pipe(Ct())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):W(null);const s=r.pipe(wt(o=>null===o?W(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?S([s,this.loader.loadComponent(i)]).pipe(Ct()):s})}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Zr),ne(ON),ne(zi),ne(oM),ne(zw))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Zw=new ue("");let aM=(()=>{class e{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof g_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof da?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ou&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function ST(){throw new Error("invalid")}()};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();function wo(e,n){return{\u0275kind:e,\u0275providers:n}}function cM(){const e=oe(wi);return n=>{const t=e.get(ra);if(n!==t.components[0])return;const i=e.get(Zr),r=e.get(uM);1===e.get(Kw)&&i.initialNavigation(),e.get(dM,null,Je.Optional)?.setUpPreloading(),e.get(Zw,null,Je.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const uM=new ue("",{factory:()=>new L}),Kw=new ue("",{providedIn:"root",factory:()=>1}),dM=new ue("");function Fz(e){return wo(0,[{provide:dM,useExisting:Oz},{provide:oM,useExisting:e}])}const hM=new ue("ROUTER_FORROOT_GUARD"),Vz=[Yb,{provide:Cf,useClass:Nw},Zr,Nf,{provide:Pu,useFactory:function lM(e){return e.routerState.root},deps:[Zr]},zw,[]];function Bz(){return new BN("Router",Zr)}let fM=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[Vz,[],{provide:Vu,multi:!0,useValue:t},{provide:hM,useFactory:$z,deps:[[Zr,new Qo,new Jo]]},{provide:D_,useValue:i||{}},i?.useHash?{provide:bl,useClass:t3}:{provide:bl,useClass:mA},{provide:Zw,useFactory:()=>{const e=oe(vG),n=oe(st),t=oe(D_),i=oe(E_),r=oe(Cf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new aM(r,i,e,n,t)}},i?.preloadingStrategy?Fz(i.preloadingStrategy).\u0275providers:[],{provide:BN,multi:!0,useFactory:Bz},i?.initialNavigation?Gz(i):[],i?.bindToComponentInputs?wo(8,[jR,{provide:v_,useExisting:jR}]).\u0275providers:[],[{provide:pM,useFactory:cM},{provide:Bb,multi:!0,useExisting:pM}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Vu,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||e)(ne(hM,8))};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();function $z(e){return"guarded"}function Gz(e){return["disabled"===e.initialNavigation?wo(3,[{provide:Mb,multi:!0,useFactory:()=>{const n=oe(Zr);return()=>{n.setUpLocationChangeListener()}}},{provide:Kw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?wo(2,[{provide:Kw,useValue:0},{provide:Mb,multi:!0,deps:[wi],useFactory:n=>{const t=n.get(X$,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=n.get(Zr),s=n.get(uM);rM(r,()=>{i(!0)}),n.get(E_).afterPreactivation=()=>(i(!0),s.closed?W(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const pM=new ue("");Le(999);var Bu=Le(534);(0,Bu.registerVersion)("firebase","10.8.0","app");class Zz extends Xe{constructor(n,t){super()}schedule(n,t=0){return this}}const I_={setInterval(e,n,...t){const{delegate:i}=I_;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=I_;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class gM extends Zz{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,i=0){return I_.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&I_.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Re(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const Yw={now:()=>(Yw.delegate||Date).now(),delegate:void 0};class kf{constructor(n,t=kf.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}kf.now=Yw.now;class mM extends kf{constructor(n,t=kf.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const Qz=new class Yz extends mM{}(class Kz extends gM{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}}),T_=new mM(gM),Jz=T_,Qw=new au("ANGULARFIRE2_VERSION");class _M{constructor(){return((e,n)=>{const t=(0,Bu.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(e).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i})(e4)}}const e4="app-check";function ju(){}class vM{zone;delegate;constructor(n,t=Qz){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{n.apply(this,[o])})},t,i)}}class t4{zone;task=null;constructor(n){this.zone=n}call(n,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ju,{},ju,ju)),t.pipe(ti({next:i,complete:i,error:i})).subscribe(n).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yM=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vM(Zone.current)),this.insideAngular=t.run(()=>new vM(Zone.current,T_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(ne(st))};static \u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ha(e){return function i4(e){return function(t){return(t=t.lift(new t4(e.ngZone))).pipe(Ni(e.outsideAngular),fi(e.insideAngular))}}(function Uu(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var fa=Le(106);fa.Z.registerVersion("firebase","10.8.0","app-compat");const a4=["ngOnDestroy"];class bM{constructor(n){return n}}const S_=new ue("angularfire2.app.options"),N_=new ue("angularfire2.app.name");function Jw(e,n,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const o=fa.Z.apps.filter(a=>a&&a.name===r.name)[0]||n.runOutsideAngular(()=>fa.Z.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(o.options)){const a=!!module.hot;u4("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new bM(o)}const u4=(e,...n)=>{},d4={provide:bM,useFactory:Jw,deps:[S_,st,[new Qo,N_]]};let h4=(()=>{class e{static initializeApp(t,i){return{ngModule:e,providers:[{provide:S_,useValue:t},{provide:N_,useValue:i}]}}constructor(t){fa.Z.registerVersion("angularfire",Qw.full,"core"),fa.Z.registerVersion("angularfire",Qw.full,"app-compat"),fa.Z.registerVersion("angular",nT.full,t.toString())}static \u0275fac=function(i){return new(i||e)(ne(Ls))};static \u0275mod=yt({type:e});static \u0275inj=ht({providers:[d4]})}return e})();function wM(e,n,t,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(s)return function f4(e,n){try{return e.toString()===n.toString()}catch{return e===n}}(r,o)||(CM("error",`${n} was already initialized on the ${t} Firebase App with different settings.${p4?" You may need to reload as Firebase is not HMR aware.":""}`),CM("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}const p4=typeof module<"u"&&!!module.hot,CM=(e,...n)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class g4 extends L{constructor(n=1/0,t=1/0,i=Yw){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(n),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!n.closed;o+=i?1:2)n.next(s[o]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function EM(e,n,t){let i,r=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e):i=e??1/0,Pe({connector:()=>new g4(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function DM(e,n){return b(n)?pt(()=>e,n):pt(()=>e)}const IM=new ue("angularfire2.auth.use-emulator"),TM=new ue("angularfire2.auth.settings"),SM=new ue("angularfire2.auth.tenant-id"),NM=new ue("angularfire2.auth.langugage-code"),AM=new ue("angularfire2.auth.use-device-language"),RM=new ue("angularfire.auth.persistence"),MM=(e,n,t,i,r,s,o,a)=>wM(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=n.runOutsideAngular(()=>e.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[d,p]of Object.entries(o))l.settings[d]=p;return a&&l.setPersistence(a),l},[t,i,r,s,o,a]);let Xw=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,s,o,a,l,d,p,g,_,v){const C=new L,I=W(void 0).pipe(fi(o.outsideAngular),pt(()=>s.runOutsideAngular(()=>Promise.resolve().then(Le.bind(Le,999)))),ge(()=>Jw(t,s,i)),ge(A=>MM(A,s,a,d,p,g,l,_)),EM({bufferSize:1,refCount:!1}));if(hw(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=W(null);else{I.pipe(ca()).subscribe();const A=I.pipe(pt(K=>K.getRedirectResult().then(ie=>ie,()=>null)),ha,EM({bufferSize:1,refCount:!1})),B=I.pipe(pt(K=>new $e(ie=>({unsubscribe:s.runOutsideAngular(()=>K.onAuthStateChanged(de=>ie.next(de),de=>ie.error(de),()=>ie.complete()))})))),M=I.pipe(pt(K=>new $e(ie=>({unsubscribe:s.runOutsideAngular(()=>K.onIdTokenChanged(de=>ie.next(de),de=>ie.error(de),()=>ie.complete()))}))));this.authState=A.pipe(DM(B),Ni(o.outsideAngular),fi(o.insideAngular)),this.user=A.pipe(DM(M),Ni(o.outsideAngular),fi(o.insideAngular)),this.idToken=this.user.pipe(pt(K=>K?S(K.getIdToken()):W(null))),this.idTokenResult=this.user.pipe(pt(K=>K?S(K.getIdTokenResult()):W(null))),this.credential=z(A,C,this.authState.pipe(qn(K=>!K))).pipe(ge(K=>K?.user?K:null),Ni(o.outsideAngular),fi(o.insideAngular))}return((e,n,t,i={})=>new Proxy(e,{get:(r,s)=>t.runOutsideAngular(()=>{if(e[s])return i?.spy?.get&&i.spy.get(s,e[s]),e[s];if(a4.indexOf(s)>-1)return()=>{};const o=n.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>t.run(()=>d)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,d)=>o.then(p=>{const g=p?.(...d);return i?.spy?.apply&&i.spy.apply(s,d,g),g})})})}))(this,I,s,{spy:{apply:(A,B,M)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&M.then(K=>C.next(K))}}})}static \u0275fac=function(i){return new(i||e)(ne(S_),ne(N_,8),ne(Ls),ne(st),ne(yM),ne(IM,8),ne(TM,8),ne(SM,8),ne(NM,8),ne(AM,8),ne(RM,8),ne(_M,8))};static \u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),_4=(()=>{class e{constructor(t){this.afAuth=t,this.url="https://us-central1-hibajegykezelo-abbcf.cloudfunctions.net/api",this.isLogged=new k(null),this.actionCodeSettings={url:"https://hibajegykezelo-abbcf.web.app",handleCodeInApp:!0},this.afAuth.authState.subscribe(i=>{this.isLogged.next(i)})}getLoggedUser(){return this.isLogged}sendInEmailLink(t){console.log("Email c\xedm:",t),this.afAuth.sendSignInLinkToEmail(t,this.actionCodeSettings).then(i=>console.log("email elk\xfcldve")).catch(i=>console.log("email hiba"))}signInEmailLink(t){return this.afAuth.signInWithEmailLink(t)}logout(){this.afAuth.signOut()}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Xw))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A_(...e){const n=ts(e);return H((t,i)=>{const r=e.length,s=new Array(r);let o=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)se(e[l]).subscribe(he(i,d=>{s[l]=d,!a&&!o[l]&&(o[l]=!0,(a=o.every(an))&&(o=null))},me));t.subscribe(he(i,l=>{if(a){const d=[l,...s];i.next(n?n(...d):d)}}))})}var Il=Le(537),y4=Le(861),w=Le(58),eC=Le(879);const OM="@firebase/database";let tC="";function nC(e){tC=e}class b4{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,w.Wl)(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:(0,w.cI)(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class w4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return(0,w.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const PM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new b4(n)}}catch{}return new w4},Tl=PM("localStorage"),iC=PM("sessionStorage"),Hu=new eC.Yd("@firebase/database"),kM=function(){let e=1;return function(){return e++}}(),FM=function(e){const n=(0,w.dS)(e),t=new w.gQ;t.update(n);const i=t.digest();return w.US.encodeByteArray(i)},Ff=function(...e){let n="";for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Ff.apply(null,i):n+="object"==typeof i?(0,w.Wl)(i):i,n+=" "}return n};let Sl=null,LM=!0;const VM=function(e,n){(0,w.hu)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Hu.logLevel=eC.in.VERBOSE,Sl=Hu.log.bind(Hu),n&&iC.set("logging_enabled",!0)):"function"==typeof e?Sl=e:(Sl=null,iC.remove("logging_enabled"))},li=function(...e){if(!0===LM&&(LM=!1,null===Sl&&!0===iC.get("logging_enabled")&&VM(!0)),Sl){const n=Ff.apply(null,e);Sl(n)}},Lf=function(e){return function(...n){li(e,...n)}},rC=function(...e){const n="FIREBASE INTERNAL ERROR: "+Ff(...e);Hu.error(n)},zs=function(...e){const n=`FIREBASE FATAL ERROR: ${Ff(...e)}`;throw Hu.error(n),new Error(n)},Li=function(...e){const n="FIREBASE WARNING: "+Ff(...e);Hu.warn(n)},R_=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},pa="[MIN_NAME]",Co="[MAX_NAME]",Nl=function(e,n){if(e===n)return 0;if(e===pa||n===Co)return-1;if(n===pa||e===Co)return 1;{const t=UM(e),i=UM(n);return null!==t?null!==i?t-i==0?e.length-n.length:t-i:-1:null!==i?1:e<n?-1:1}},D4=function(e,n){return e===n?0:e<n?-1:1},Vf=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+(0,w.Wl)(n))},sC=function(e){if("object"!=typeof e||null===e)return(0,w.Wl)(e);const n=[];for(const i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)0!==i&&(t+=","),t+=(0,w.Wl)(n[i]),t+=":",t+=sC(e[n[i]]);return t+="}",t},BM=function(e,n){const t=e.length;if(t<=n)return[e];const i=[];for(let r=0;r<t;r+=n)i.push(e.substring(r,r+n>t?t:r+n));return i};function ci(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const jM=function(e){(0,w.hu)(!R_(e),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===e?(s=0,o=0,r=1/e==-1/0?1:0):(r=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(e/Math.pow(2,-1074))));const d=[];for(l=52;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(r?1:0),d.reverse();const p=d.join("");let g="";for(l=0;l<64;l+=8){let _=parseInt(p.substr(l,8),2).toString(16);1===_.length&&(_="0"+_),g+=_}return g.toLowerCase()},N4=new RegExp("^-?(0*)\\d{1,10}$"),UM=function(e){if(N4.test(e)){const n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},$u=function(e){try{e()}catch(n){setTimeout(()=>{throw Li("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Bf=function(e,n){const t=setTimeout(e,n);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class O4{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Li(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class x4{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(li("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Li(n)}}let jf=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const zM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KM="websocket",YM="long_polling";class aC{constructor(n,t,i,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Tl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function QM(e,n,t){let i;if((0,w.hu)("string"==typeof n,"typeof type must == string"),(0,w.hu)("object"==typeof t,"typeof params must == object"),n===KM)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==YM)throw new Error("Unknown connection type: "+n);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function P4(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const r=[];return ci(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class k4{constructor(){this.counters_={}}incrementCounter(n,t=1){(0,w.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return(0,w.p$)(this.counters_)}}const lC={},cC={};function uC(e){const n=e.toString();return lC[n]||(lC[n]=new k4),lC[n]}class L4{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&$u(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ga{constructor(n,t,i,r,s,o,a){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lf(n),this.stats_=uC(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),QM(t,YM,l))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new L4(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,w.Yr)()||"complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dC((...s)=>{const[o,a,l,d,p]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&zM.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ga.forceAllow_=!0}static forceDisallow(){ga.forceDisallow_=!0}static isAvailable(){return!((0,w.Yr)()||!ga.forceAllow_&&(ga.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=(0,w.Wl)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,w.h$)(t),r=BM(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if((0,w.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=(0,w.Wl)(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class dC{constructor(n,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,w.Yr)())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=dC.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){li("frame writing exception"),a.stack&&li(a.stack),li(a)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||li("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(r),i()})}addTag(n,t){(0,w.Yr)()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{li("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let O_=null;typeof MozWebSocket<"u"?O_=MozWebSocket:typeof WebSocket<"u"&&(O_=WebSocket);let Gu=(()=>{class e{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lf(this.connId),this.stats_=uC(i),this.connURL=e.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const a={v:"5"};return!(0,w.Yr)()&&typeof location<"u"&&location.hostname&&zM.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),QM(t,KM,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tl.set("previous_websocket_failure",!0);try{let r;if((0,w.Yr)()){r={headers:{"User-Agent":`Firebase/5/${tC}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new O_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==O_&&!e.forceDisallow_}static previouslyFailed(){return Tl.isInMemoryStorage||!0===Tl.get("previous_websocket_failure")}markConnectionHealthy(){Tl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,w.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,w.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,w.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=BM(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),rO=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ga,Gu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Gu&&Gu.isAvailable();let r=i&&!Gu.previouslyFailed();if(t.webSocketOnly&&(i||Li("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Gu];else{const s=this.transports_=[];for(const o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class dO{constructor(n,t,i,r,s,o,a,l,d,p){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lf("c:"+this.id+":"),this.transportManager_=new rO(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=Bf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=Vf("t",n),i=Vf("d",n);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=Vf("t",n),i=Vf("d",n);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=Vf("t",n);if("d"in n){const i=n.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?rC("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rC("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Li("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Bf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hO{put(n,t,i,r){}merge(n,t,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}}class fO{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,w.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});const r=this.getInitialEvent(n);r&&t.apply(i,r)}off(n,t,i){this.validateEventType_(n);const r=this.listeners_[n]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(n){(0,w.hu)(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class x_ extends fO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,w.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new x_}getInitialEvent(n){return(0,w.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Vt{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function It(){return new Vt("")}function at(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ma(e){return e.pieces_.length-e.pieceNum_}function qt(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Vt(e.pieces_,n)}function fC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Uf(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function mO(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Vt(n,0)}function gn(e,n){const t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof Vt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{const i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Vt(t,0)}function lt(e){return e.pieceNum_>=e.pieces_.length}function Ki(e,n){const t=at(e),i=at(n);if(null===t)return n;if(t===i)return Ki(qt(e),qt(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function s5(e,n){const t=Uf(e,0),i=Uf(n,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Nl(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function pC(e,n){if(ma(e)!==ma(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function Kr(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(ma(e)>ma(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}class o5{constructor(n,t){this.errorPrefix_=t,this.parts_=Uf(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,w.ug)(this.parts_[i]);_O(this)}}function _O(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Al(e))}function Al(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class gC extends fO{constructor(){let n,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new gC}getInitialEvent(n){return(0,w.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Hf=1e3;let k_,Rl=(()=>{class e extends hO{constructor(t,i,r,s,o,a,l,d){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=e.nextPersistentConnectionId_++,this.log_=Lf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,w.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gC.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&x_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_((0,w.Wl)(o)),(0,w.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new w.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,w.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,w.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const d=l.d,p=l.s;e.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),"ok"!==p&&this.removeListen_(r,s),t.onComplete&&t.onComplete(p,d))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,w.r3)(t,"w")){const r=(0,w.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Li(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,w.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,w.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,w.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,w.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):rC("Unrecognized action received from server: "+(0,w.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,w.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,y4.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+e.nextConnectionId_++,a=t.lastSessionId;let l=!1,d=null;const p=function(){d?d.close():(l=!0,s())};t.realtime_={close:p,sendRequest:function(v){(0,w.hu)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)}};const _=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[v,C]=yield Promise.all([t.authTokenProvider_.getToken(_),t.appCheckTokenProvider_.getToken(_)]);l?li("getToken() completed but was canceled"):(li("getToken() completed. Creating connection."),t.authToken_=v&&v.accessToken,t.appCheckToken_=C&&C.token,d=new dO(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,I=>{Li(I+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(v){t.log_("Failed to get token: "+v),l||(t.repoInfo_.nodeAdmin&&Li(v),p())}}})()}interrupt(t){li("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){li("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,w.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>sC(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Vt(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){li("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){li("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,w.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+tC.replace(/\./g,"-")]=1,(0,w.uI)()?t["framework.cordova"]=1:(0,w.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=x_.getInstance().currentlyOnline();return(0,w.xb)(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class ut{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new ut(n,t)}}class P_{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const i=new ut(pa,n),r=new ut(pa,t);return 0!==this.compare(i,r)}minPost(){return ut.MIN}}class bO extends P_{static get __EMPTY_NODE(){return k_}static set __EMPTY_NODE(n){k_=n}compare(n,t){return Nl(n.name,t.name)}isDefinedOn(n){throw(0,w.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return ut.MIN}maxPost(){return new ut(Co,k_)}makePost(n,t){return(0,w.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new ut(n,k_)}toString(){return".key"}}const qs=new bO;class F_{constructor(n,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!n.isEmpty();)if(o=t?i(n.key,t):1,r&&(o*=-1),o<0)n=this.isReverse_?n.left:n.right;else{if(0===o){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let _C,fs=(()=>{class e{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??e.RED,this.left=s??cr.EMPTY_NODE,this.right=o??cr.EMPTY_NODE}copy(t,i,r,s,o){return new e(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return cr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return cr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class cr{constructor(n,t=cr.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new cr(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,fs.BLACK,null,null))}remove(n){return new cr(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,fs.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new F_(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new F_(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new F_(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new F_(this.root_,null,this.comparator_,!0,n)}}function p5(e,n){return Nl(e.name,n.name)}function mC(e,n){return Nl(e,n)}cr.EMPTY_NODE=new class f5{copy(n,t,i,r,s){return this}insert(n,t,i){return new fs(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wO=function(e){return"number"==typeof e?"number:"+jM(e):"string:"+e},CO=function(e){if(e.isLeafNode()){const n=e.val();(0,w.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,w.r3)(n,".sv"),"Priority must be a string or number.")}else(0,w.hu)(e===_C||e.isEmpty(),"priority of unexpected type.");(0,w.hu)(e===_C||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let EO,DO,IO,Wu=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,w.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),CO(this.priorityNode_)}static set __childrenNodeConstructor(t){EO=t}static get __childrenNodeConstructor(){return EO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return lt(t)?this:".priority"===at(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=at(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,w.hu)(".priority"!==r||1===ma(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+wO(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?jM(this.value_):this.value_,this.lazyHash_=FM(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,w.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(i),o=e.VALUE_TYPE_ORDER.indexOf(r);return(0,w.hu)(s>=0,"Unknown leaf type: "+i),(0,w.hu)(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const rn=new class v5 extends P_{compare(n,t){const i=n.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Nl(n.name,t.name):s}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return ut.MIN}maxPost(){return new ut(Co,new Wu("[PRIORITY-POST]",IO))}makePost(n,t){const i=DO(n);return new ut(t,new Wu("[PRIORITY-POST]",i))}toString(){return".priority"}},y5=Math.log(2);class b5{constructor(n){this.count=parseInt(Math.log(n+1)/y5,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&r}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const L_=function(e,n,t,i){e.sort(n);const r=function(l,d){const p=d-l;let g,_;if(0===p)return null;if(1===p)return g=e[l],_=t?t(g):g,new fs(_,g.node,fs.BLACK,null,null);{const v=parseInt(p/2,10)+l,C=r(l,v),I=r(v+1,d);return g=e[v],_=t?t(g):g,new fs(_,g.node,fs.BLACK,C,I)}},a=function(l){let d=null,p=null,g=e.length;const _=function(C,I){const A=g-C,B=g;g-=C;const M=r(A+1,B),K=e[A],ie=t?t(K):K;v(new fs(ie,K.node,I,null,M))},v=function(C){d?(d.left=C,d=C):(p=C,d=C)};for(let C=0;C<l.count;++C){const I=l.nextBitIsOne(),A=Math.pow(2,l.count-(C+1));I?_(A,fs.BLACK):(_(A,fs.BLACK),_(A,fs.RED))}return p}(new b5(e.length));return new cr(i||n,a)};let vC;const zu={};class Eo{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return(0,w.hu)(zu&&rn,"ChildrenNode.ts has not been loaded"),vC=vC||new Eo({".priority":zu},{".priority":rn}),vC}get(n){const t=(0,w.DV)(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof cr?t:null}hasIndex(n){return(0,w.r3)(this.indexSet_,n.toString())}addIndex(n,t){(0,w.hu)(n!==qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(ut.Wrap);let a,o=s.getNext();for(;o;)r=r||n.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?L_(i,n.getCompare()):zu;const l=n.toString(),d=Object.assign({},this.indexSet_);d[l]=n;const p=Object.assign({},this.indexes_);return p[l]=a,new Eo(p,d)}addToIndexes(n,t){const i=(0,w.UI)(this.indexes_,(r,s)=>{const o=(0,w.DV)(this.indexSet_,s);if((0,w.hu)(o,"Missing index implementation for "+s),r===zu){if(o.isDefinedOn(n.node)){const a=[],l=t.getIterator(ut.Wrap);let d=l.getNext();for(;d;)d.name!==n.name&&a.push(d),d=l.getNext();return a.push(n),L_(a,o.getCompare())}return zu}{const a=t.get(n.name);let l=r;return a&&(l=l.remove(new ut(n.name,a))),l.insert(n,n.node)}});return new Eo(i,this.indexSet_)}removeFromIndexes(n,t){const i=(0,w.UI)(this.indexes_,r=>{if(r===zu)return r;{const s=t.get(n.name);return s?r.remove(new ut(n.name,s)):r}});return new Eo(i,this.indexSet_)}}let $f,We=(()=>{class e{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&CO(this.priorityNode_),this.children_.isEmpty()&&(0,w.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $f||($f=new e(new cr(mC),null,Eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$f}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?$f:i}}getChild(t){const i=at(t);return null===i?this:this.getImmediateChild(i).getChild(qt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,w.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new ut(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?$f:this.priorityNode_;return new e(s,a,o)}}updateChild(t,i){const r=at(t);if(null===r)return i;{(0,w.hu)(".priority"!==at(t)||1===ma(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(qt(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(rn,(a,l)=>{i[a]=l.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+wO(this.getPriority().val())+":"),this.forEachChild(rn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":FM(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ut(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ut(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ut(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ut.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ut.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gf?-1:0}withIndex(t){if(t===qs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(rn),s=i.getIterator(rn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===qs?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Gf=new class w5 extends We{constructor(){super(new cr(mC),We.EMPTY_NODE,Eo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return We.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ut,{MIN:{value:new ut(pa,We.EMPTY_NODE)},MAX:{value:new ut(Co,Gf)}}),bO.__EMPTY_NODE=We.EMPTY_NODE,Wu.__childrenNodeConstructor=We,function g5(e){_C=e}(Gf),function _5(e){IO=e}(Gf);const C5=!0;function Dn(e,n=null){if(null===e)return We.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),(0,w.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Wu(e,Dn(n));if(e instanceof Array||!C5){let t=We.EMPTY_NODE;return ci(e,(i,r)=>{if((0,w.r3)(e,i)&&"."!==i.substring(0,1)){const s=Dn(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Dn(n))}{const t=[];let i=!1;if(ci(e,(o,a)=>{if("."!==o.substring(0,1)){const l=Dn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new ut(o,l)))}}),0===t.length)return We.EMPTY_NODE;const s=L_(t,p5,o=>o.name,mC);if(i){const o=L_(t,rn.getCompare());return new We(s,Dn(n),new Eo({".priority":o},{".priority":rn}))}return new We(s,Dn(n),Eo.Default)}}!function m5(e){DO=e}(Dn);class yC extends P_{constructor(n){super(),this.indexPath_=n,(0,w.hu)(!lt(n)&&".priority"!==at(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const i=this.extractChild(n.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Nl(n.name,t.name):s}makePost(n,t){const i=Dn(n),r=We.EMPTY_NODE.updateChild(this.indexPath_,i);return new ut(t,r)}maxPost(){const n=We.EMPTY_NODE.updateChild(this.indexPath_,Gf);return new ut(Co,n)}toString(){return Uf(this.indexPath_,0).join("/")}}const bC=new class E5 extends P_{compare(n,t){const i=n.node.compareTo(t.node);return 0===i?Nl(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return ut.MIN}maxPost(){return ut.MAX}makePost(n,t){const i=Dn(n);return new ut(t,i)}toString(){return".value"}};function TO(e){return{type:"value",snapshotNode:e}}function qu(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function Wf(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function zf(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class wC{constructor(n){this.index_=n}updateChild(n,t,i,r,s,o){(0,w.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=n.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?n.hasChild(t)?o.trackChildChange(Wf(t,a)):(0,w.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qu(t,i)):o.trackChildChange(zf(t,i,a))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return null!=i&&(n.isLeafNode()||n.forEachChild(rn,(r,s)=>{t.hasChild(r)||i.trackChildChange(Wf(r,s))}),t.isLeafNode()||t.forEachChild(rn,(r,s)=>{if(n.hasChild(r)){const o=n.getImmediateChild(r);o.equals(s)||i.trackChildChange(zf(r,s,o))}else i.trackChildChange(qu(r,s))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?We.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qf{constructor(n){this.indexedFilter_=new wC(n.getIndex()),this.index_=n.getIndex(),this.startPost_=qf.getStartPost_(n),this.endPost_=qf.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,r,s,o){return this.matches(new ut(t,i))||(i=We.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,r,s,o)}updateFullNode(n,t,i){t.isLeafNode()&&(t=We.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(We.EMPTY_NODE);const s=this;return t.forEachChild(rn,(o,a)=>{s.matches(new ut(o,a))||(r=r.updateImmediateChild(o,We.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class I5{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qf(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,r,s,o){return this.rangedFilter_.matches(new ut(t,i))||(i=We.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,r,s,o):this.fullLimitUpdateChild_(n,t,i,s,o)}updateFullNode(n,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=We.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=We.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),o++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(We.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,We.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,r,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(_,v)=>g(v,_)}else o=this.index_.getCompare();const a=n;(0,w.hu)(a.numChildren()===this.limit_,"");const l=new ut(t,i),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(l);if(a.hasChild(t)){const g=a.getImmediateChild(t);let _=r.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=_&&(_.name===t||a.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:o(_,l);if(p&&!i.isEmpty()&&v>=0)return s?.trackChildChange(zf(t,i,g)),a.updateImmediateChild(t,i);{s?.trackChildChange(Wf(t,g));const I=a.updateImmediateChild(t,We.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(s?.trackChildChange(qu(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}return i.isEmpty()?n:p&&o(d,l)>=0?(null!=s&&(s.trackChildChange(Wf(d.name,d.node)),s.trackChildChange(qu(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(d.name,We.EMPTY_NODE)):n}}class V_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,w.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,w.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,w.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,w.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Co}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,w.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const n=new V_;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function CC(e,n,t){const i=e.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function EC(e,n,t){const i=e.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function B_(e,n){const t=e.copy();return t.index_=n,t}function SO(e){const n={};if(e.isDefault())return n;let t;if(e.index_===rn?t="$priority":e.index_===bC?t="$value":e.index_===qs?t="$key":((0,w.hu)(e.index_ instanceof yC,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,w.Wl)(t),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";n[i]=(0,w.Wl)(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+(0,w.Wl)(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";n[i]=(0,w.Wl)(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+(0,w.Wl)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function NO(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==rn&&(n.i=e.index_.toString()),n}class j_ extends hO{constructor(n,t,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Lf("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:((0,w.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,r){const s=n._path.toString();this.log_("Listen called for "+s+" "+n._queryIdentifier);const o=j_.getListenId_(n,i),a={};this.listens_[o]=a;const l=SO(n._queryParams);this.restRequest_(s+".json",l,(d,p)=>{let g=p;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(s,g,!1,i),(0,w.DV)(this.listens_,o)===a){let _;_=d?401===d?"permission_denied":"rest_error:"+d:"ok",r(_,null)}})}unlisten(n,t){const i=j_.getListenId_(n,t);delete this.listens_[i]}get(n){const t=SO(n._queryParams),i=n._path.toString(),r=new w.BH;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,w.xO)(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,w.cI)(a.responseText)}catch{Li("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Li("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class M5{constructor(){this.rootNode_=We.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function U_(){return{value:null,children:new Map}}function Zu(e,n,t){if(lt(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const i=at(n);e.children.has(i)||e.children.set(i,U_()),Zu(e.children.get(i),n=qt(n),t)}}function DC(e,n){if(lt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const t=e.value;return e.value=null,t.forEachChild(rn,(i,r)=>{Zu(e,new Vt(i),r)}),DC(e,n)}}if(e.children.size>0){const t=at(n);return n=qt(n),e.children.has(t)&&DC(e.children.get(t),n)&&e.children.delete(t),0===e.children.size}return!0}function IC(e,n,t){null!==e.value?t(n,e.value):function O5(e,n){e.children.forEach((t,i)=>{n(i,t)})}(e,(i,r)=>{IC(r,new Vt(n.toString()+"/"+i),t)})}class x5{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&ci(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=n,t}}class F5{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new x5(n);const i=1e4+2e4*Math.random();Bf(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),t={};let i=!1;ci(n,(r,s)=>{s>0&&(0,w.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Bf(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zs=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Zs||{});function NC(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class H_{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=Zs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(lt(this.path)){if(null!=this.affectedTree.value)return(0,w.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Vt(n));return new H_(It(),t,this.revert)}}return(0,w.hu)(at(this.path)===n,"operationForChild called for unrelated child."),new H_(qt(this.path),this.affectedTree,this.revert)}}class Zf{constructor(n,t){this.source=n,this.path=t,this.type=Zs.LISTEN_COMPLETE}operationForChild(n){return lt(this.path)?new Zf(this.source,It()):new Zf(this.source,qt(this.path))}}class Ml{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=Zs.OVERWRITE}operationForChild(n){return lt(this.path)?new Ml(this.source,It(),this.snap.getImmediateChild(n)):new Ml(this.source,qt(this.path),this.snap)}}class Ku{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=Zs.MERGE}operationForChild(n){if(lt(this.path)){const t=this.children.subtree(new Vt(n));return t.isEmpty()?null:t.value?new Ml(this.source,It(),t.value):new Ku(this.source,It(),t)}return(0,w.hu)(at(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _a{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(lt(n))return this.isFullyInitialized()&&!this.filtered_;const t=at(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class L5{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Kf(e,n,t,i,r,s){const o=i.filter(a=>a.type===t);o.sort((a,l)=>function j5(e,n,t){if(null==n.childName||null==t.childName)throw(0,w.g5)("Should only compare child_ events.");const i=new ut(n.childName,n.snapshotNode),r=new ut(t.childName,t.snapshotNode);return e.index_.compare(i,r)}(e,a,l)),o.forEach(a=>{const l=function B5(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,a,s);r.forEach(d=>{d.respondsTo(a.type)&&n.push(d.createEvent(l,e.query_))})})}function $_(e,n){return{eventCache:e,serverCache:n}}function Yf(e,n,t,i){return $_(new _a(n,t,i),e.serverCache)}function RO(e,n,t,i){return $_(e.eventCache,new _a(n,t,i))}function G_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ol(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let AC;class sn{constructor(n,t=(()=>(AC||(AC=new cr(D4)),AC))()){this.value=n,this.children=t}static fromObject(n){let t=new sn(null);return ci(n,(i,r)=>{t=t.set(new Vt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(lt(n))return null;{const i=at(n),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(qt(n),t);return null!=s?{path:gn(new Vt(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(lt(n))return this;{const t=at(n),i=this.children.get(t);return null!==i?i.subtree(qt(n)):new sn(null)}}set(n,t){if(lt(n))return new sn(t,this.children);{const i=at(n),s=(this.children.get(i)||new sn(null)).set(qt(n),t),o=this.children.insert(i,s);return new sn(this.value,o)}}remove(n){if(lt(n))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const t=at(n),i=this.children.get(t);if(i){const r=i.remove(qt(n));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new sn(null):new sn(this.value,s)}return this}}get(n){if(lt(n))return this.value;{const t=at(n),i=this.children.get(t);return i?i.get(qt(n)):null}}setTree(n,t){if(lt(n))return t;{const i=at(n),s=(this.children.get(i)||new sn(null)).setTree(qt(n),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new sn(this.value,o)}}fold(n){return this.fold_(It(),n)}fold_(n,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(gn(n,r),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,It(),t)}findOnPath_(n,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(lt(n))return null;{const s=at(n),o=this.children.get(s);return o?o.findOnPath_(qt(n),gn(t,s),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,It(),t)}foreachOnPath_(n,t,i){if(lt(n))return this;{this.value&&i(t,this.value);const r=at(n),s=this.children.get(r);return s?s.foreachOnPath_(qt(n),gn(t,r),i):new sn(null)}}foreach(n){this.foreach_(It(),n)}foreach_(n,t){this.children.inorderTraversal((i,r)=>{r.foreach_(gn(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}}class ps{constructor(n){this.writeTree_=n}static empty(){return new ps(new sn(null))}}function Qf(e,n,t){if(lt(n))return new ps(new sn(t));{const i=e.writeTree_.findRootMostValueAndPath(n);if(null!=i){const r=i.path;let s=i.value;const o=Ki(r,n);return s=s.updateChild(o,t),new ps(e.writeTree_.set(r,s))}{const r=new sn(t),s=e.writeTree_.setTree(n,r);return new ps(s)}}}function RC(e,n,t){let i=e;return ci(t,(r,s)=>{i=Qf(i,gn(n,r),s)}),i}function MO(e,n){if(lt(n))return ps.empty();{const t=e.writeTree_.setTree(n,new sn(null));return new ps(t)}}function MC(e,n){return null!=xl(e,n)}function xl(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(Ki(t.path,n)):null}function OO(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(rn,(i,r)=>{n.push(new ut(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&n.push(new ut(i,r.value))}),n}function va(e,n){if(lt(n))return e;{const t=xl(e,n);return new ps(null!=t?new sn(t):e.writeTree_.subtree(n))}}function OC(e){return e.writeTree_.isEmpty()}function Yu(e,n){return xO(It(),e.writeTree_,n)}function xO(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((r,s)=>{".priority"===r?((0,w.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=xO(gn(e,r),s,t)}),!t.getChild(e).isEmpty()&&null!==i&&(t=t.updateChild(gn(e,".priority"),i)),t}}function W_(e,n){return VO(n,e)}function z5(e,n){if(e.snap)return Kr(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&Kr(gn(e.path,t),n))return!0;return!1}function Z5(e){return e.visible}function PO(e,n,t){let i=ps.empty();for(let r=0;r<e.length;++r){const s=e[r];if(n(s)){const o=s.path;let a;if(s.snap)Kr(t,o)?(a=Ki(t,o),i=Qf(i,a,s.snap)):Kr(o,t)&&(a=Ki(o,t),i=Qf(i,It(),s.snap.getChild(a)));else{if(!s.children)throw(0,w.g5)("WriteRecord should have .snap or .children");if(Kr(t,o))a=Ki(t,o),i=RC(i,a,s.children);else if(Kr(o,t))if(a=Ki(o,t),lt(a))i=RC(i,It(),s.children);else{const l=(0,w.DV)(s.children,at(a));if(l){const d=l.getChild(qt(a));i=Qf(i,It(),d)}}}}}return i}function kO(e,n,t,i,r){if(i||r){const s=va(e.visibleWrites,n);return!r&&OC(s)?t:r||null!=t||MC(s,It())?Yu(PO(e.allWrites,function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(Kr(d.path,n)||Kr(n,d.path))},n),t||We.EMPTY_NODE):null}{const s=xl(e.visibleWrites,n);if(null!=s)return s;{const o=va(e.visibleWrites,n);return OC(o)?t:null!=t||MC(o,It())?Yu(o,t||We.EMPTY_NODE):null}}}function z_(e,n,t,i){return kO(e.writeTree,e.treePath,n,t,i)}function xC(e,n){return function K5(e,n,t){let i=We.EMPTY_NODE;const r=xl(e.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(rn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=va(e.visibleWrites,n);return t.forEachChild(rn,(o,a)=>{const l=Yu(va(s,new Vt(o)),a);i=i.updateImmediateChild(o,l)}),OO(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return OO(va(e.visibleWrites,n)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(e.writeTree,e.treePath,n)}function FO(e,n,t,i){return function Y5(e,n,t,i,r){(0,w.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=gn(n,t);if(MC(e.visibleWrites,s))return null;{const o=va(e.visibleWrites,s);return OC(o)?r.getChild(t):Yu(o,r.getChild(t))}}(e.writeTree,e.treePath,n,t,i)}function q_(e,n){return function J5(e,n){return xl(e.visibleWrites,n)}(e.writeTree,gn(e.treePath,n))}function PC(e,n,t){return function Q5(e,n,t,i){const r=gn(n,t),s=xl(e.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Yu(va(e.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function LO(e,n){return VO(gn(e.treePath,n),e.writeTree)}function VO(e,n){return{treePath:e,writeTree:n}}class n6{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,i=n.childName;(0,w.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,w.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,zf(i,n.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Wf(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,qu(i,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,w.g5)("Illegal combination of changes: "+n+" occurred after "+r);this.changeMap.set(i,zf(i,n.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const BO=new class i6{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}};class kC{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new _a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return PC(this.writes_,n,i)}}getChildAfterChild(n,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ol(this.viewCache_),s=function t6(e,n,t,i,r,s){return function X5(e,n,t,i,r,s,o){let a;const l=va(e.visibleWrites,n),d=xl(l,It());if(null!=d)a=d;else{if(null==t)return[];a=Yu(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const p=[],g=o.getCompare(),_=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let v=_.getNext();for(;v&&p.length<r;)0!==g(v,i)&&p.push(v),v=_.getNext();return p}}(e.writeTree,e.treePath,n,t,i,r,s)}(this.writes_,r,t,1,i,n);return 0===s.length?null:s[0]}}function jO(e,n,t,i,r,s){const o=n.eventCache;if(null!=q_(i,t))return n;{let a,l;if(lt(t))if((0,w.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const d=Ol(n),g=xC(i,d instanceof We?d:We.EMPTY_NODE);a=e.filter.updateFullNode(n.eventCache.getNode(),g,s)}else{const d=z_(i,Ol(n));a=e.filter.updateFullNode(n.eventCache.getNode(),d,s)}else{const d=at(t);if(".priority"===d){(0,w.hu)(1===ma(t),"Can't have a priority with additional path components");const p=o.getNode();l=n.serverCache.getNode();const g=FO(i,t,p,l);a=null!=g?e.filter.updatePriority(p,g):o.getNode()}else{const p=qt(t);let g;if(o.isCompleteForChild(d)){l=n.serverCache.getNode();const _=FO(i,t,o.getNode(),l);g=null!=_?o.getNode().getImmediateChild(d).updateChild(p,_):o.getNode().getImmediateChild(d)}else g=PC(i,d,n.serverCache);a=null!=g?e.filter.updateChild(o.getNode(),d,g,p,r,s):o.getNode()}}return Yf(n,a,o.isFullyInitialized()||lt(t),e.filter.filtersNodes())}}function Z_(e,n,t,i,r,s,o,a){const l=n.serverCache;let d;const p=o?e.filter:e.filter.getIndexedFilter();if(lt(t))d=p.updateFullNode(l.getNode(),i,null);else if(p.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(t,i);d=p.updateFullNode(l.getNode(),v,null)}else{const v=at(t);if(!l.isCompleteForPath(t)&&ma(t)>1)return n;const C=qt(t),A=l.getNode().getImmediateChild(v).updateChild(C,i);d=".priority"===v?p.updatePriority(l.getNode(),A):p.updateChild(l.getNode(),v,A,C,BO,null)}const g=RO(n,d,l.isFullyInitialized()||lt(t),p.filtersNodes());return jO(e,g,t,r,new kC(r,g,s),a)}function FC(e,n,t,i,r,s,o){const a=n.eventCache;let l,d;const p=new kC(r,n,s);if(lt(t))d=e.filter.updateFullNode(n.eventCache.getNode(),i,o),l=Yf(n,d,!0,e.filter.filtersNodes());else{const g=at(t);if(".priority"===g)d=e.filter.updatePriority(n.eventCache.getNode(),i),l=Yf(n,d,a.isFullyInitialized(),a.isFiltered());else{const _=qt(t),v=a.getNode().getImmediateChild(g);let C;if(lt(_))C=i;else{const I=p.getCompleteChild(g);C=null!=I?".priority"===fC(_)&&I.getChild(mO(_)).isEmpty()?I:I.updateChild(_,i):We.EMPTY_NODE}l=v.equals(C)?n:Yf(n,e.filter.updateChild(a.getNode(),g,C,_,p,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function UO(e,n){return e.eventCache.isCompleteForChild(n)}function HO(e,n,t){return t.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function LC(e,n,t,i,r,s,o,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let d,l=n;d=lt(t)?i:new sn(null).setTree(t,i);const p=n.serverCache.getNode();return d.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const C=HO(0,n.serverCache.getNode().getImmediateChild(g),_);l=Z_(e,l,new Vt(g),C,r,s,o,a)}}),d.children.inorderTraversal((g,_)=>{const v=!n.serverCache.isCompleteForChild(g)&&null===_.value;if(!p.hasChild(g)&&!v){const I=HO(0,n.serverCache.getNode().getImmediateChild(g),_);l=Z_(e,l,new Vt(g),I,r,s,o,a)}}),l}class h6{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new wC(i.getIndex()),s=function T5(e){return e.loadsAllData()?new wC(e.getIndex()):e.hasLimit()?new I5(e):new qf(e)}(i);this.processor_=function r6(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(We.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(We.EMPTY_NODE,a.getNode(),null),p=new _a(l,o.isFullyInitialized(),r.filtersNodes()),g=new _a(d,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=$_(g,p),this.eventGenerator_=new L5(this.query_)}get query(){return this.query_}}function g6(e,n){const t=Ol(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!lt(n)&&!t.getImmediateChild(at(n)).isEmpty())?t.getChild(n):null}function $O(e){return 0===e.eventRegistrations_.length}function GO(e,n,t){const i=[];if(t){(0,w.hu)(null==n,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,r);o&&i.push(o)})}if(n){let r=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(o.matches(n)){if(n.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(s+1));break}}else r.push(o)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function WO(e,n,t,i){n.type===Zs.MERGE&&null!==n.source.queryId&&((0,w.hu)(Ol(e.viewCache_),"We should always have a full cache before handling merges"),(0,w.hu)(G_(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=function o6(e,n,t,i,r){const s=new n6;let o,a;if(t.type===Zs.OVERWRITE){const d=t;d.source.fromUser?o=FC(e,n,d.path,d.snap,i,r,s):((0,w.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||n.serverCache.isFiltered()&&!lt(d.path),o=Z_(e,n,d.path,d.snap,i,r,a,s))}else if(t.type===Zs.MERGE){const d=t;d.source.fromUser?o=function l6(e,n,t,i,r,s,o){let a=n;return i.foreach((l,d)=>{const p=gn(t,l);UO(n,at(p))&&(a=FC(e,a,p,d,r,s,o))}),i.foreach((l,d)=>{const p=gn(t,l);UO(n,at(p))||(a=FC(e,a,p,d,r,s,o))}),a}(e,n,d.path,d.children,i,r,s):((0,w.hu)(d.source.fromServer,"Unknown source."),a=d.source.tagged||n.serverCache.isFiltered(),o=LC(e,n,d.path,d.children,i,r,a,s))}else if(t.type===Zs.ACK_USER_WRITE){const d=t;o=d.revert?function d6(e,n,t,i,r,s){let o;if(null!=q_(i,t))return n;{const a=new kC(i,n,r),l=n.eventCache.getNode();let d;if(lt(t)||".priority"===at(t)){let p;if(n.serverCache.isFullyInitialized())p=z_(i,Ol(n));else{const g=n.serverCache.getNode();(0,w.hu)(g instanceof We,"serverChildren would be complete if leaf node"),p=xC(i,g)}d=e.filter.updateFullNode(l,p,s)}else{const p=at(t);let g=PC(i,p,n.serverCache);null==g&&n.serverCache.isCompleteForChild(p)&&(g=l.getImmediateChild(p)),d=null!=g?e.filter.updateChild(l,p,g,qt(t),a,s):n.eventCache.getNode().hasChild(p)?e.filter.updateChild(l,p,We.EMPTY_NODE,qt(t),a,s):l,d.isEmpty()&&n.serverCache.isFullyInitialized()&&(o=z_(i,Ol(n)),o.isLeafNode()&&(d=e.filter.updateFullNode(d,o,s)))}return o=n.serverCache.isFullyInitialized()||null!=q_(i,It()),Yf(n,d,o,e.filter.filtersNodes())}}(e,n,d.path,i,r,s):function c6(e,n,t,i,r,s,o){if(null!=q_(r,t))return n;const a=n.serverCache.isFiltered(),l=n.serverCache;if(null!=i.value){if(lt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Z_(e,n,t,l.getNode().getChild(t),r,s,a,o);if(lt(t)){let d=new sn(null);return l.getNode().forEachChild(qs,(p,g)=>{d=d.set(new Vt(p),g)}),LC(e,n,t,d,r,s,a,o)}return n}{let d=new sn(null);return i.foreach((p,g)=>{const _=gn(t,p);l.isCompleteForPath(_)&&(d=d.set(p,l.getNode().getChild(_)))}),LC(e,n,t,d,r,s,a,o)}}(e,n,d.path,d.affectedTree,i,r,s)}else{if(t.type!==Zs.LISTEN_COMPLETE)throw(0,w.g5)("Unknown operation type: "+t.type);o=function u6(e,n,t,i,r){const s=n.serverCache;return jO(e,RO(n,s.getNode(),s.isFullyInitialized()||lt(t),s.isFiltered()),t,i,BO,r)}(e,n,t.path,i,s)}const l=s.getChanges();return function a6(e,n,t){const i=n.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=G_(e);(t.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(TO(G_(n)))}}(n,o,l),{viewCache:o,changes:l}}(e.processor_,r,n,t,i);return function s6(e,n){(0,w.hu)(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,w.hu)(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,s.viewCache),(0,w.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,zO(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zO(e,n,t,i){return function V5(e,n,t,i){const r=[],s=[];return n.forEach(o=>{"child_changed"===o.type&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function D5(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(o.childName,o.snapshotNode))}),Kf(e,r,"child_removed",n,i,t),Kf(e,r,"child_added",n,i,t),Kf(e,r,"child_moved",s,i,t),Kf(e,r,"child_changed",n,i,t),Kf(e,r,"value",n,i,t),r}(e.eventGenerator_,n,t,i?[i]:e.eventRegistrations_)}let K_,Q_;class qO{constructor(){this.views=new Map}}function VC(e,n,t,i){const r=n.source.queryId;if(null!==r){const s=e.views.get(r);return(0,w.hu)(null!=s,"SyncTree gave us an op for an invalid query."),WO(s,n,t,i)}{let s=[];for(const o of e.views.values())s=s.concat(WO(o,n,t,i));return s}}function ZO(e,n,t,i,r){const o=e.views.get(n._queryIdentifier);if(!o){let a=z_(t,r?i:null),l=!1;a?l=!0:i instanceof We?(a=xC(t,i),l=!1):(a=We.EMPTY_NODE,l=!1);const d=$_(new _a(a,l,!1),new _a(i,r,!1));return new h6(n,d)}return o}function KO(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function ya(e,n){let t=null;for(const i of e.views.values())t=t||g6(i,n);return t}function YO(e,n){return n._queryParams.loadsAllData()?Y_(e):e.views.get(n._queryIdentifier)}function QO(e,n){return null!=YO(e,n)}function ba(e){return null!=Y_(e)}function Y_(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let I6=1;class JO{constructor(n){this.listenProvider_=n,this.syncPointTree_=new sn(null),this.pendingWriteTree_=function e6(){return{visibleWrites:ps.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BC(e,n,t,i,r){return function H5(e,n,t,i,r){(0,w.hu)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:r}),r&&(e.visibleWrites=Qf(e.visibleWrites,n,t)),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i,r),r?Qu(e,new Ml({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function wa(e,n,t=!1){const i=function G5(e,n){for(let t=0;t<e.allWrites.length;t++){const i=e.allWrites[t];if(i.writeId===n)return i}return null}(e.pendingWriteTree_,n);if(function W5(e,n){const t=e.allWrites.findIndex(a=>a.writeId===n);(0,w.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[t];e.allWrites.splice(t,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=t&&z5(a,i.path)?r=!1:Kr(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function q5(e){e.visibleWrites=PO(e.allWrites,Z5,It()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=MO(e.visibleWrites,i.path):ci(i.children,l=>{e.visibleWrites=MO(e.visibleWrites,gn(i.path,l))}),!0))}(e.pendingWriteTree_,n)){let s=new sn(null);return null!=i.snap?s=s.set(It(),!0):ci(i.children,o=>{s=s.set(new Vt(o),!0)}),Qu(e,new H_(i.path,s,t))}return[]}function Jf(e,n,t){return Qu(e,new Ml({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function J_(e,n,t,i,r=!1){const s=n._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===n._queryIdentifier||QO(o,n))){const l=function C6(e,n,t,i){const r=n._queryIdentifier,s=[];let o=[];const a=ba(e);if("default"===r)for(const[l,d]of e.views.entries())o=o.concat(GO(d,t,i)),$O(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||s.push(d.query));else{const l=e.views.get(r);l&&(o=o.concat(GO(l,t,i)),$O(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ba(e)&&s.push(new(function y6(){return(0,w.hu)(K_,"Reference.ts has not been loaded"),K_}())(n._repo,n._path)),{removed:s,events:o}}(o,n,t,i);(function b6(e){return 0===e.views.size})(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const d=l.removed;if(a=l.events,!r){const p=-1!==d.findIndex(_=>_._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(s,(_,v)=>ba(v));if(p&&!g){const _=e.syncPointTree_.subtree(s);if(!_.isEmpty()){const v=function O6(e){return e.fold((n,t,i)=>{if(t&&ba(t))return[Y_(t)];{let r=[];return t&&(r=KO(t)),ci(i,(s,o)=>{r=r.concat(o)}),r}})}(_);for(let C=0;C<v.length;++C){const I=v[C],A=I.query,B=nx(e,I);e.listenProvider_.startListening(ep(A),Xf(e,A),B.hashFn,B.onComplete)}}}!g&&d.length>0&&!i&&(p?e.listenProvider_.stopListening(ep(n),null):d.forEach(_=>{const v=e.queryToTagMap.get(ev(_));e.listenProvider_.stopListening(ep(_),v)}))}!function x6(e,n){for(let t=0;t<n.length;++t){const i=n[t];if(!i._queryParams.loadsAllData()){const r=ev(i),s=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(s)}}}(e,d)}return a}function XO(e,n,t,i){const r=UC(e,i);if(null!=r){const s=HC(r),o=s.path,a=s.queryId,l=Ki(o,n);return $C(e,o,new Ml(NC(a),l,t))}return[]}function jC(e,n,t,i=!1){const r=n._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(r,(_,v)=>{const C=Ki(_,r);s=s||ya(v,C),o=o||ba(v)});let l,a=e.syncPointTree_.get(r);a?(o=o||ba(a),s=s||ya(a,It())):(a=new qO,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=s?l=!0:(l=!1,s=We.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((v,C)=>{const I=ya(C,It());I&&(s=s.updateImmediateChild(v,I))}));const d=QO(a,n);if(!d&&!n._queryParams.loadsAllData()){const _=ev(n);(0,w.hu)(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function P6(){return I6++}();e.queryToTagMap.set(_,v),e.tagToQueryMap.set(v,_)}let g=function w6(e,n,t,i,r,s){const o=ZO(e,n,i,r,s);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,o),function m6(e,n){e.eventRegistrations_.push(n)}(o,t),function _6(e,n){const t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(rn,(s,o)=>{i.push(qu(s,o))}),t.isFullyInitialized()&&i.push(TO(t.getNode())),zO(e,i,t.getNode(),n)}(o,t)}(a,n,t,W_(e.pendingWriteTree_,r),s,l);if(!d&&!o&&!i){const _=YO(a,n);g=g.concat(function k6(e,n,t){const i=n._path,r=Xf(e,n),s=nx(e,t),o=e.listenProvider_.startListening(ep(n),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)(0,w.hu)(!ba(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((d,p,g)=>{if(!lt(d)&&p&&ba(p))return[Y_(p).query];{let _=[];return p&&(_=_.concat(KO(p).map(v=>v.query))),ci(g,(v,C)=>{_=_.concat(C)}),_}});for(let d=0;d<l.length;++d){const p=l[d];e.listenProvider_.stopListening(ep(p),Xf(e,p))}}return o}(e,n,_))}return g}function X_(e,n,t){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(n,(o,a)=>{const d=ya(a,Ki(o,n));if(d)return d});return kO(r,n,s,t,!0)}function Qu(e,n){return ex(n,e.syncPointTree_,null,W_(e.pendingWriteTree_,It()))}function ex(e,n,t,i){if(lt(e.path))return tx(e,n,t,i);{const r=n.get(It());null==t&&null!=r&&(t=ya(r,It()));let s=[];const o=at(e.path),a=e.operationForChild(o),l=n.children.get(o);if(l&&a){const d=t?t.getImmediateChild(o):null,p=LO(i,o);s=s.concat(ex(a,l,d,p))}return r&&(s=s.concat(VC(r,e,i,t))),s}}function tx(e,n,t,i){const r=n.get(It());null==t&&null!=r&&(t=ya(r,It()));let s=[];return n.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,d=LO(i,o),p=e.operationForChild(o);p&&(s=s.concat(tx(p,a,l,d)))}),r&&(s=s.concat(VC(r,e,i,t))),s}function nx(e,n){const t=n.query,i=Xf(e,t);return{hashFn:()=>(function f6(e){return e.viewCache_.serverCache.getNode()}(n)||We.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function A6(e,n,t){const i=UC(e,t);if(i){const r=HC(i),s=r.path,o=r.queryId,a=Ki(s,n);return $C(e,s,new Zf(NC(o),a))}return[]}(e,t._path,i):function N6(e,n){return Qu(e,new Zf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const s=function S4(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}(r,t);return J_(e,t,null,s)}}}}function Xf(e,n){const t=ev(n);return e.queryToTagMap.get(t)}function ev(e){return e._path.toString()+"$"+e._queryIdentifier}function UC(e,n){return e.tagToQueryMap.get(n)}function HC(e){const n=e.indexOf("$");return(0,w.hu)(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Vt(e.substr(0,n))}}function $C(e,n,t){const i=e.syncPointTree_.get(n);return(0,w.hu)(i,"Missing sync point for query tag that we're tracking"),VC(i,t,W_(e.pendingWriteTree_,n),null)}function ep(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function D6(){return(0,w.hu)(Q_,"Reference.ts has not been loaded"),Q_}())(e._repo,e._path):e}class GC{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new GC(t)}node(){return this.node_}}class WC{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=gn(this.path_,n);return new WC(this.syncTree_,t)}node(){return X_(this.syncTree_,this.path_)}}const F6=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ix=function(e,n,t){return e&&"object"==typeof e?((0,w.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?L6(e[".sv"],n,t):"object"==typeof e[".sv"]?V6(e[".sv"],n):void(0,w.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},L6=function(e,n,t){if("timestamp"===e)return t.timestamp;(0,w.hu)(!1,"Unexpected server value: "+e)},V6=function(e,n,t){e.hasOwnProperty("increment")||(0,w.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,w.hu)(!1,"Unexpected increment value: "+i);const r=n.node();if((0,w.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},rx=function(e,n,t,i){return qC(n,new WC(t,e),i)},zC=function(e,n,t){return qC(e,new GC(n),t)};function qC(e,n,t){const i=e.getPriority().val(),r=ix(i,n.getImmediateChild(".priority"),t);let s;if(e.isLeafNode()){const o=e,a=ix(o.getValue(),n,t);return a!==o.getValue()||r!==o.getPriority().val()?new Wu(a,Dn(r)):e}{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Wu(r))),o.forEachChild(rn,(a,l)=>{const d=qC(l,n.getImmediateChild(a),t);d!==l&&(s=s.updateImmediateChild(a,d))}),s}}class ZC{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}}function tv(e,n){let t=n instanceof Vt?n:new Vt(n),i=e,r=at(t);for(;null!==r;){const s=(0,w.DV)(i.node.children,r)||{children:{},childCount:0};i=new ZC(r,i,s),t=qt(t),r=at(t)}return i}function Pl(e){return e.node.value}function KC(e,n){e.node.value=n,YC(e)}function sx(e){return e.node.childCount>0}function nv(e,n){ci(e.node.children,(t,i)=>{n(new ZC(t,e,i))})}function ox(e,n,t,i){t&&!i&&n(e),nv(e,r=>{ox(r,n,!0,i)}),t&&i&&n(e)}function tp(e){return new Vt(null===e.parent?e.name:tp(e.parent)+"/"+e.name)}function YC(e){null!==e.parent&&function U6(e,n,t){const i=function B6(e){return void 0===Pl(e)&&!sx(e)}(t),r=(0,w.r3)(e.node.children,n);i&&r?(delete e.node.children[n],e.node.childCount--,YC(e)):!i&&!r&&(e.node.children[n]=t.node,e.node.childCount++,YC(e))}(e.parent,e.name,e)}const H6=/[\[\].#$\/\u0000-\u001F\u007F]/,$6=/[\[\].#$\u0000-\u001F\u007F]/,QC=10485760,iv=function(e){return"string"==typeof e&&0!==e.length&&!H6.test(e)},ax=function(e){return"string"==typeof e&&0!==e.length&&!$6.test(e)},np=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!R_(e)||e&&"object"==typeof e&&(0,w.r3)(e,".sv")},Ks=function(e,n,t,i){i&&void 0===n||ip((0,w.gK)(e,"value"),n,t)},ip=function(e,n,t){const i=t instanceof Vt?new o5(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+Al(i));if("function"==typeof n)throw new Error(e+"contains a function "+Al(i)+" with contents = "+n.toString());if(R_(n))throw new Error(e+"contains "+n.toString()+" "+Al(i));if("string"==typeof n&&n.length>QC/3&&(0,w.ug)(n)>QC)throw new Error(e+"contains a string greater than "+QC+" utf8 bytes "+Al(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let r=!1,s=!1;if(ci(n,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!iv(o)))throw new Error(e+" contains an invalid key ("+o+") "+Al(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function a5(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=(0,w.ug)(n),_O(e)})(i,o),ip(e,a,i),function l5(e){const n=e.parts_.pop();e.byteLength_-=(0,w.ug)(n),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),r&&s)throw new Error(e+' contains ".value" child '+Al(i)+" in addition to actual children.")}},lx=function(e,n,t,i){if(i&&void 0===n)return;const r=(0,w.gK)(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");const s=[];ci(n,(o,a)=>{const l=new Vt(o);if(ip(r,a,gn(t,l)),".priority"===fC(l)&&!np(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];const s=Uf(i);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!iv(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(s5);let r=null;for(t=0;t<n.length;t++){if(i=n[t],null!==r&&Kr(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},JC=function(e,n,t){if(!t||void 0!==n){if(R_(n))throw new Error((0,w.gK)(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!np(n))throw new Error((0,w.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rp=function(e,n,t,i){if(!(i&&void 0===t||iv(t)))throw new Error((0,w.gK)(e,n)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sp=function(e,n,t,i){if(!(i&&void 0===t||ax(t)))throw new Error((0,w.gK)(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},z6=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sp(e,n,t,i)},Yr=function(e,n){if(".info"===at(n))throw new Error(e+" failed = Can't modify data under /.info/")},cx=function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!iv(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ax(e)}(t))throw new Error((0,w.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class q6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rv(e,n){let t=null;for(let i=0;i<n.length;i++){const r=n[i],s=r.getPath();null!==t&&!pC(s,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&e.eventLists_.push(t)}function ux(e,n,t){rv(e,t),dx(e,i=>pC(i,n))}function Cr(e,n,t){rv(e,t),dx(e,i=>Kr(i,n)||Kr(n,i))}function dx(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];r&&(n(r.path)?(Z6(e.eventLists_[i]),e.eventLists_[i]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function Z6(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const i=t.getEventRunner();Sl&&li("event: "+t.toString()),$u(i)}}}const hx="repo_interrupt",K6=25;class Y6{constructor(n,t,i,r){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new q6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=U_(),this.transactionQueueTree_=new ZC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fx(e){const t=e.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function op(e){return F6({timestamp:fx(e)})}function px(e,n,t,i,r){e.dataUpdateCount++;const s=new Vt(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let o=[];if(r)if(i){const l=(0,w.UI)(t,d=>Dn(d));o=function R6(e,n,t,i){const r=UC(e,i);if(r){const s=HC(r),o=s.path,a=s.queryId,l=Ki(o,n),d=sn.fromObject(t);return $C(e,o,new Ku(NC(a),l,d))}return[]}(e.serverSyncTree_,s,l,r)}else{const l=Dn(t);o=XO(e.serverSyncTree_,s,l,r)}else if(i){const l=(0,w.UI)(t,d=>Dn(d));o=function S6(e,n,t){const i=sn.fromObject(t);return Qu(e,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(e.serverSyncTree_,s,l)}else{const l=Dn(t);o=Jf(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xu(e,s)),Cr(e.eventQueue_,a,o)}function gx(e,n){XC(e,"connected",n),!1===n&&function tq(e){Ju(e,"onDisconnectEvents");const n=op(e),t=U_();IC(e.onDisconnect_,It(),(r,s)=>{const o=rx(r,s,e.serverSyncTree_,n);Zu(t,r,o)});let i=[];IC(t,It(),(r,s)=>{i=i.concat(Jf(e.serverSyncTree_,r,s));const o=iE(e,r);Xu(e,o)}),e.onDisconnect_=U_(),Cr(e.eventQueue_,It(),i)}(e)}function XC(e,n,t){const i=new Vt("/.info/"+n),r=Dn(t);e.infoData_.updateSnapshot(i,r);const s=Jf(e.infoSyncTree_,i,r);Cr(e.eventQueue_,i,s)}function sv(e){return e.nextWriteId_++}function eE(e,n,t,i,r){Ju(e,"set",{path:n.toString(),value:t,priority:i});const s=op(e),o=Dn(t,i),a=X_(e.serverSyncTree_,n),l=zC(o,a,s),d=sv(e),p=BC(e.serverSyncTree_,n,l,d,!0);rv(e.eventQueue_,p),e.server_.put(n.toString(),o.val(!0),(_,v)=>{const C="ok"===_;C||Li("set at "+n+" failed: "+_);const I=wa(e.serverSyncTree_,d,!C);Cr(e.eventQueue_,n,I),Ca(0,r,_,v)});const g=iE(e,n);Xu(e,g),Cr(e.eventQueue_,g,[])}function nq(e,n,t){e.server_.onDisconnectCancel(n.toString(),(i,r)=>{"ok"===i&&DC(e.onDisconnect_,n),Ca(0,t,i,r)})}function mx(e,n,t,i){const r=Dn(t);e.server_.onDisconnectPut(n.toString(),r.val(!0),(s,o)=>{"ok"===s&&Zu(e.onDisconnect_,n,r),Ca(0,i,s,o)})}function tE(e,n,t){let i;i=".info"===at(n._path)?J_(e.infoSyncTree_,n,t):J_(e.serverSyncTree_,n,t),ux(e.eventQueue_,n._path,i)}function _x(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hx)}function Ju(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),li(t,...n)}function Ca(e,n,t,i){n&&$u(()=>{if("ok"===t)n(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,n(o)}})}function nE(e,n,t){return X_(e.serverSyncTree_,n,t)||We.EMPTY_NODE}function ov(e,n=e.transactionQueueTree_){if(n||av(e,n),Pl(n)){const t=yx(e,n);(0,w.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function lq(e,n,t){const i=t.map(d=>d.currentWriteId),r=nE(e,n,i);let s=r;const o=r.hash();for(let d=0;d<t.length;d++){const p=t[d];(0,w.hu)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=Ki(n,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const a=s.val(!0),l=n;e.server_.put(l.toString(),a,d=>{Ju(e,"transaction put response",{path:l.toString(),status:d});let p=[];if("ok"===d){const g=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(wa(e.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&g.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();av(e,tv(e.transactionQueueTree_,n)),ov(e,e.transactionQueueTree_),Cr(e.eventQueue_,n,p);for(let _=0;_<g.length;_++)$u(g[_])}else{if("datastale"===d)for(let g=0;g<t.length;g++)t[g].status=3===t[g].status?4:0;else{Li("transaction at "+l.toString()+" failed: "+d);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=d}Xu(e,n)}},o)}(e,tp(n),t)}else sx(n)&&nv(n,t=>{ov(e,t)})}function Xu(e,n){const t=vx(e,n),i=tp(t);return function cq(e,n,t){if(0===n.length)return;const i=[];let r=[];const o=n.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){const l=n[a],d=Ki(t,l.path);let g,p=!1;if((0,w.hu)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)p=!0,g=l.abortReason,r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=K6)p=!0,g="maxretry",r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0));else{const _=nE(e,l.path,o);l.currentInputSnapshot=_;const v=n[a].update(_.val());if(void 0!==v){ip("transaction failed: Data returned ",v,l.path);let C=Dn(v);"object"==typeof v&&null!=v&&(0,w.r3)(v,".priority")||(C=C.updatePriority(_.getPriority()));const A=l.currentWriteId,B=op(e),M=zC(C,_,B);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=M,l.currentWriteId=sv(e),o.splice(o.indexOf(A),1),r=r.concat(BC(e.serverSyncTree_,l.path,M,l.currentWriteId,l.applyLocally)),r=r.concat(wa(e.serverSyncTree_,A,!0))}else p=!0,g="nodata",r=r.concat(wa(e.serverSyncTree_,l.currentWriteId,!0))}Cr(e.eventQueue_,t,r),r=[],p&&(n[a].status=2,setTimeout(n[a].unwatcher,Math.floor(0)),n[a].onComplete&&i.push("nodata"===g?()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot):()=>n[a].onComplete(new Error(g),!1,null)))}av(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)$u(i[a]);ov(e,e.transactionQueueTree_)}(e,yx(e,t),i),i}function vx(e,n){let t,i=e.transactionQueueTree_;for(t=at(n);null!==t&&void 0===Pl(i);)i=tv(i,t),t=at(n=qt(n));return i}function yx(e,n){const t=[];return bx(e,n,t),t.sort((i,r)=>i.order-r.order),t}function bx(e,n,t){const i=Pl(n);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);nv(n,r=>{bx(e,r,t)})}function av(e,n){const t=Pl(n);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,KC(n,t.length>0?t:void 0)}nv(n,i=>{av(e,i)})}function iE(e,n){const t=tp(vx(e,n)),i=tv(e.transactionQueueTree_,n);return function j6(e,n,t){let i=t?e:e.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,r=>{rE(e,r)}),rE(e,i),ox(i,r=>{rE(e,r)}),t}function rE(e,n){const t=Pl(n);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?((0,w.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):((0,w.hu)(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(wa(e.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?KC(n,void 0):t.length=s+1,Cr(e.eventQueue_,tp(n),r);for(let o=0;o<i.length;o++)$u(i[o])}}const sE=function(e,n){const t=hq(e),i=t.namespace;return"firebase.com"===t.domain&&zs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Li("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new aC(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,n,"",i!==t.subdomain),path:new Vt(t.pathString)}},hq=function(e){let n="",t="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof e){let d=e.indexOf("//");d>=0&&(a=e.substring(0,d-1),e=e.substring(d+2));let p=e.indexOf("/");-1===p&&(p=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),n=e.substring(0,Math.min(p,g)),p<g&&(r=function uq(e){let n="";const t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}(e.substring(p,g)));const _=function dq(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Li(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,g)));d=n.indexOf(":"),d>=0?(o="https"===a||"wss"===a,l=parseInt(n.substring(d+1),10)):d=n.length;const v=n.slice(0,d);if("localhost"===v.toLowerCase())t="localhost";else if(v.split(".").length<=2)t=v;else{const C=n.indexOf(".");i=n.substring(0,C).toLowerCase(),t=n.substring(C+1),s=i}"ns"in _&&(s=_.ns)}return{host:n,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},wx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fq=function(){let e=0;const n=[];return function(t){const i=t===e;let r;e=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=wx.charAt(t%64),t=Math.floor(t/64);(0,w.hu)(0===t,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=wx.charAt(n[r]);return(0,w.hu)(20===o.length,"nextPushId: Length should be 20."),o}}();class Cx{constructor(n,t,i,r){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,w.Wl)(this.snapshot.exportVal())}}class Ex{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class oE{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return(0,w.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Dx{constructor(n,t){this._repo=n,this._path=t}cancel(){const n=new w.BH;return nq(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Yr("OnDisconnect.remove",this._path);const n=new w.BH;return mx(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Yr("OnDisconnect.set",this._path),Ks("OnDisconnect.set",n,this._path,!1);const t=new w.BH;return mx(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){Yr("OnDisconnect.setWithPriority",this._path),Ks("OnDisconnect.setWithPriority",n,this._path,!1),JC("OnDisconnect.setWithPriority",t,!1);const i=new w.BH;return function iq(e,n,t,i,r){const s=Dn(t,i);e.server_.onDisconnectPut(n.toString(),s.val(!0),(o,a)=>{"ok"===o&&Zu(e.onDisconnect_,n,s),Ca(0,r,o,a)})}(this._repo,this._path,n,t,i.wrapCallback(()=>{})),i.promise}update(n){Yr("OnDisconnect.update",this._path),lx("OnDisconnect.update",n,this._path,!1);const t=new w.BH;return function rq(e,n,t,i){if((0,w.xb)(t))return li("onDisconnect().update() called with empty data.  Don't do anything."),void Ca(0,i,"ok",void 0);e.server_.onDisconnectMerge(n.toString(),t,(r,s)=>{"ok"===r&&ci(t,(o,a)=>{const l=Dn(a);Zu(e.onDisconnect_,gn(n,o),l)}),Ca(0,i,r,s)})}(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}}class ur{constructor(n,t,i,r){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return lt(this._path)?null:fC(this._path)}get ref(){return new Qr(this._repo,this._path)}get _queryIdentifier(){const n=NO(this._queryParams),t=sC(n);return"{}"===t?"default":t}get _queryObject(){return NO(this._queryParams)}isEqual(n){if(!((n=(0,w.m9)(n))instanceof ur))return!1;const t=this._repo===n._repo,i=pC(this._path,n._path);return t&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function r5(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}function lv(e,n){if(!0===e._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Ea(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===qs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==pa)throw new Error(i);if("string"!=typeof n)throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==Co)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(e.getIndex()===rn){if(null!=n&&!np(n)||null!=t&&!np(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,w.hu)(e.getIndex()instanceof yC||e.getIndex()===bC,"unknown index type."),null!=n&&"object"==typeof n||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cv(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qr extends ur{constructor(n,t){super(n,t,new V_,!1)}get parent(){const n=mO(this._path);return null===n?null:new Qr(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class kl{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new Vt(n),i=Fl(this.ref,n);return new kl(this._node.getChild(t),i,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>n(new kl(r,Fl(this.ref,i),rn)))}hasChild(n){const t=new Vt(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ix(e,n){return(e=(0,w.m9)(e))._checkNotDeleted("ref"),void 0!==n?Fl(e._root,n):e._root}function Tx(e,n){(e=(0,w.m9)(e))._checkNotDeleted("refFromURL");const t=sE(n,e._repo.repoInfo_.nodeAdmin);cx("refFromURL",t);const i=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&zs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Ix(e,t.path.toString())}function Fl(e,n){return null===at((e=(0,w.m9)(e))._path)?z6("child","path",n,!1):sp("child","path",n,!1),new Qr(e._repo,gn(e._path,n))}function aE(e,n){e=(0,w.m9)(e),Yr("set",e._path),Ks("set",n,e._path,!1);const t=new w.BH;return eE(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function vq(e,n){lx("update",n,e._path,!1);const t=new w.BH;return function eq(e,n,t,i){Ju(e,"update",{path:n.toString(),value:t});let r=!0;const s=op(e),o={};if(ci(t,(a,l)=>{r=!1,o[a]=rx(gn(n,a),Dn(l),e.serverSyncTree_,s)}),r)li("update() called with empty data.  Don't do anything."),Ca(0,i,"ok",void 0);else{const a=sv(e),l=function T6(e,n,t,i){!function $5(e,n,t,i){(0,w.hu)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=RC(e.visibleWrites,n,t),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i);const r=sn.fromObject(t);return Qu(e,new Ku({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,r))}(e.serverSyncTree_,n,o,a);rv(e.eventQueue_,l),e.server_.merge(n.toString(),t,(d,p)=>{const g="ok"===d;g||Li("update at "+n+" failed: "+d);const _=wa(e.serverSyncTree_,a,!g),v=_.length>0?Xu(e,n):n;Cr(e.eventQueue_,v,_),Ca(0,i,d,p)}),ci(t,d=>{const p=iE(e,gn(n,d));Xu(e,p)}),Cr(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function yq(e){e=(0,w.m9)(e);const n=new oE(()=>{}),t=new ap(n);return function X6(e,n,t){const i=function M6(e,n){const t=n._path;let i=null;e.syncPointTree_.foreachOnPath(t,(d,p)=>{const g=Ki(d,t);i=i||ya(p,g)});let r=e.syncPointTree_.get(t);r?i=i||ya(r,It()):(r=new qO,e.syncPointTree_=e.syncPointTree_.set(t,r));const s=null!=i,o=s?new _a(i,!0,!1):null;return function p6(e){return G_(e.viewCache_)}(ZO(r,n,W_(e.pendingWriteTree_,n._path),s?o.getNode():We.EMPTY_NODE,s))}(e.serverSyncTree_,n);return null!=i?Promise.resolve(i):e.server_.get(n).then(r=>{const s=Dn(r).withIndex(n._queryParams.getIndex());let o;if(jC(e.serverSyncTree_,n,t,!0),n._queryParams.loadsAllData())o=Jf(e.serverSyncTree_,n._path,s);else{const a=Xf(e.serverSyncTree_,n);o=XO(e.serverSyncTree_,n._path,s,a)}return Cr(e.eventQueue_,n._path,o),J_(e.serverSyncTree_,n,t,null,!0),s},r=>(Ju(e,"get for query "+(0,w.Wl)(n)+" failed: "+r),Promise.reject(new Error(r))))}(e._repo,e,t).then(i=>new kl(i,new Qr(e._repo,e._path),e._queryParams.getIndex()))}class ap{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const i=t._queryParams.getIndex();return new Cx("value",this,new kl(n.snapshotNode,new Qr(t._repo,t._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Ex(this,n,t):null}matches(n){return n instanceof ap&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uv{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Ex(this,n,t):null}createEvent(n,t){(0,w.hu)(null!=n.childName,"Child events should have a childName.");const i=Fl(new Qr(t._repo,t._path),n.childName),r=t._queryParams.getIndex();return new Cx(n.type,this,new kl(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof uv&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lp(e,n,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const l=t,d=(p,g)=>{tE(e._repo,e,a),l(p,g)};d.userCallback=t.userCallback,d.context=t.context,t=d}const o=new oE(t,s||void 0),a="value"===n?new ap(o):new uv(n,o);return function sq(e,n,t){let i;i=".info"===at(n._path)?jC(e.infoSyncTree_,n,t):jC(e.serverSyncTree_,n,t),ux(e.eventQueue_,n._path,i)}(e._repo,e,a),()=>tE(e._repo,e,a)}function lE(e,n,t,i){return lp(e,"value",n,t,i)}function Sx(e,n,t,i){return lp(e,"child_added",n,t,i)}function Nx(e,n,t,i){return lp(e,"child_changed",n,t,i)}function Ax(e,n,t,i){return lp(e,"child_moved",n,t,i)}function Rx(e,n,t,i){return lp(e,"child_removed",n,t,i)}function Mx(e,n,t){let i=null;const r=t?new oE(t):null;"value"===n?i=new ap(r):n&&(i=new uv(n,r)),tE(e._repo,e,i)}class gs{}class Ox extends gs{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){Ks("endAt",this._value,n._path,!0);const t=EC(n._queryParams,this._value,this._key);if(cv(t),Ea(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class wq extends gs{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){Ks("endBefore",this._value,n._path,!1);const t=function R5(e,n,t){let i;return i=EC(e,n,e.index_===qs||t?t:pa),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(cv(t),Ea(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class xx extends gs{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){Ks("startAt",this._value,n._path,!0);const t=CC(n._queryParams,this._value,this._key);if(cv(t),Ea(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class Dq extends gs{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){Ks("startAfter",this._value,n._path,!1);const t=function A5(e,n,t){let i;return i=CC(e,n,e.index_===qs||t?t:Co),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(cv(t),Ea(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ur(n._repo,n._path,t,n._orderByCalled)}}class Tq extends gs{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(n._repo,n._path,function S5(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}(n._queryParams,this._limit),n._orderByCalled)}}class Nq extends gs{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(n._repo,n._path,function N5(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}(n._queryParams,this._limit),n._orderByCalled)}}class Rq extends gs{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){lv(n,"orderByChild");const t=new Vt(this._path);if(lt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new yC(t),r=B_(n._queryParams,i);return Ea(r),new ur(n._repo,n._path,r,!0)}}class Oq extends gs{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){lv(n,"orderByKey");const t=B_(n._queryParams,qs);return Ea(t),new ur(n._repo,n._path,t,!0)}}class Pq extends gs{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){lv(n,"orderByPriority");const t=B_(n._queryParams,rn);return Ea(t),new ur(n._repo,n._path,t,!0)}}class Fq extends gs{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){lv(n,"orderByValue");const t=B_(n._queryParams,bC);return Ea(t),new ur(n._repo,n._path,t,!0)}}class Vq extends gs{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(Ks("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ox(this._value,this._key)._apply(new xx(this._value,this._key)._apply(n))}}function ms(e,...n){let t=(0,w.m9)(e);for(const i of n)t=i._apply(t);return t}(function v6(e){(0,w.hu)(!K_,"__referenceConstructor has already been defined"),K_=e})(Qr),function E6(e){(0,w.hu)(!Q_,"__referenceConstructor has already been defined"),Q_=e}(Qr);const cE={};function uE(e,n,t,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),li("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,d,o=sE(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(l=!0,s=`http://${d}?ns=${a.namespace}`,o=sE(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const p=r&&l?new jf(jf.OWNER):new x4(e.name,e.options,n);cx("Invalid Firebase Database URL",o),lt(o.path)||zs("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function $q(e,n,t,i){let r=cE[n.name];r||(r={},cE[n.name]=r);let s=r[e.toURLString()];return s&&zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Y6(e,false,t,i),r[e.toURLString()]=s,s}(a,e,p,new O4(e.name,t));return new Wq(g,e)}class Wq{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Q6(e,n,t){if(e.stats_=uC(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new j_(e.repoInfo_,(i,r,s,o)=>{px(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>gx(e,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,w.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Rl(e.repoInfo_,n,(i,r,s,o)=>{px(e,i,r,s,o)},i=>{gx(e,i)},i=>{!function J6(e,n){ci(n,(t,i)=>{XC(e,t,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function F4(e,n){const t=e.toString();return cC[t]||(cC[t]=n()),cC[t]}(e.repoInfo_,()=>new F5(e.stats_,e.server_)),e.infoData_=new M5,e.infoSyncTree_=new JO({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Jf(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),XC(e,"connected",!1),e.serverSyncTree_=new JO({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const d=o(a,l);Cr(e.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qr(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Hq(e,n){const t=cE[n];(!t||t[e.key]!==e)&&zs(`Database ${n}(${e.repoInfo_}) has already been deleted.`),_x(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&zs("Cannot call "+n+" on a deleted database.")}}function kx(){rO.IS_TRANSPORT_INITIALIZED&&Li("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zq(){kx(),ga.forceDisallow()}function qq(){kx(),Gu.forceDisallow(),ga.forceAllow()}function Yq(e,n){VM(e,n)}const Jq={".sv":"timestamp"};class t9{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Rl.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},Rl.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function Qq(e){nC(Bu.SDK_VERSION),(0,Bu._registerComponent)(new Il.wA("database",(n,{instanceIdentifier:t})=>uE(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Bu.registerVersion)(OM,"1.0.3",e),(0,Bu.registerVersion)(OM,"1.0.3","esm2017")}();const s9=new eC.Yd("@firebase/database-compat"),Lx=function(e){s9.warn("FIREBASE WARNING: "+e)};class l9{constructor(n){this._delegate=n}cancel(n){(0,w.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,w.Wj)("OnDisconnect.cancel","onComplete",n,!0);const t=this._delegate.cancel();return n&&t.then(()=>n(null),i=>n(i)),t}remove(n){(0,w.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,w.Wj)("OnDisconnect.remove","onComplete",n,!0);const t=this._delegate.remove();return n&&t.then(()=>n(null),i=>n(i)),t}set(n,t){(0,w.Dv)("OnDisconnect.set",1,2,arguments.length),(0,w.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){(0,w.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,w.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(n,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(n,t){if((0,w.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const r={};for(let s=0;s<n.length;++s)r[""+s]=n[s];n=r,Lx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,w.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(n);return t&&i.then(()=>t(null),r=>t(r)),i}}class c9{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return(0,w.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Da{constructor(n,t){this._database=n,this._delegate=t}val(){return(0,w.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,w.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,w.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,w.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,w.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),sp("DataSnapshot.child","path",n,!1),new Da(this._database,this._delegate.child(n))}hasChild(n){return(0,w.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sp("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,w.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,w.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,w.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new Da(this._database,t)))}hasChildren(){return(0,w.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,w.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,w.Dv)("DataSnapshot.ref",0,0,arguments.length),new Er(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ei{constructor(n,t){this.database=n,this._delegate=t}on(n,t,i,r){var s;(0,w.Dv)("Query.on",2,4,arguments.length),(0,w.Wj)("Query.on","callback",t,!1);const o=Ei.getCancelAndContextArgs_("Query.on",i,r),a=(d,p)=>{t.call(o.context,new Da(this.database,d),p)};a.userCallback=t,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(n){case"value":return lE(this._delegate,a,l),t;case"child_added":return Sx(this._delegate,a,l),t;case"child_removed":return Rx(this._delegate,a,l),t;case"child_changed":return Nx(this._delegate,a,l),t;case"child_moved":return Ax(this._delegate,a,l),t;default:throw new Error((0,w.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,i){if((0,w.Dv)("Query.off",0,3,arguments.length),function(e,n,t){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,w.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,w.Wj)("Query.off","callback",t,!0),(0,w.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Mx(this._delegate,n,r)}else Mx(this._delegate,n)}get(){return yq(this._delegate).then(n=>new Da(this.database,n))}once(n,t,i,r){(0,w.Dv)("Query.once",1,4,arguments.length),(0,w.Wj)("Query.once","callback",t,!0);const s=Ei.getCancelAndContextArgs_("Query.once",i,r),o=new w.BH,a=(d,p)=>{const g=new Da(this.database,d);t&&t.call(s.context,g,p),o.resolve(g)};a.userCallback=t,a.context=s.context;const l=d=>{s.cancel&&s.cancel.call(s.context,d),o.reject(d)};switch(n){case"value":lE(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Sx(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Rx(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Nx(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Ax(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,w.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(n){return(0,w.Dv)("Query.limitToFirst",1,1,arguments.length),new Ei(this.database,ms(this._delegate,function Sq(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Tq(e)}(n)))}limitToLast(n){return(0,w.Dv)("Query.limitToLast",1,1,arguments.length),new Ei(this.database,ms(this._delegate,function Aq(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nq(e)}(n)))}orderByChild(n){return(0,w.Dv)("Query.orderByChild",1,1,arguments.length),new Ei(this.database,ms(this._delegate,function Mq(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sp("orderByChild","path",e,!1),new Rq(e)}(n)))}orderByKey(){return(0,w.Dv)("Query.orderByKey",0,0,arguments.length),new Ei(this.database,ms(this._delegate,function xq(){return new Oq}()))}orderByPriority(){return(0,w.Dv)("Query.orderByPriority",0,0,arguments.length),new Ei(this.database,ms(this._delegate,function kq(){return new Pq}()))}orderByValue(){return(0,w.Dv)("Query.orderByValue",0,0,arguments.length),new Ei(this.database,ms(this._delegate,function Lq(){return new Fq}()))}startAt(n=null,t){return(0,w.Dv)("Query.startAt",0,2,arguments.length),new Ei(this.database,ms(this._delegate,function Eq(e=null,n){return rp("startAt","key",n,!0),new xx(e,n)}(n,t)))}startAfter(n=null,t){return(0,w.Dv)("Query.startAfter",0,2,arguments.length),new Ei(this.database,ms(this._delegate,function Iq(e,n){return rp("startAfter","key",n,!0),new Dq(e,n)}(n,t)))}endAt(n=null,t){return(0,w.Dv)("Query.endAt",0,2,arguments.length),new Ei(this.database,ms(this._delegate,function bq(e,n){return rp("endAt","key",n,!0),new Ox(e,n)}(n,t)))}endBefore(n=null,t){return(0,w.Dv)("Query.endBefore",0,2,arguments.length),new Ei(this.database,ms(this._delegate,function Cq(e,n){return rp("endBefore","key",n,!0),new wq(e,n)}(n,t)))}equalTo(n,t){return(0,w.Dv)("Query.equalTo",1,2,arguments.length),new Ei(this.database,ms(this._delegate,function Bq(e,n){return rp("equalTo","key",n,!0),new Vq(e,n)}(n,t)))}toString(){return(0,w.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,w.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,w.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Ei))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,w.Wj)(n,"cancel",r.cancel,!0),r.context=i,(0,w.lb)(n,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,w.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Er(this.database,new Qr(this._delegate._repo,this._delegate._path))}}class Er extends Ei{constructor(n,t){super(n,new ur(t._repo,t._path,new V_,!1)),this.database=n,this._delegate=t}getKey(){return(0,w.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,w.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Er(this.database,Fl(this._delegate,n))}getParent(){(0,w.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Er(this.database,n):null}getRoot(){return(0,w.Dv)("Reference.root",0,0,arguments.length),new Er(this.database,this._delegate.root)}set(n,t){(0,w.Dv)("Reference.set",1,2,arguments.length),(0,w.Wj)("Reference.set","onComplete",t,!0);const i=aE(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}update(n,t){if((0,w.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const r={};for(let s=0;s<n.length;++s)r[""+s]=n[s];n=r,Lx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yr("Reference.update",this._delegate._path),(0,w.Wj)("Reference.update","onComplete",t,!0);const i=vq(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){(0,w.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,w.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function _q(e,n,t){if(Yr("setWithPriority",e._path),Ks("setWithPriority",n,e._path,!1),JC("setWithPriority",t,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new w.BH;return eE(e._repo,e._path,n,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(n){(0,w.Dv)("Reference.remove",0,1,arguments.length),(0,w.Wj)("Reference.remove","onComplete",n,!0);const t=function gq(e){return Yr("remove",e._path),aE(e,null)}(this._delegate);return n&&t.then(()=>n(null),i=>n(i)),t}transaction(n,t,i){(0,w.Dv)("Reference.transaction",1,3,arguments.length),(0,w.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,w.Wj)("Reference.transaction","onComplete",t,!0),function(e,n,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,w.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function n9(e,n,t){var i;if(e=(0,w.m9)(e),Yr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new w.BH,a=lE(e,()=>{});return function aq(e,n,t,i,r,s){Ju(e,"transaction on "+n);const o={path:n,update:t,onComplete:i,status:null,order:kM(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=nE(e,n,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ip("transaction failed: Data returned ",l,o.path),o.status=0;const d=tv(e.transactionQueueTree_,n),p=Pl(d)||[];let g;p.push(o),KC(d,p),"object"==typeof l&&null!==l&&(0,w.r3)(l,".priority")?(g=(0,w.DV)(l,".priority"),(0,w.hu)(np(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(X_(e.serverSyncTree_,n)||We.EMPTY_NODE).getPriority().val();const _=op(e),v=Dn(l,g),C=zC(v,a,_);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=C,o.currentWriteId=sv(e);const I=BC(e.serverSyncTree_,n,C,o.currentWriteId,o.applyLocally);Cr(e.eventQueue_,n,I),ov(e,e.transactionQueueTree_)}}(e._repo,e._path,n,(l,d,p)=>{let g=null;l?s.reject(l):(g=new kl(p,new Qr(e._repo,e._path),rn),s.resolve(new t9(d,g)))},a,r),s.promise}(this._delegate,n,{applyLocally:i}).then(s=>new c9(s.committed,new Da(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(n,t){(0,w.Dv)("Reference.setPriority",1,2,arguments.length),(0,w.Wj)("Reference.setPriority","onComplete",t,!0);const i=function mq(e,n){e=(0,w.m9)(e),Yr("setPriority",e._path),JC("setPriority",n,!1);const t=new w.BH;return eE(e._repo,gn(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}push(n,t){(0,w.Dv)("Reference.push",0,2,arguments.length),(0,w.Wj)("Reference.push","onComplete",t,!0);const i=function pq(e,n){e=(0,w.m9)(e),Yr("push",e._path),Ks("push",n,e._path,!0);const t=fx(e._repo),i=fq(t),r=Fl(e,i),s=Fl(e,i);let o;return o=null!=n?aE(s,n).then(()=>s):Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}(this._delegate,n),r=i.then(o=>new Er(this.database,o));t&&r.then(()=>t(null),o=>t(o));const s=new Er(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Yr("Reference.onDisconnect",this._delegate._path),new l9(new Dx(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class cp{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zq,forceLongPolling:qq}}useEmulator(n,t,i={}){!function Fx(e,n,t,i={}){(e=(0,w.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&zs("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new jf(jf.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:(0,w.Sg)(i.mockUserToken,e.app.options.projectId);s=new jf(o)}!function Uq(e,n,t,i){e.repoInfo_=new aC(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,n,t,s)}(this._delegate,n,t,i)}ref(n){if((0,w.Dv)("database.ref",0,1,arguments.length),n instanceof Er){const t=Tx(this._delegate,n.toString());return new Er(this,t)}{const t=Ix(this._delegate,n);return new Er(this,t)}}refFromURL(n){(0,w.Dv)("database.refFromURL",1,1,arguments.length);const i=Tx(this._delegate,n);return new Er(this,i)}goOffline(){return(0,w.Dv)("database.goOffline",0,0,arguments.length),function Zq(e){(e=(0,w.m9)(e))._checkNotDeleted("goOffline"),_x(e._repo)}(this._delegate)}goOnline(){return(0,w.Dv)("database.goOnline",0,0,arguments.length),function Kq(e){(e=(0,w.m9)(e))._checkNotDeleted("goOnline"),function oq(e){e.persistentConnection_&&e.persistentConnection_.resume(hx)}(e._repo)}(this._delegate)}}cp.ServerValue={TIMESTAMP:function Xq(){return Jq}(),increment:e=>function e9(e){return{".sv":{increment:e}}}(e)};var d9=Object.freeze({__proto__:null,initStandalone:function u9({app:e,url:n,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){nC(t);const a=new Il.H0("database-standalone"),l=new Il.zt("auth-internal",a);let d;return l.setComponent(new Il.wA("auth-internal",()=>i,"PRIVATE")),r&&(d=new Il.zt("app-check-internal",a),d.setComponent(new Il.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new cp(uE(e,l,d,n,o),e),namespace:s}}});const h9=cp.ServerValue;function up(e,n,t="on",i=T_){return new $e(r=>{let s=null;return s=e[t](n,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),"once"===t&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),"on"===t?{unsubscribe(){null!=s&&e.off(n,s)}}:{unsubscribe(){}}}).pipe(ge(r=>{const{snapshot:s,prevKey:o}=r;let a=null;return s.exists()&&(a=s.key),{type:n,payload:s,prevKey:o,key:a}}),Pe())}function Vx(e){return null==e}function Bx(e){return"function"==typeof e.set}function jx(e,n){return Bx(n)?n:e.ref(n)}function Ux(e,n){if(function p9(e){return"string"==typeof e}(e))return n.stringCase();if(Bx(e))return n.firebaseCase();if(function g9(e){return"function"==typeof e.exportVal}(e))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Hx(e){return(Vx(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function $x(e,n,t){return z(...(n=Hx(n)).map(r=>up(e,r,"on",t)))}function Gx(e,n){return function(i,r){return Ux(i,{stringCase:()=>e.child(i)[n](r),firebaseCase:()=>i[n](r),snapshotCase:()=>i.ref[n](r)})}}function y9(e){return function(t){return t?Ux(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function Wx(e,n){const t=e.length;for(let i=0;i<t;i++)if(e[i].payload.key===n)return i;return-1}function C9(e,n){const{payload:t,prevKey:i,key:r}=n,s=Wx(e,r),o=function w9(e,n){if(Vx(n))return 0;{const t=Wx(e,n);return-1===t?e.length:t+1}}(e,i);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(l=>{const d={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,d],!1})}return e;case"child_added":if(s>-1)(e[s-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==t.key)).splice(o,0,n);else{if(null==i)return[n,...e];(e=e.slice()).splice(o,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===r?n:a);case"child_moved":if(s>-1){const a=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,a),e}return e;default:return e}}function zx(e,n,t){return function b9(e,n,t){return up(e,"value","once",t).pipe(pt(i=>{const r=[W(i)];return n.forEach(s=>r.push(up(e,s,"on",t))),z(...r).pipe(Tw(C9,[]))}),Qt())}(e,n=Hx(n),t)}function qx(e,n){return function(){return up(e,"value","on",n)}}!function f9(e){e.INTERNAL.registerComponent(new Il.wA("database-compat",(n,{instanceIdentifier:t})=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("database").getImmediate({identifier:t});return new cp(r,i)},"PUBLIC").setServiceProps({Reference:Er,Query:Ei,Database:cp,DataSnapshot:Da,enableLogging:Yq,INTERNAL:d9,ServerValue:h9}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.3")}(fa.Z);const I9=new ue("angularfire2.realtimeDatabaseURL"),T9=new ue("angularfire2.database.use-emulator");let Zx=(()=>{class e{schedulers;database;constructor(t,i,r,s,o,a,l,d,p,g,_,v,C,I,A){this.schedulers=a;const B=l,M=Jw(t,o,i);d&&MM(M,o,p,_,v,C,g,I),this.database=wM(`${M.name}.database.${r}`,"AngularFireDatabase",M.name,()=>{const K=o.runOutsideAngular(()=>M.database(r||void 0));return B&&K.useEmulator(...B),K},[B])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>jx(this.database,t));let s=r;return i&&(s=i(r)),function E9(e,n){const t=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Gx(i,"update"),set:Gx(i,"set"),push:r=>i.push(r),remove:y9(i),snapshotChanges:r=>zx(e,r,t).pipe(ha),stateChanges:r=>$x(e,r,t).pipe(ha),auditTrail:r=>function m9(e,n,t){return function v9(e,n,t){return function _9(e,n){return up(e,"value","on",n).pipe(ge(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(e,t).pipe(A_(n),ge(([r,s])=>{const o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function v4(e){return H((n,t)=>{let i=!1,r=0;n.subscribe(he(t,s=>(i||(i=!e(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),ge(r=>r.actions))}(e,$x(e,n).pipe(Tw((r,s)=>[...r,s],[])),t)}(e,r,t).pipe(ha),valueChanges:(r,s)=>zx(e,r,t).pipe(ge(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),ha)}}(s,this)}object(t){return function D9(e,n){return{query:e,snapshotChanges:()=>qx(e,n.schedulers.outsideAngular)().pipe(ha),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>qx(e,n.schedulers.outsideAngular)().pipe(ha,ge(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>jx(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(ne(S_),ne(N_,8),ne(I9,8),ne(Ls),ne(st),ne(yM),ne(T9,8),ne(Xw,8),ne(IM,8),ne(TM,8),ne(SM,8),ne(NM,8),ne(AM,8),ne(RM,8),ne(_M,8))};static \u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),S9=(()=>{class e{constructor(){fa.Z.registerVersion("angularfire",Qw.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=yt({type:e});static \u0275inj=ht({providers:[Zx]})}return e})(),N9=(()=>{class e{constructor(t){this.db=t,this.refHibajegyek=t.list("hibak")}getErrors(){return this.refHibajegyek}pushError(t){return this.refHibajegyek.push(t)}saveError(t){return this.refHibajegyek.update(t.key,t)}deleteError(t){return this.refHibajegyek.remove(t.key)}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Zx))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kx=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||e)(O(yr),O(xt))};static#t=this.\u0275dir=ae({type:e})}return e})(),Ll=(()=>{class e extends Kx{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=cn(e)))(r||e)}}();static#t=this.\u0275dir=ae({type:e,features:[Pt]})}return e})();const Jr=new ue("NgValueAccessor"),M9={provide:Jr,useExisting:F(()=>dv),multi:!0},x9=new ue("CompositionEventMode");let dv=(()=>{class e extends Kx{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O9(){const e=sa()?sa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||e)(O(yr),O(xt),O(x9,8))};static#t=this.\u0275dir=ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ot("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[zt([M9]),Pt]})}return e})();const Di=new ue("NgValidators"),Ta=new ue("NgAsyncValidators");function oP(e){return null!=e}function aP(e){return Yh(e)?S(e):e}function lP(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function cP(e,n){return n.map(t=>t(e))}function uP(e){return e.map(n=>function k9(e){return!e.validate}(n)?n:t=>n.validate(t))}function dE(e){return null!=e?function dP(e){if(!e)return null;const n=e.filter(oP);return 0==n.length?null:function(t){return lP(cP(t,n))}}(uP(e)):null}function hE(e){return null!=e?function hP(e){if(!e)return null;const n=e.filter(oP);return 0==n.length?null:function(t){return function A9(...e){const n=ts(e),{args:t,keys:i}=sR(e),r=new $e(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let p=0;p<o;p++){let g=!1;se(t[p]).subscribe(he(s,_=>{g||(g=!0,d--),a[p]=_},()=>l--,void 0,()=>{(!l||!g)&&(d||s.next(i?oR(i,a):a),s.complete())}))}});return n?r.pipe(Ew(n)):r}(cP(t,n).map(aP)).pipe(ge(lP))}}(uP(e)):null}function fP(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function fE(e){return e?Array.isArray(e)?e:[e]:[]}function fv(e,n){return Array.isArray(e)?e.includes(n):e===n}function mP(e,n){const t=fE(n);return fE(e).forEach(r=>{fv(t,r)||t.push(r)}),t}function _P(e,n){return fE(n).filter(t=>!fv(e,t))}class vP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=dE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Yi extends vP{get formDirective(){return null}get path(){return null}}class Sa extends vP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yP{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bP=(()=>{class e extends yP{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(O(Sa,2))};static#t=this.\u0275dir=ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Dt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Pt]})}return e})();const dp="VALID",gv="INVALID",ed="PENDING",hp="DISABLED";function mv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class DP{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===dp}get invalid(){return this.status===gv}get pending(){return this.status==ed}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(mP(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(mP(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(_P(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(_P(n,this._rawAsyncValidators))}hasValidator(n){return fv(this._rawValidators,n)}hasAsyncValidator(n){return fv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ed,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=hp,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=dp,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dp||this.status===ed)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ed,this._hasOwnPendingAsyncValidator=!0;const t=aP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?gv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ed)?ed:this._anyControlsHaveStatus(gv)?gv:dp}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){mv(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function j9(e){return Array.isArray(e)?dE(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function U9(e){return Array.isArray(e)?hE(e):e||null}(this._rawAsyncValidators)}}const td=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>_v}),_v="always";function fp(e,n,t=_v){(function yE(e,n){const t=function pP(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(fP(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function gP(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(fP(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();bv(n._rawValidators,r),bv(n._rawAsyncValidators,r)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function G9(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&IP(e,n)})}(e,n),function z9(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function W9(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&IP(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function $9(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function bv(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function IP(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function NP(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function AP(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const RP=class extends DP{constructor(n=null,t,i){super(function mE(e){return(mv(e)?e.validators:e)||null}(t),function _E(e,n){return(mv(n)?n.asyncValidators:e)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=AP(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){NP(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){NP(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){AP(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},eZ={provide:Sa,useExisting:F(()=>DE)},xP=(()=>Promise.resolve())();let DE=(()=>{class e extends Sa{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new RP,this._registered=!1,this.name="",this.update=new Te,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function CE(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===dv?t=s:function K9(e){return Object.getPrototypeOf(e.constructor)===Ll}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function wE(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&function Tu(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(i);xP.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function vv(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||e)(O(Yi,9),O(Di,10),O(Ta,10),O(Jr,10),O(cs,8),O(td,8))};static#t=this.\u0275dir=ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([eZ]),Pt,Yn]})}return e})(),kP=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),IZ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({imports:[kP]})}return e})(),SZ=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:td,useValue:t.callSetDisabledState??_v}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({imports:[IZ]})}return e})();const NZ=["ngbalert"];function AZ(e,n){if(1&e){const t=Ur();Zh(0),Ae(1,"div",3),wn(2),Ae(3,"input",4),ot("ngModelChange",function(r){return vi(t),Qn(Ne().email=r)}),xe(),Ae(4,"span",5),wn(5,"@gmail.com"),xe()(),Ae(6,"button",2),ot("click",function(){return vi(t),Qn(Ne().sendInEmailLink())}),wn(7,"Hibajegy lead\xe1sa"),xe(),Kh()}if(2&e){const t=Ne();Ee(2),$s(" ",t.email," "),Ee(1),De("ngModel",t.email)}}function RZ(e,n){if(1&e&&(Zh(0),Ae(1,"div",10),wn(2),xe(),Kh()),2&e){const t=Ne(2);Ee(2),$s(" ",t.message," ")}}function MZ(e,n){if(1&e){const t=Ur();Ae(0,"div",6)(1,"label",7),wn(2,"Hiba le\xedr\xe1sa"),xe(),Ae(3,"textarea",8),ot("ngModelChange",function(r){return vi(t),Qn(Ne().errorMessage=r)}),xe()(),Ae(4,"button",2),ot("click",function(){return vi(t),Qn(Ne().sendError())}),wn(5,"Hibajegy lead\xe1sa"),xe(),Se(6,RZ,3,1,"ng-container",9)}if(2&e){const t=Ne();Ee(3),De("ngModel",t.errorMessage),Ee(3),De("ngIf",t.sendOk)}}const OZ=[{path:"",component:(()=>{class e{constructor(t,i){this.auth=t,this.base=i,this.alert={type:"success",message:"This is an success alert"},this.sendOk=!1,this.message="",this.auth.getLoggedUser().subscribe(r=>{this.user=r,console.log("user:",r)}),this.email=window.localStorage.getItem("email"),this.email&&this.auth.signInEmailLink(this.email).then(r=>{window.localStorage.removeItem("email")}).catch(r=>console.log("Nok:",r))}sendInEmailLink(){this.email=String(this.email)+"@gmail.com",window.localStorage.setItem("email",this.email),console.log("email",this.email),this.auth.sendInEmailLink(this.email)}logout(){this.auth.logout()}sendError(){var t={email:this.user.email,date:new Date,errorMessage:this.errorMessage,status:"Felv\xe9ve"};console.log("Body:",t),this.base.pushError(t).then(i=>{this.sendOk=!0,this.message="A hibajegyet r\xf6gz\xedtett\xfck, feldolgoz\xe1sa folyamatban van!",setTimeout(()=>{this.sendOk=!1,this.logout()},2e3)}).catch(i=>{this.sendOk=!0,this.message="A hib\xe1t nem siker\xfclt r\xf6gz\xedten\xfcnk, pr\xf3b\xe1lja meg k\xe9s\u0151bb.",this.logout()})}close(t){}proba(){this.ngbalert.Close()}static#e=this.\u0275fac=function(i){return new(i||e)(O(_4),O(N9))};static#t=this.\u0275cmp=si({type:e,selectors:[["app-hibabejelentes"]],viewQuery:function(i,r){if(1&i&&na(NZ,5),2&i){let s;Ft(s=Lt())&&(r.ngbalert=s.first)}},decls:9,vars:5,consts:[[4,"ngIf","ngIfElse"],["hibabejelentes",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"input-group","mb-3"],["type","text","placeholder","Recipient's username","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",3,"ngModel","ngModelChange"],["id","basic-addon2",1,"input-group-text"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["role","alert",1,"alert","alert-success"]],template:function(i,r){if(1&i&&(Ae(0,"p"),wn(1,"hibabejelentes works!"),xe(),wn(2),function XS(e,n){const t=gt();let i;const r=e+rt;t.firstCreatePass?(i=function KU(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=ro(i.type)),a=Ai(O);try{const l=Hc(!1),d=s();return Hc(l),function kB(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,ee(),r,d),d}finally{Ai(a)}}(3,"json"),Se(4,AZ,8,2,"ng-container",0),Se(5,MZ,7,2,"ng-template",null,1,Wr),Ae(7,"button",2),ot("click",function(){return r.logout()}),wn(8,"Kil\xe9p\xe9s"),xe()),2&i){const s=function ss(e){return rr(function Ey(){return ke.lFrame.contextLView}(),rt+e)}(6);Ee(2),$s("\nuser",eN(3,3,r.user)," "),Ee(2),De("ngIf",!r.user)("ngIfElse",s)}},dependencies:[aa,dv,bP,DE,PA]})}return e})()},{path:"errorreport",component:(()=>{class e{constructor(){this.email=window.localStorage.getItem("email")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=si({type:e,selectors:[["app-error-report"]],decls:3,vars:1,template:function(i,r){1&i&&(Ae(0,"p"),wn(1,"error-report works!"),xe(),wn(2)),2&i&&(Ee(2),$s("\nemail",r.email,""))}})}return e})()}];let xZ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({imports:[fM.forRoot(OZ),fM]})}return e})(),PZ=(()=>{class e{constructor(){this.title="ErrorTicket"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=si({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(i,r){1&i&&(Ae(0,"div",0),js(1,"router-outlet"),xe())},dependencies:[jw]})}return e})();const kZ=["addListener","removeListener"],FZ=["addEventListener","removeEventListener"],LZ=["on","off"];function Ii(e,n,t,i){if(b(t)&&(i=t,t=void 0),i)return Ii(e,n,t).pipe(Ew(i));const[r,s]=function jZ(e){return b(e.addEventListener)&&b(e.removeEventListener)}(e)?FZ.map(o=>a=>e[o](n,a,t)):function VZ(e){return b(e.addListener)&&b(e.removeListener)}(e)?kZ.map(XP(e,n)):function BZ(e){return b(e.on)&&b(e.off)}(e)?LZ.map(XP(e,n)):[];if(!r&&dt(e))return wt(o=>Ii(o,n,t))(se(e));if(!r)throw new TypeError("Invalid event target");return new $e(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function XP(e,n){return t=>i=>e[t](n,i)}const{isArray:HZ}=Array;function tk(e){return 1===e.length&&HZ(e[0])?e[0]:e}function ME(...e){const n=ts(e),t=tk(e);return t.length?new $e(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<t.length;o++)se(t[o]).subscribe(he(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(d=>d.shift());i.next(n?n(...l):l),r.some((d,p)=>!d.length&&s[p])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Bt}Math,Math,Math;const b7=["*"],Y7=["dialog"];function Ul(e){return"string"==typeof e}function Hl(e){return null!=e}function ad(e){return(e||document.body).getBoundingClientRect()}const Pk={animation:!0,transitionTimerDelayMs:5},HY=()=>{},{transitionTimerDelayMs:$Y}=Pk,Cp=new Map,fr=(e,n,t,i)=>{let r=i.context||{};const s=Cp.get(n);if(s)switch(i.runningTransition){case"continue":return Bt;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Cp.delete(n)}const o=t(n,i.animation,r)||HY;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>o()),W(void 0).pipe(function jY(e){return n=>new $e(t=>n.subscribe({next:o=>e.run(()=>t.next(o)),error:o=>e.run(()=>t.error(o)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new L,l=new L,d=a.pipe(function GZ(...e){return n=>_f(n,W(...e))}(!0));Cp.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const p=function UY(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const g=Ii(n,"transitionend").pipe(Mn(d),qn(({target:v})=>v===n));(function nk(...e){return 1===(e=tk(e)).length?se(e[0]):new $e(function $Z(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(se(e[i]).subscribe(he(n,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}n.next(r)})))}}(e))})(function ek(e=0,n,t=Jz){let i=-1;return null!=n&&(ri(n)?t=n:i=n),new $e(r=>{let s=function UZ(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(p+$Y).pipe(Mn(d)),g,l).pipe(Mn(d)).subscribe(()=>{Cp.delete(n),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Av=(()=>{class e{constructor(){this.animation=Pk.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$k=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),Gk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),qk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),Zk=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();var Zt=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Zt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const tF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nF(e){const n=Array.from(e.querySelectorAll(tF)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let gF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),vF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();class ql{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}let HQ=(()=>{class e{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{fr(this._zone,this._el.nativeElement,(t,i)=>{i&&ad(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)(O(xt),O(st))};static#t=this.\u0275cmp=si({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(ml("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Dt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[$r],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class yF{update(n){}close(n){}dismiss(n){}}const $Q=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],GQ=["animation","backdropClass"];class WQ{_applyWindowOptions(n,t){$Q.forEach(i=>{Hl(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){GQ.forEach(i=>{Hl(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new L,this._dismissed=new L,this._hidden=new L,n.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Mk(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():W(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ME(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sD=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(sD||{});let zQ=(()=>{class e{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new L,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Te,this.shown=new L,this.hidden=new L}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ul(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ci(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=ME(fr(this._zone,t,()=>t.classList.remove("show"),i),fr(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};ME(fr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&ad(s),s.classList.add("show")},t),fr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ii(t,"keydown").pipe(Mn(this._closed$),qn(r=>r.which===Zt.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(sD.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ii(this._dialogEl.nativeElement,"mousedown").pipe(Mn(this._closed$),ti(()=>i=!1),pt(()=>Ii(t,"mouseup").pipe(Mn(this._closed$),Ci(1))),qn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Ii(t,"click").pipe(Mn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(sD.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=nF(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)(O(Wn),O(xt),O(st))};static#t=this.\u0275cmp=si({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&na(Y7,7),2&i){let s;Ft(s=Lt())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(kt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ml("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Dt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[$r],ngContentSelectors:b7,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function E1(e){const n=ee()[vn][$n];if(!n.projection){const i=n.projection=ll(e?e.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=e?$B(s,e):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),Ae(0,"div",0,1)(2,"div",2),function D1(e,n=0,t){const i=ee(),r=gt(),s=du(r,rt+e,16,null,t||null);null===s.projection&&(s.projection=n),Qa(),(!i[mr]||Ps())&&32!=(32&s.flags)&&function WL(e,n,t){TI(n[Be],0,n,t,n0(e,t,n),bI(t.parent||n[$n],t,n))}(r,i,s)}(3),xe()()),2&i&&ml("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),qQ=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(t>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=o),r.overflow=s}}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ZQ=(()=>{class e{constructor(t,i,r,s,o,a,l){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new L,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Te,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,i=!1)=>{e.runOutsideAngular(()=>{const r=Ii(n,"focusin").pipe(Mn(t),ge(s=>s.target));Ii(n,"keydown").pipe(Mn(t),qn(s=>s.which===Zt.Tab),A_(r)).subscribe(([s,o])=>{const[a,l]=nF(n);(o===a||o===n)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Ii(n,"click").pipe(Mn(t),A_(r),ge(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:Hl(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new yF,l=(t=r.injector||t).get(zi,null)||this._environmentInjector,d=this._getContentRef(t,l,i,a,r);let p=!1!==r.backdrop?this._attachBackdrop(s):void 0,g=this._attachWindowComponent(s,d.nodes),_=new WQ(g,d,p,r.beforeDismiss);return this._registerModalRef(_),this._registerWindowCmpt(g),_.hidden.pipe(Ci(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=v=>{_.close(v)},a.dismiss=v=>{_.dismiss(v)},a.update=v=>{_.update(v)},_.update(r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),p&&p.instance&&p.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),_}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=zb(HQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=zb(zQ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,s,o){return r?r instanceof Cn?this._createFromTemplateRef(r,s):Ul(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,o):new ql([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new ql([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ql([[i]])}_createFromComponent(t,i,r,s,o){const l=zb(r,{environmentInjector:i,elementInjector:wi.create({providers:[{provide:yF,useValue:s}],parent:t})}),d=l.location.nativeElement;return o.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ql([[d]],l.hostView,l)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)(ne(ra),ne(wi),ne(zi),ne(Wn),ne(qQ),ne(O0),ne(st))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),KQ=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Av))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YQ=(()=>{class e{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)(ne(wi),ne(ZQ),ne(KQ))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({providers:[YQ]})}return e})(),EF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),MF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),OF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),xF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),PF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),kF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),FF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),LF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),VF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();new ue("live announcer delay",{providedIn:"root",factory:function dJ(){return 100}});let BF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})(),jF=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({})}return e})();const fJ=[$k,Gk,qk,Zk,gF,vF,bF,EF,jF,MF,OF,xF,PF,kF,FF,LF,VF,BF];let pJ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({imports:[fJ,$k,Gk,qk,Zk,gF,vF,bF,EF,jF,MF,OF,xF,PF,kF,FF,LF,VF,BF]})}return e})();class Hv{}class $v{}class Js{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Js;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Js?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const r=("a"===n.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class gJ{encodeKey(n){return UF(n)}encodeValue(n){return UF(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const _J=/%(\d[a-f0-9])/gi,vJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UF(e){return encodeURIComponent(e).replace(_J,(n,t)=>vJ[t]??n)}function Gv(e){return`${e}`}class Ra{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new gJ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mJ(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],r=Array.isArray(i)?i.map(Gv):[Gv(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ra({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Gv(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(Gv(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class yJ{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function HF(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $F(e){return typeof Blob<"u"&&e instanceof Blob}function GF(e){return typeof FormData<"u"&&e instanceof FormData}class Sp{constructor(n,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function bJ(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Js),this.context||(this.context=new yJ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ra,this.urlWithParams=t}serializeBody(){return null===this.body?null:HF(this.body)||$F(this.body)||GF(this.body)||function wJ(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ra?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GF(this.body)?null:$F(this.body)?this.body.type||null:HF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ra?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,d=n.params||this.params;const p=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((g,_)=>g.set(_,n.setHeaders[_]),l)),n.setParams&&(d=Object.keys(n.setParams).reduce((g,_)=>g.set(_,n.setParams[_]),d)),new Sp(t,i,s,{params:d,headers:l,context:p,reportProgress:a,responseType:r,withCredentials:o})}}var dd=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(dd||{});class aD{constructor(n,t=200,i="OK"){this.headers=n.headers||new Js,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class lD extends aD{constructor(n={}){super(n),this.type=dd.ResponseHeader}clone(n={}){return new lD({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class hd extends aD{constructor(n={}){super(n),this.type=dd.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new hd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class WF extends aD{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function cD(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let CJ=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Sp)s=t;else{let l,d;l=r.headers instanceof Js?r.headers:new Js(r.headers),r.params&&(d=r.params instanceof Ra?r.params:new Ra({fromObject:r.params})),s=new Sp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=W(s).pipe(Au(l=>this.handler.handle(l)));if(t instanceof Sp||"events"===r.observe)return o;const a=o.pipe(qn(l=>l instanceof hd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ge(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ra).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,cD(r,i))}post(t,i,r={}){return this.request("POST",t,cD(r,i))}put(t,i,r={}){return this.request("PUT",t,cD(r,i))}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Hv))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();function ZF(e,n){return n(e)}function DJ(e,n){return(t,i)=>n.intercept(t,{handle:r=>e(r,i)})}const TJ=new ue(""),Np=new ue(""),KF=new ue("");function SJ(){let e=null;return(n,t)=>{null===e&&(e=(oe(TJ,{optional:!0})??[]).reduceRight(DJ,ZF));const i=oe(jm),r=i.add();return e(n,t).pipe(yf(()=>i.remove(r)))}}let YF=(()=>{class e extends Hv{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=oe(jm)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Np),...this.injector.get(KF,[])]));this.chain=r.reduceRight((s,o)=>function IJ(e,n,t){return(i,r)=>t.runInContext(()=>n(i,s=>e(s,r)))}(s,o,this.injector),ZF)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(yf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||e)(ne($v),ne(zi))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const MJ=/^\)\]\}',?\n/;let JF=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new G(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?S(i.\u0275loadImpl()):W(null)).pipe(pt(()=>new $e(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((I,A)=>o.setRequestHeader(I,A.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&o.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();o.responseType="json"!==I?I:"text"}const a=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const I=o.statusText||"OK",A=new Js(o.getAllResponseHeaders()),B=function OJ(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new lD({headers:A,status:o.status,statusText:I,url:B}),l},p=()=>{let{headers:I,status:A,statusText:B,url:M}=d(),K=null;204!==A&&(K=typeof o.response>"u"?o.responseText:o.response),0===A&&(A=K?200:0);let ie=A>=200&&A<300;if("json"===t.responseType&&"string"==typeof K){const de=K;K=K.replace(MJ,"");try{K=""!==K?JSON.parse(K):null}catch(Fe){K=de,ie&&(ie=!1,K={error:Fe,text:K})}}ie?(s.next(new hd({body:K,headers:I,status:A,statusText:B,url:M||void 0})),s.complete()):s.error(new WF({error:K,headers:I,status:A,statusText:B,url:M||void 0}))},g=I=>{const{url:A}=d(),B=new WF({error:I,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});s.error(B)};let _=!1;const v=I=>{_||(s.next(d()),_=!0);let A={type:dd.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(A.total=I.total),"text"===t.responseType&&o.responseText&&(A.partialText=o.responseText),s.next(A)},C=I=>{let A={type:dd.UploadProgress,loaded:I.loaded};I.lengthComputable&&(A.total=I.total),s.next(A)};return o.addEventListener("load",p),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",v),null!==a&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:dd.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",p),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",v),null!==a&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||e)(ne(LA))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();const uD=new ue("XSRF_ENABLED"),XF=new ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eL=new ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tL{}let kJ=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=NA(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||e)(ne(Wn),ne(Ls),ne(XF))};static#t=this.\u0275prov=ce({token:e,factory:e.\u0275fac})}return e})();function FJ(e,n){const t=e.url.toLowerCase();if(!oe(uD)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const i=oe(tL).getToken(),r=oe(eL);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Ma=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ma||{});function LJ(...e){const n=[CJ,JF,YF,{provide:Hv,useExisting:YF},{provide:$v,useExisting:JF},{provide:Np,useValue:FJ,multi:!0},{provide:uD,useValue:!0},{provide:tL,useClass:kJ}];for(const t of e)n.push(...t.\u0275providers);return function g0(e){return{\u0275providers:e}}(n)}const nL=new ue("LEGACY_INTERCEPTOR_FN");function VJ(){return function Zl(e,n){return{\u0275kind:e,\u0275providers:n}}(Ma.LegacyInterceptors,[{provide:nL,useFactory:SJ},{provide:Np,useExisting:nL,multi:!0}])}let BJ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e});static#n=this.\u0275inj=ht({providers:[LJ(VJ())]})}return e})();const WJ_firebaseConfig={apiKey:"AIzaSyArRu_bbTD0hC_DRu8HJn4qQ-ykaPI7FfM",authDomain:"hibajegykezelo-abbcf.firebaseapp.com",databaseURL:"https://hibajegykezelo-abbcf-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hibajegykezelo-abbcf",storageBucket:"hibajegykezelo-abbcf.appspot.com",messagingSenderId:"1004493441010",appId:"1:1004493441010:web:38368f793168c6ea1b8d6b",measurementId:"G-V49P7DQXV1"};let zJ=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=yt({type:e,bootstrap:[PZ]});static#n=this.\u0275inj=ht({imports:[d8,xZ,pJ,SZ,BJ,h4.initializeApp(WJ_firebaseConfig),S9]})}return e})();c8().bootstrapModule(zJ).catch(e=>console.error(e))},614:()=>{const Vi=":";const St=function(x,...R){if(St.translate){const X=St.translate(x,R);x=X[0],R=X[1]}let j=dn(x[0],x.raw[0]);for(let X=1;X<x.length;X++)j+=R[X-1]+dn(x[X],x.raw[X]);return j},Pn=":";function dn(x,R){return R.charAt(0)===Pn?x.substring(function U(x,R){for(let j=1,X=1;j<x.length;j++,X++)if("\\"===R[X])X++;else if(x[j]===Vi)return j;throw new Error(`Unterminated $localize metadata block in "${R}".`)}(x,R)+1):x}globalThis.$localize=St},106:(Vi,In,Le)=>{Le.d(In,{Z:()=>on});var b=Le(58),Ie=Le(537),$=Le(534),Re=Le(879);class Xe{constructor(Me,He){this._delegate=Me,this.firebase=He,(0,$._addComponent)(Me,new Ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Me,He=$._DEFAULT_ENTRY_NAME){var Tn;this._delegate.checkDestroyed();const Sn=this._delegate.container.getProvider(Me);return!Sn.isInitialized()&&"EXPLICIT"===(null===(Tn=Sn.getComponent())||void 0===Tn?void 0:Tn.instantiationMode)&&Sn.initialize(),Sn.getImmediate({identifier:He})}_removeServiceInstance(Me,He=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(He)}_addComponent(Me){(0,$._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,$._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Kt=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ye(){const _t=function xn(_t){const Me={},He={__esModule:!0,initializeApp:function Rt(je,Nn={}){const Y=$.initializeApp(je,Nn);if((0,b.r3)(Me,Y.name))return Me[Y.name];const Ht=new _t(Y,He);return Me[Y.name]=Ht,Ht},app:Sn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Tt(je){const Nn=je.name,Y=Nn.replace("-compat","");if($._registerComponent(je)&&"PUBLIC"===je.type){const Ht=($t=Sn())=>{if("function"!=typeof $t[Y])throw Kt.create("invalid-app-argument",{appName:Nn});return $t[Y]()};void 0!==je.serviceProps&&(0,b.ZB)(Ht,je.serviceProps),He[Y]=Ht,_t.prototype[Y]=function(...$t){return this._getService.bind(this,Nn).apply(this,je.multipleInstances?$t:[])}}return"PUBLIC"===je.type?He[Y]:null},removeApp:function Tn(je){delete Me[je]},useAsService:function ii(je,Nn){return"serverAuth"===Nn?null:Nn},modularAPIs:$}};function Sn(je){if(!(0,b.r3)(Me,je=je||$._DEFAULT_ENTRY_NAME))throw Kt.create("no-app",{appName:je});return Me[je]}return He.default=He,Object.defineProperty(He,"apps",{get:function qe(){return Object.keys(Me).map(je=>Me[je])}}),Sn.App=_t,He}(Xe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function Me(He){(0,b.ZB)(_t,He)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),_t}(),re=new Re.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const on=Q;!function ft(_t){(0,$.registerVersion)("@firebase/app-compat","0.2.27",_t)}()},534:(Vi,In,Le)=>{Le.r(In),Le.d(In,{FirebaseError:()=>Re.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>Qe,_addComponent:()=>Bi,_addOrOverwriteComponent:()=>An,_apps:()=>fn,_clearComponents:()=>Bt,_components:()=>di,_getProvider:()=>wt,_registerComponent:()=>kn,_removeServiceInstance:()=>Ct,deleteApp:()=>fi,getApp:()=>Es,getApps:()=>Io,initializeApp:()=>ts,onLog:()=>To,registerVersion:()=>Ds,setLogLevel:()=>ec});var b=Le(861),Ie=Le(537),$=Le(879),Re=Le(58);const Xe=(F,N)=>N.some(te=>F instanceof te);let Gt,Kt;const Q=new WeakMap,re=new WeakMap,me=new WeakMap,ze=new WeakMap,ft=new WeakMap;let Me={get(F,N,te){if(F instanceof IDBTransaction){if("done"===N)return re.get(F);if("objectStoreNames"===N)return F.objectStoreNames||me.get(F);if("store"===N)return te.objectStoreNames[1]?void 0:te.objectStore(te.objectStoreNames[0])}return Rt(F[N])},set:(F,N,te)=>(F[N]=te,!0),has:(F,N)=>F instanceof IDBTransaction&&("done"===N||"store"===N)||N in F};function Sn(F){return"function"==typeof F?function Tn(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...N){return F.apply(qe(this),N),Rt(Q.get(this))}:function(...N){return Rt(F.apply(qe(this),N))}:function(N,...te){const _e=F.call(qe(this),N,...te);return me.set(_e,N.sort?N.sort():[N]),Rt(_e)}}(F):(F instanceof IDBTransaction&&function _t(F){if(re.has(F))return;const N=new Promise((te,_e)=>{const Ue=()=>{F.removeEventListener("complete",nt),F.removeEventListener("error",G),F.removeEventListener("abort",G)},nt=()=>{te(),Ue()},G=()=>{_e(F.error||new DOMException("AbortError","AbortError")),Ue()};F.addEventListener("complete",nt),F.addEventListener("error",G),F.addEventListener("abort",G)});re.set(F,N)}(F),Xe(F,function xn(){return Gt||(Gt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,Me):F)}function Rt(F){if(F instanceof IDBRequest)return function on(F){const N=new Promise((te,_e)=>{const Ue=()=>{F.removeEventListener("success",nt),F.removeEventListener("error",G)},nt=()=>{te(Rt(F.result)),Ue()},G=()=>{_e(F.error),Ue()};F.addEventListener("success",nt),F.addEventListener("error",G)});return N.then(te=>{te instanceof IDBCursor&&Q.set(te,F)}).catch(()=>{}),ft.set(N,F),N}(F);if(ze.has(F))return ze.get(F);const N=Sn(F);return N!==F&&(ze.set(F,N),ft.set(N,F)),N}const qe=F=>ft.get(F),je=["get","getKey","getAll","getAllKeys","count"],Nn=["put","add","delete","clear"],Y=new Map;function Ht(F,N){if(!(F instanceof IDBDatabase)||N in F||"string"!=typeof N)return;if(Y.get(N))return Y.get(N);const te=N.replace(/FromIndex$/,""),_e=N!==te,Ue=Nn.includes(te);if(!(te in(_e?IDBIndex:IDBObjectStore).prototype)||!Ue&&!je.includes(te))return;const nt=function(){var G=(0,b.Z)(function*(pn,...we){const tt=this.transaction(pn,Ue?"readwrite":"readonly");let No=tt.store;return _e&&(No=No.index(we.shift())),(yield Promise.all([No[te](...we),Ue&&tt.done]))[0]});return function(we){return G.apply(this,arguments)}}();return Y.set(N,nt),nt}!function He(F){Me=F(Me)}(F=>({...F,get:(N,te,_e)=>Ht(N,te)||F.get(N,te,_e),has:(N,te)=>!!Ht(N,te)||F.has(N,te)}));class $t{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(te=>{if(function an(F){const N=F.getComponent();return"VERSION"===N?.type}(te)){const _e=te.getImmediate();return`${_e.library}/${_e.version}`}return null}).filter(te=>te).join(" ")}}const Ji="@firebase/app",$e=new $.Yd("@firebase/app"),Qe="[DEFAULT]",hn={[Ji]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,di=new Map;function Bi(F,N){try{F.container.addComponent(N)}catch(te){$e.debug(`Component ${N.name} failed to register with FirebaseApp ${F.name}`,te)}}function An(F,N){F.container.addOrOverwriteComponent(N)}function kn(F){const N=F.name;if(di.has(N))return $e.debug(`There were multiple attempts to register component ${N}.`),!1;di.set(N,F);for(const te of fn.values())Bi(te,F);return!0}function wt(F,N){const te=F.container.getProvider("heartbeat").getImmediate({optional:!0});return te&&te.triggerHeartbeat(),F.container.getProvider(N)}function Ct(F,N,te=Qe){wt(F,N).clearInstance(te)}function Bt(){di.clear()}const hi=new Re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ri{constructor(N,te,_e){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},te),this._name=te.name,this._automaticDataCollectionEnabled=te.automaticDataCollectionEnabled,this._container=_e,this.container.addComponent(new Ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const es="10.8.0";function ts(F,N={}){let te=F;"object"!=typeof N&&(N={name:N});const _e=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},N),Ue=_e.name;if("string"!=typeof Ue||!Ue)throw hi.create("bad-app-name",{appName:String(Ue)});if(te||(te=(0,Re.aH)()),!te)throw hi.create("no-options");const nt=fn.get(Ue);if(nt){if((0,Re.vZ)(te,nt.options)&&(0,Re.vZ)(_e,nt.config))return nt;throw hi.create("duplicate-app",{appName:Ue})}const G=new Ie.H0(Ue);for(const we of di.values())G.addComponent(we);const pn=new ri(te,_e,G);return fn.set(Ue,pn),pn}function Es(F=Qe){const N=fn.get(F);if(!N&&F===Qe&&(0,Re.aH)())return ts();if(!N)throw hi.create("no-app",{appName:F});return N}function Io(){return Array.from(fn.values())}function fi(F){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,b.Z)(function*(F){const N=F.name;fn.has(N)&&(fn.delete(N),yield Promise.all(F.container.getProviders().map(te=>te.delete())),F.isDeleted=!0)})).apply(this,arguments)}function Ds(F,N,te){var _e;let Ue=null!==(_e=hn[F])&&void 0!==_e?_e:F;te&&(Ue+=`-${te}`);const nt=Ue.match(/\s|\//),G=N.match(/\s|\//);if(nt||G){const pn=[`Unable to register library "${Ue}" with version "${N}":`];return nt&&pn.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),nt&&G&&pn.push("and"),G&&pn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void $e.warn(pn.join(" "))}kn(new Ie.wA(`${Ue}-version`,()=>({library:Ue,version:N}),"VERSION"))}function To(F,N){if(null!==F&&"function"!=typeof F)throw hi.create("invalid-log-argument");(0,$.Am)(F,N)}function ec(F){(0,$.Ub)(F)}const xa="firebase-heartbeat-database",So=1,T="firebase-heartbeat-store";let E=null;function S(){return E||(E=function Tt(F,N,{blocked:te,upgrade:_e,blocking:Ue,terminated:nt}={}){const G=indexedDB.open(F,N),pn=Rt(G);return _e&&G.addEventListener("upgradeneeded",we=>{_e(Rt(G.result),we.oldVersion,we.newVersion,Rt(G.transaction),we)}),te&&G.addEventListener("blocked",we=>te(we.oldVersion,we.newVersion,we)),pn.then(we=>{nt&&we.addEventListener("close",()=>nt()),Ue&&we.addEventListener("versionchange",tt=>Ue(tt.oldVersion,tt.newVersion,tt))}).catch(()=>{}),pn}(xa,So,{upgrade:(F,N)=>{if(0===N)try{F.createObjectStore(T)}catch(te){console.warn(te)}}}).catch(F=>{throw hi.create("idb-open",{originalErrorMessage:F.message})})),E}function k(){return(k=(0,b.Z)(function*(F){try{const te=(yield S()).transaction(T),_e=yield te.objectStore(T).get(Ze(F));return yield te.done,_e}catch(N){if(N instanceof Re.ZR)$e.warn(N.message);else{const te=hi.create("idb-get",{originalErrorMessage:N?.message});$e.warn(te.message)}}})).apply(this,arguments)}function W(F,N){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,b.Z)(function*(F,N){try{const _e=(yield S()).transaction(T,"readwrite");yield _e.objectStore(T).put(N,Ze(F)),yield _e.done}catch(te){if(te instanceof Re.ZR)$e.warn(te.message);else{const _e=hi.create("idb-set",{originalErrorMessage:te?.message});$e.warn(_e.message)}}})).apply(this,arguments)}function Ze(F){return`${F.name}!${F.options.appId}`}class jn{constructor(N){this.container=N,this._heartbeatsCache=null;const te=this.container.getProvider("app").getImmediate();this._storage=new jt(te),this._heartbeatsCachePromise=this._storage.read().then(_e=>(this._heartbeatsCache=_e,_e))}triggerHeartbeat(){var N=this;return(0,b.Z)(function*(){var te,_e;const nt=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),G=be();if((null!=(null===(te=N._heartbeatsCache)||void 0===te?void 0:te.heartbeats)||(N._heartbeatsCache=yield N._heartbeatsCachePromise,null!=(null===(_e=N._heartbeatsCache)||void 0===_e?void 0:_e.heartbeats)))&&N._heartbeatsCache.lastSentHeartbeatDate!==G&&!N._heartbeatsCache.heartbeats.some(pn=>pn.date===G))return N._heartbeatsCache.heartbeats.push({date:G,agent:nt}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(pn=>{const we=new Date(pn.date).valueOf();return Date.now()-we<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,b.Z)(function*(){var te;if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null==(null===(te=N._heartbeatsCache)||void 0===te?void 0:te.heartbeats)||0===N._heartbeatsCache.heartbeats.length)return"";const _e=be(),{heartbeatsToSend:Ue,unsentEntries:nt}=function Zn(F,N=1024){const te=[];let _e=F.slice();for(const Ue of F){const nt=te.find(G=>G.agent===Ue.agent);if(nt){if(nt.dates.push(Ue.date),Ar(te)>N){nt.dates.pop();break}}else if(te.push({agent:Ue.agent,dates:[Ue.date]}),Ar(te)>N){te.pop();break}_e=_e.slice(1)}return{heartbeatsToSend:te,unsentEntries:_e}}(N._heartbeatsCache.heartbeats),G=(0,Re.L)(JSON.stringify({version:2,heartbeats:Ue}));return N._heartbeatsCache.lastSentHeartbeatDate=_e,nt.length>0?(N._heartbeatsCache.heartbeats=nt,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),G})()}}function be(){return(new Date).toISOString().substring(0,10)}class jt{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,Re.hl)()&&(0,Re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,b.Z)(function*(){if(yield N._canUseIndexedDBPromise){const _e=yield function z(F){return k.apply(this,arguments)}(N.app);return _e?.heartbeats?_e:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(N){var te=this;return(0,b.Z)(function*(){var _e;if(yield te._canUseIndexedDBPromise){const nt=yield te.read();return W(te.app,{lastSentHeartbeatDate:null!==(_e=N.lastSentHeartbeatDate)&&void 0!==_e?_e:nt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var te=this;return(0,b.Z)(function*(){var _e;if(yield te._canUseIndexedDBPromise){const nt=yield te.read();return W(te.app,{lastSentHeartbeatDate:null!==(_e=N.lastSentHeartbeatDate)&&void 0!==_e?_e:nt.lastSentHeartbeatDate,heartbeats:[...nt.heartbeats,...N.heartbeats]})}})()}}function Ar(F){return(0,Re.L)(JSON.stringify({version:2,heartbeats:F})).length}!function tc(F){kn(new Ie.wA("platform-logger",N=>new $t(N),"PRIVATE")),kn(new Ie.wA("heartbeat",N=>new jn(N),"PRIVATE")),Ds(Ji,"0.9.27",F),Ds(Ji,"0.9.27","esm2017"),Ds("fire-js","")}("")},537:(Vi,In,Le)=>{Le.d(In,{H0:()=>xn,wA:()=>$,zt:()=>Xe});var b=Le(861),Ie=Le(58);class ${constructor(Q,re,me){this.name=Q,this.instanceFactory=re,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Re="[DEFAULT]";class Xe{constructor(Q,re){this.name=Q,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const re=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(re)){const me=new Ie.BH;if(this.instancesDeferred.set(re,me),this.isInitialized(re)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:re});ze&&me.resolve(ze)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(Q){var re;const me=this.normalizeInstanceIdentifier(Q?.identifier),ze=null!==(re=Q?.optional)&&void 0!==re&&re;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(ft){if(ze)return null;throw ft}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Kt(Ye){return"EAGER"===Ye.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[re,me]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(re);try{const ft=this.getOrInitializeService({instanceIdentifier:ze});me.resolve(ft)}catch{}}}}clearInstance(Q=Re){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,b.Z)(function*(){const re=Array.from(Q.instances.values());yield Promise.all([...re.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...re.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Re){return this.instances.has(Q)}getOptions(Q=Re){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:re={}}=Q,me=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:me,options:re});for(const[ft,on]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(ft)&&on.resolve(ze);return ze}onInit(Q,re){var me;const ze=this.normalizeInstanceIdentifier(re),ft=null!==(me=this.onInitCallbacks.get(ze))&&void 0!==me?me:new Set;ft.add(Q),this.onInitCallbacks.set(ze,ft);const on=this.instances.get(ze);return on&&Q(on,ze),()=>{ft.delete(Q)}}invokeOnInitCallbacks(Q,re){const me=this.onInitCallbacks.get(re);if(me)for(const ze of me)try{ze(Q,re)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:re={}}){let me=this.instances.get(Q);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=Q,Ye===Re?void 0:Ye),options:re}),this.instances.set(Q,me),this.instancesOptions.set(Q,re),this.invokeOnInitCallbacks(me,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,me)}catch{}var Ye;return me||null}normalizeInstanceIdentifier(Q=Re){return this.component?this.component.multipleInstances?Q:Re:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xn{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const re=this.getProvider(Q.name);if(re.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);re.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const re=new Xe(Q,this);return this.providers.set(Q,re),re}getProviders(){return Array.from(this.providers.values())}}},879:(Vi,In,Le)=>{Le.d(In,{Am:()=>Ye,Ub:()=>xn,Yd:()=>Kt,in:()=>Ie});const b=[];var Ie=function(Q){return Q[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",Q}(Ie||{});const $={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Re=Ie.INFO,Xe={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Gt=(Q,re,...me)=>{if(re<Q.logLevel)return;const ze=(new Date).toISOString(),ft=Xe[re];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[ft](`[${ze}]  ${Q.name}:`,...me)};class Kt{constructor(re){this.name=re,this._logLevel=Re,this._logHandler=Gt,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in Ie))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?$[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...re),this._logHandler(this,Ie.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...re),this._logHandler(this,Ie.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...re),this._logHandler(this,Ie.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...re),this._logHandler(this,Ie.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...re),this._logHandler(this,Ie.ERROR,...re)}}function xn(Q){b.forEach(re=>{re.setLogLevel(Q)})}function Ye(Q,re){for(const me of b){let ze=null;re&&re.level&&(ze=$[re.level]),me.userLogHandler=null===Q?null:(ft,on,..._t)=>{const Me=_t.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");on>=(ze??ft.logLevel)&&Q({level:Ie[on].toLowerCase(),message:Me,args:_t,type:ft.name})}}}},999:(Vi,In,Le)=>{Le.r(In);var b=Le(861),Ie=Le(106),$=Le(58),Re=Le(534),Xe=Le(879),Gt=Le(582),Kt=Le(537);const Ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const on=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_t=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Me=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new Xe.Yd("@firebase/auth");function Rt(h,...c){Tn.logLevel<=Xe.in.ERROR&&Tn.error(`Auth (${Re.SDK_VERSION}): ${h}`,...c)}function qe(h,...c){throw Nn(h,...c)}function Tt(h,...c){return Nn(h,...c)}function ii(h,c,u){const f=Object.assign(Object.assign({},_t()),{[c]:u});return new $.LL("auth","Firebase",f).create(c,{appName:h.name})}function je(h,c,u){if(!(c instanceof u))throw u.name!==c.constructor.name&&qe(h,"argument-error"),ii(h,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nn(h,...c){if("string"!=typeof h){const u=c[0],f=[...c.slice(1)];return f[0]&&(f[0].appName=h.name),h._errorFactory.create(u,...f)}return Me.create(h,...c)}function Y(h,c,...u){if(!h)throw Nn(c,...u)}function Ht(h){const c="INTERNAL ASSERTION FAILED: "+h;throw Rt(c),new Error(c)}function $t(h,c){h||Ht(c)}function an(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Ji(){return"http:"===Xi()||"https:"===Xi()}function Xi(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class er{constructor(c,u){this.shortDelay=c,this.longDelay=u,$t(u>c,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function $e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ji()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(h,c){$t(h.emulator,"Emulator should always be set here");const{url:u}=h.emulator;return c?`${u}${c.startsWith("/")?c.slice(1):c}`:u}class U{static initialize(c,u,f){this.fetchImpl=c,u&&(this.headersImpl=u),f&&(this.responseImpl=f)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},q=new er(3e4,6e4);function J(h,c){return h.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:h.tenantId}):c}function H(h,c,u,f){return he.apply(this,arguments)}function he(){return(he=(0,b.Z)(function*(h,c,u,f,m={}){return et(h,m,(0,b.Z)(function*(){let y={},D={};f&&("GET"===c?D=f:y={body:JSON.stringify(f)});const P=(0,$.xO)(Object.assign({key:h.config.apiKey},D)).slice(1),Z=yield h._getAdditionalHeaders();return Z["Content-Type"]="application/json",h.languageCode&&(Z["X-Firebase-Locale"]=h.languageCode),U.fetch()(Wt(h,h.config.apiHost,u,P),Object.assign({method:c,headers:Z,referrerPolicy:"no-referrer"},y))}))})).apply(this,arguments)}function et(h,c,u){return ge.apply(this,arguments)}function ge(){return(ge=(0,b.Z)(function*(h,c,u){h._canInitEmulator=!1;const f=Object.assign(Object.assign({},L),c);try{const m=new Pn(h),y=yield Promise.race([u(),m.promise]);m.clearNetworkTimeout();const D=yield y.json();if("needConfirmation"in D)throw dn(h,"account-exists-with-different-credential",D);if(y.ok&&!("errorMessage"in D))return D;{const P=y.ok?D.errorMessage:D.error.message,[Z,fe]=P.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Z)throw dn(h,"credential-already-in-use",D);if("EMAIL_EXISTS"===Z)throw dn(h,"email-already-in-use",D);if("USER_DISABLED"===Z)throw dn(h,"user-disabled",D);const ve=f[Z]||Z.toLowerCase().replace(/[_\s]+/g,"-");if(fe)throw ii(h,ve,fe);qe(h,ve)}}catch(m){if(m instanceof $.ZR)throw m;qe(h,"network-request-failed",{message:String(m)})}})).apply(this,arguments)}function Ce(h,c,u,f){return dt.apply(this,arguments)}function dt(){return(dt=(0,b.Z)(function*(h,c,u,f,m={}){const y=yield H(h,c,u,f,m);return"mfaPendingCredential"in y&&qe(h,"multi-factor-auth-required",{_serverResponse:y}),y})).apply(this,arguments)}function Wt(h,c,u,f){const m=`${c}${u}?${f}`;return h.config.emulator?V(h.config,m):`${h.config.apiScheme}://${m}`}function St(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((u,f)=>{this.timer=setTimeout(()=>f(Tt(this.auth,"network-request-failed")),q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(h,c,u){const f={appName:h.name};u.email&&(f.email=u.email),u.phoneNumber&&(f.phoneNumber=u.phoneNumber);const m=Tt(h,c,f);return m.customData._tokenResponse=u,m}function x(h){return void 0!==h&&void 0!==h.getResponse}function R(h){return void 0!==h&&void 0!==h.enterprise}class j{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const u of this.recaptchaEnforcementState)if(u.provider&&u.provider===c)return St(u.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function le(){return(le=(0,b.Z)(function*(h){return(yield H(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function se(h,c){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,b.Z)(function*(h,c){return H(h,"GET","/v2/recaptchaConfig",J(h,c))})).apply(this,arguments)}function Qe(){return(Qe=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function fn(){return(fn=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function An(h){if(h)try{const c=new Date(Number(h));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Ct(){return(Ct=(0,b.Z)(function*(h,c=!1){const u=(0,$.m9)(h),f=yield u.getIdToken(c),m=Cs(f);Y(m&&m.exp&&m.auth_time&&m.iat,u.auth,"internal-error");const y="object"==typeof m.firebase?m.firebase:void 0,D=y?.sign_in_provider;return{claims:m,token:f,authTime:An(Bt(m.auth_time)),issuedAtTime:An(Bt(m.iat)),expirationTime:An(Bt(m.exp)),signInProvider:D||null,signInSecondFactor:y?.sign_in_second_factor||null}})).apply(this,arguments)}function Bt(h){return 1e3*Number(h)}function Cs(h){const[c,u,f]=h.split(".");if(void 0===c||void 0===u||void 0===f)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const m=(0,$.tV)(u);return m?JSON.parse(m):(Rt("Failed to decode base64 JWT payload"),null)}catch(m){return Rt("Caught error parsing JWT payload as JSON",m?.toString()),null}}function ri(h,c){return es.apply(this,arguments)}function es(){return(es=(0,b.Z)(function*(h,c,u=!1){if(u)return c;try{return yield c}catch(f){throw f instanceof $.ZR&&function ts({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(f)&&h.auth.currentUser===h&&(yield h.auth.signOut()),f}})).apply(this,arguments)}class Es{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var u;if(c){const f=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),f}{this.errorBackoff=3e4;const m=(null!==(u=this.user.stsTokenManager.expirationTime)&&void 0!==u?u:0)-Date.now()-3e5;return Math.max(0,m)}}schedule(c=!1){var u=this;if(!this.isRunning)return;const f=this.getInterval(c);this.timerId=setTimeout((0,b.Z)(function*(){yield u.iteration()}),f)}iteration(){var c=this;return(0,b.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(u){return void("auth/network-request-failed"===u?.code&&c.schedule(!0))}c.schedule()})()}}class Io{constructor(c,u){this.createdAt=c,this.lastLoginAt=u,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(h){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,b.Z)(function*(h){var c;const u=h.auth,f=yield h.getIdToken(),m=yield ri(h,function di(h,c){return Bi.apply(this,arguments)}(u,{idToken:f}));Y(m?.users.length,u,"internal-error");const y=m.users[0];h._notifyReloadListener(y);const D=null!==(c=y.providerUserInfo)&&void 0!==c&&c.length?function xa(h){return h.map(c=>{var{providerId:u}=c,f=(0,Gt._T)(c,["providerId"]);return{providerId:u,uid:f.rawId||"",displayName:f.displayName||null,email:f.email||null,phoneNumber:f.phoneNumber||null,photoURL:f.photoUrl||null}})}(y.providerUserInfo):[],P=function ec(h,c){return[...h.filter(f=>!c.some(m=>m.providerId===f.providerId)),...c]}(h.providerData,D),ve=!!h.isAnonymous&&!(h.email&&y.passwordHash||P?.length),ye={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:P,metadata:new Io(y.createdAt,y.lastLoginAt),isAnonymous:ve};Object.assign(h,ye)}),Ni.apply(this,arguments)}function To(){return(To=(0,b.Z)(function*(h){const c=(0,$.m9)(h);yield fi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function T(){return(T=(0,b.Z)(function*(h,c){const u=yield et(h,{},(0,b.Z)(function*(){const f=(0,$.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:m,apiKey:y}=h.config,D=Wt(h,m,"/v1/token",`key=${y}`),P=yield h._getAdditionalHeaders();return P["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(D,{method:"POST",headers:P,body:f})}));return{accessToken:u.access_token,expiresIn:u.expires_in,refreshToken:u.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,b.Z)(function*(h,c){return H(h,"POST","/v2/accounts:revokeToken",J(h,c))})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Y(c.idToken,"internal-error"),Y(typeof c.idToken<"u","internal-error"),Y(typeof c.refreshToken<"u","internal-error");const u="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function hi(h){const c=Cs(h);return Y(c,"internal-error"),Y(typeof c.exp<"u","internal-error"),Y(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,u)}getToken(c,u=!1){var f=this;return(0,b.Z)(function*(){return Y(!f.accessToken||f.refreshToken,c,"user-token-expired"),u||!f.accessToken||f.isExpired?f.refreshToken?(yield f.refresh(c,f.refreshToken),f.accessToken):null:f.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,u){var f=this;return(0,b.Z)(function*(){const{accessToken:m,refreshToken:y,expiresIn:D}=yield function So(h,c){return T.apply(this,arguments)}(c,u);f.updateTokensAndExpiration(m,y,Number(D))})()}updateTokensAndExpiration(c,u,f){this.refreshToken=u||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*f}static fromJSON(c,u){const{refreshToken:f,accessToken:m,expirationTime:y}=u,D=new z;return f&&(Y("string"==typeof f,"internal-error",{appName:c}),D.refreshToken=f),m&&(Y("string"==typeof m,"internal-error",{appName:c}),D.accessToken=m),y&&(Y("number"==typeof y,"internal-error",{appName:c}),D.expirationTime=y),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function k(h,c){Y("string"==typeof h||typeof h>"u","internal-error",{appName:c})}class W{constructor(c){var{uid:u,auth:f,stsTokenManager:m}=c,y=(0,Gt._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=u,this.auth=f,this.stsTokenManager=m,this.accessToken=m.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new Io(y.createdAt||void 0,y.lastLoginAt||void 0)}getIdToken(c){var u=this;return(0,b.Z)(function*(){const f=yield ri(u,u.stsTokenManager.getToken(u.auth,c));return Y(f,u.auth,"internal-error"),u.accessToken!==f&&(u.accessToken=f,yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)),f})()}getIdTokenResult(c){return function wt(h){return Ct.apply(this,arguments)}(this,c)}reload(){return function Ds(h){return To.apply(this,arguments)}(this)}_assign(c){this!==c&&(Y(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(u=>Object.assign({},u)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const u=new W(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return u.metadata._copy(this.metadata),u}_onReload(c){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,u=!1){var f=this;return(0,b.Z)(function*(){let m=!1;c.idToken&&c.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(c),m=!0),u&&(yield fi(f)),yield f.auth._persistUserIfCurrent(f),m&&f.auth._notifyListenersIfCurrent(f)})()}delete(){var c=this;return(0,b.Z)(function*(){const u=yield c.getIdToken();return yield ri(c,function vt(h,c){return Qe.apply(this,arguments)}(c.auth,{idToken:u})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,u){var f,m,y,D,P,Z,fe,ve;const ye=null!==(f=u.displayName)&&void 0!==f?f:void 0,un=null!==(m=u.email)&&void 0!==m?m:void 0,Pi=null!==(y=u.phoneNumber)&&void 0!==y?y:void 0,cl=null!==(D=u.photoURL)&&void 0!==D?D:void 0,Gg=null!==(P=u.tenantId)&&void 0!==P?P:void 0,Yc=null!==(Z=u._redirectEventId)&&void 0!==Z?Z:void 0,zy=null!==(fe=u.createdAt)&&void 0!==fe?fe:void 0,Sh=null!==(ve=u.lastLoginAt)&&void 0!==ve?ve:void 0,{uid:Wg,emailVerified:zg,isAnonymous:qg,providerData:ul,stsTokenManager:qy}=u;Y(Wg&&qy,c,"internal-error");const QD=z.fromJSON(this.name,qy);Y("string"==typeof Wg,c,"internal-error"),k(ye,c.name),k(un,c.name),Y("boolean"==typeof zg,c,"internal-error"),Y("boolean"==typeof qg,c,"internal-error"),k(Pi,c.name),k(cl,c.name),k(Gg,c.name),k(Yc,c.name),k(zy,c.name),k(Sh,c.name);const dl=new W({uid:Wg,auth:c,email:un,emailVerified:zg,displayName:ye,isAnonymous:qg,photoURL:cl,phoneNumber:Pi,tenantId:Gg,stsTokenManager:QD,createdAt:zy,lastLoginAt:Sh});return ul&&Array.isArray(ul)&&(dl.providerData=ul.map(JD=>Object.assign({},JD))),Yc&&(dl._redirectEventId=Yc),dl}static _fromIdTokenResponse(c,u,f=!1){return(0,b.Z)(function*(){const m=new z;m.updateFromServerResponse(u);const y=new W({uid:u.localId,auth:c,stsTokenManager:m,isAnonymous:f});return yield fi(y),y})()}}const Pe=new Map;function Ze(h){$t(h instanceof Function,"Expected a class definition");let c=Pe.get(h);return c?($t(c instanceof h,"Instance stored in cache mismatched with class"),c):(c=new h,Pe.set(h,c),c)}const Qt=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(u,f){var m=this;return(0,b.Z)(function*(){m.storage[u]=f})()}_get(u){var f=this;return(0,b.Z)(function*(){const m=f.storage[u];return void 0===m?null:m})()}_remove(u){var f=this;return(0,b.Z)(function*(){delete f.storage[u]})()}_addListener(u,f){}_removeListener(u,f){}}return h.type="NONE",h})();function jn(h,c,u){return`firebase:${h}:${c}:${u}`}class be{constructor(c,u,f){this.persistence=c,this.auth=u,this.userKey=f;const{config:m,name:y}=this.auth;this.fullUserKey=jn(this.userKey,m.apiKey,y),this.fullPersistenceKey=jn("persistence",m.apiKey,y),this.boundEventHandler=u._onStorageEvent.bind(u),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,b.Z)(function*(){const u=yield c.persistence._get(c.fullUserKey);return u?W._fromJSON(c.auth,u):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var u=this;return(0,b.Z)(function*(){if(u.persistence===c)return;const f=yield u.getCurrentUser();return yield u.removeCurrentUser(),u.persistence=c,f?u.setCurrentUser(f):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,u,f="authUser"){return(0,b.Z)(function*(){if(!u.length)return new be(Ze(Qt),c,f);const m=(yield Promise.all(u.map(function(){var fe=(0,b.Z)(function*(ve){if(yield ve._isAvailable())return ve});return function(ve){return fe.apply(this,arguments)}}()))).filter(fe=>fe);let y=m[0]||Ze(Qt);const D=jn(f,c.config.apiKey,c.name);let P=null;for(const fe of u)try{const ve=yield fe._get(D);if(ve){const ye=W._fromJSON(c,ve);fe!==y&&(P=ye),y=fe;break}}catch{}const Z=m.filter(fe=>fe._shouldAllowMigration);return y._shouldAllowMigration&&Z.length?(y=Z[0],P&&(yield y._set(D,P.toJSON())),yield Promise.all(u.map(function(){var fe=(0,b.Z)(function*(ve){if(ve!==y)try{yield ve._remove(D)}catch{}});return function(ve){return fe.apply(this,arguments)}}())),new be(y,c,f)):new be(y,c,f)})()}}function Zn(h){const c=h.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(F(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(jt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(te(c))return"Blackberry";if(_e(c))return"Webos";if(Ar(c))return"Safari";if((c.includes("chrome/")||tc(c))&&!c.includes("edge/"))return"Chrome";if(N(c))return"Android";{const f=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===f?.length)return f[1]}return"Other"}function jt(h=(0,$.z$)()){return/firefox\//i.test(h)}function Ar(h=(0,$.z$)()){const c=h.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function tc(h=(0,$.z$)()){return/crios\//i.test(h)}function F(h=(0,$.z$)()){return/iemobile/i.test(h)}function N(h=(0,$.z$)()){return/android/i.test(h)}function te(h=(0,$.z$)()){return/blackberry/i.test(h)}function _e(h=(0,$.z$)()){return/webos/i.test(h)}function Ue(h=(0,$.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function we(h=(0,$.z$)()){return Ue(h)||N(h)||_e(h)||te(h)||/windows phone/i.test(h)||F(h)}function No(h,c=[]){let u;switch(h){case"Browser":u=Zn((0,$.z$)());break;case"Worker":u=`${Zn((0,$.z$)())}-${h}`;break;default:u=h}const f=c.length?c.join(","):"FirebaseCore-web";return`${u}/JsCore/${Re.SDK_VERSION}/${f}`}class gD{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,u){const f=y=>new Promise((D,P)=>{try{D(c(y))}catch(Z){P(Z)}});f.onAbort=u,this.queue.push(f);const m=this.queue.length-1;return()=>{this.queue[m]=()=>Promise.resolve()}}runMiddleware(c){var u=this;return(0,b.Z)(function*(){if(u.auth.currentUser===c)return;const f=[];try{for(const m of u.queue)yield m(c),m.onAbort&&f.push(m.onAbort)}catch(m){f.reverse();for(const y of f)try{y()}catch{}throw u.auth._errorFactory.create("login-blocked",{originalMessage:m?.message})}})()}}function Pa(){return(Pa=(0,b.Z)(function*(h,c={}){return H(h,"GET","/v2/passwordPolicy",J(h,c))})).apply(this,arguments)}class mD{constructor(c){var u,f,m,y;const D=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(u=D.minPasswordLength)&&void 0!==u?u:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(m=null===(f=c.allowedNonAlphanumericCharacters)||void 0===f?void 0:f.join(""))&&void 0!==m?m:"",this.forceUpgradeOnSignin=null!==(y=c.forceUpgradeOnSignin)&&void 0!==y&&y,this.schemaVersion=c.schemaVersion}validatePassword(c){var u,f,m,y,D,P;const Z={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Z),this.validatePasswordCharacterOptions(c,Z),Z.isValid&&(Z.isValid=null===(u=Z.meetsMinPasswordLength)||void 0===u||u),Z.isValid&&(Z.isValid=null===(f=Z.meetsMaxPasswordLength)||void 0===f||f),Z.isValid&&(Z.isValid=null===(m=Z.containsLowercaseLetter)||void 0===m||m),Z.isValid&&(Z.isValid=null===(y=Z.containsUppercaseLetter)||void 0===y||y),Z.isValid&&(Z.isValid=null===(D=Z.containsNumericCharacter)||void 0===D||D),Z.isValid&&(Z.isValid=null===(P=Z.containsNonAlphanumericCharacter)||void 0===P||P),Z}validatePasswordLengthOptions(c,u){const f=this.customStrengthOptions.minPasswordLength,m=this.customStrengthOptions.maxPasswordLength;f&&(u.meetsMinPasswordLength=c.length>=f),m&&(u.meetsMaxPasswordLength=c.length<=m)}validatePasswordCharacterOptions(c,u){let f;this.updatePasswordCharacterOptionsStatuses(u,!1,!1,!1,!1);for(let m=0;m<c.length;m++)f=c.charAt(m),this.updatePasswordCharacterOptionsStatuses(u,f>="a"&&f<="z",f>="A"&&f<="Z",f>="0"&&f<="9",this.allowedNonAlphanumericCharacters.includes(f))}updatePasswordCharacterOptionsStatuses(c,u,f,m,y){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=u)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=f)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=m)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=y))}}class Jv{constructor(c,u,f,m){this.app=c,this.heartbeatServiceProvider=u,this.appCheckServiceProvider=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(c,u){var f=this;return u&&(this._popupRedirectResolver=Ze(u)),this._initializationPromise=this.queue((0,b.Z)(function*(){var m,y;if(!f._deleted&&(f.persistenceManager=yield be.create(f,c),!f._deleted)){if(null!==(m=f._popupRedirectResolver)&&void 0!==m&&m._shouldInitProactively)try{yield f._popupRedirectResolver._initialize(f)}catch{}yield f.initializeCurrentUser(u),f.lastNotifiedUid=(null===(y=f.currentUser)||void 0===y?void 0:y.uid)||null,!f._deleted&&(f._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,b.Z)(function*(){if(c._deleted)return;const u=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||u){if(c.currentUser&&u&&c.currentUser.uid===u.uid)return c._currentUser._assign(u),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(u,!0)}})()}initializeCurrentUser(c){var u=this;return(0,b.Z)(function*(){var f;const m=yield u.assertedPersistence.getCurrentUser();let y=m,D=!1;if(c&&u.config.authDomain){yield u.getOrInitRedirectPersistenceManager();const P=null===(f=u.redirectUser)||void 0===f?void 0:f._redirectEventId,Z=y?._redirectEventId,fe=yield u.tryRedirectSignIn(c);(!P||P===Z)&&fe?.user&&(y=fe.user,D=!0)}if(!y)return u.directlySetCurrentUser(null);if(!y._redirectEventId){if(D)try{yield u.beforeStateQueue.runMiddleware(y)}catch(P){y=m,u._popupRedirectResolver._overrideRedirectResult(u,()=>Promise.reject(P))}return y?u.reloadAndSetCurrentUserOrClear(y):u.directlySetCurrentUser(null)}return Y(u._popupRedirectResolver,u,"argument-error"),yield u.getOrInitRedirectPersistenceManager(),u.redirectUser&&u.redirectUser._redirectEventId===y._redirectEventId?u.directlySetCurrentUser(y):u.reloadAndSetCurrentUserOrClear(y)})()}tryRedirectSignIn(c){var u=this;return(0,b.Z)(function*(){let f=null;try{f=yield u._popupRedirectResolver._completeRedirectFn(u,c,!0)}catch{yield u._setRedirectUser(null)}return f})()}reloadAndSetCurrentUserOrClear(c){var u=this;return(0,b.Z)(function*(){try{yield fi(c)}catch(f){if("auth/network-request-failed"!==f?.code)return u.directlySetCurrentUser(null)}return u.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Nr(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var c=this;return(0,b.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var u=this;return(0,b.Z)(function*(){const f=c?(0,$.m9)(c):null;return f&&Y(f.auth.config.apiKey===u.config.apiKey,u,"invalid-user-token"),u._updateCurrentUser(f&&f._clone(u))})()}_updateCurrentUser(c,u=!1){var f=this;return(0,b.Z)(function*(){if(!f._deleted)return c&&Y(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),u||(yield f.beforeStateQueue.runMiddleware(c)),f.queue((0,b.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,b.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var u=this;return this.queue((0,b.Z)(function*(){yield u.assertedPersistence.setPersistence(Ze(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var u=this;return(0,b.Z)(function*(){u._getPasswordPolicyInternal()||(yield u._updatePasswordPolicy());const f=u._getPasswordPolicyInternal();return f.schemaVersion!==u.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(u._errorFactory.create("unsupported-password-policy-schema-version",{})):f.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,b.Z)(function*(){const u=yield function Qv(h){return Pa.apply(this,arguments)}(c),f=new mD(u);null===c.tenantId?c._projectPasswordPolicy=f:c._tenantPasswordPolicies[c.tenantId]=f})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new $.LL("auth","Firebase",c())}onAuthStateChanged(c,u,f){return this.registerStateListener(this.authStateSubscription,c,u,f)}beforeAuthStateChanged(c,u){return this.beforeStateQueue.pushCallback(c,u)}onIdTokenChanged(c,u,f){return this.registerStateListener(this.idTokenSubscription,c,u,f)}authStateReady(){return new Promise((c,u)=>{if(this.currentUser)c();else{const f=this.onAuthStateChanged(()=>{f(),c()},u)}})}revokeAccessToken(c){var u=this;return(0,b.Z)(function*(){if(u.currentUser){const f=yield u.currentUser.getIdToken(),m={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:f};null!=u.tenantId&&(m.tenantId=u.tenantId),yield function E(h,c){return S.apply(this,arguments)}(u,m)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,u){var f=this;return(0,b.Z)(function*(){const m=yield f.getOrInitRedirectPersistenceManager(u);return null===c?m.removeCurrentUser():m.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var u=this;return(0,b.Z)(function*(){if(!u.redirectPersistenceManager){const f=c&&Ze(c)||u._popupRedirectResolver;Y(f,u,"argument-error"),u.redirectPersistenceManager=yield be.create(u,[Ze(f._redirectPersistence)],"redirectUser"),u.redirectUser=yield u.redirectPersistenceManager.getCurrentUser()}return u.redirectPersistenceManager})()}_redirectUserForId(c){var u=this;return(0,b.Z)(function*(){var f,m;return u._isInitialized&&(yield u.queue((0,b.Z)(function*(){}))),(null===(f=u._currentUser)||void 0===f?void 0:f._redirectEventId)===c?u._currentUser:(null===(m=u.redirectUser)||void 0===m?void 0:m._redirectEventId)===c?u.redirectUser:null})()}_persistUserIfCurrent(c){var u=this;return(0,b.Z)(function*(){if(c===u.currentUser)return u.queue((0,b.Z)(function*(){return u.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,u;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const f=null!==(u=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==u?u:null;this.lastNotifiedUid!==f&&(this.lastNotifiedUid=f,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,u,f,m){if(this._deleted)return()=>{};const y="function"==typeof u?u:u.next.bind(u);let D=!1;const P=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(P,this,"internal-error"),P.then(()=>{D||y(this.currentUser)}),"function"==typeof u){const Z=c.addObserver(u,f,m);return()=>{D=!0,Z()}}{const Z=c.addObserver(u);return()=>{D=!0,Z()}}}directlySetCurrentUser(c){var u=this;return(0,b.Z)(function*(){u.currentUser&&u.currentUser!==c&&u._currentUser._stopProactiveRefresh(),c&&u.isProactiveRefreshEnabled&&c._startProactiveRefresh(),u.currentUser=c,c?yield u.assertedPersistence.setCurrentUser(c):yield u.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=No(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,b.Z)(function*(){var u;const f={"X-Client-Version":c.clientVersion};c.app.options.appId&&(f["X-Firebase-gmpid"]=c.app.options.appId);const m=yield null===(u=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getHeartbeatsHeader();m&&(f["X-Firebase-Client"]=m);const y=yield c._getAppCheckToken();return y&&(f["X-Firebase-AppCheck"]=y),f})()}_getAppCheckToken(){var c=this;return(0,b.Z)(function*(){var u;const f=yield null===(u=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===u?void 0:u.getToken();return f?.error&&function Sn(h,...c){Tn.logLevel<=Xe.in.WARN&&Tn.warn(`Auth (${Re.SDK_VERSION}): ${h}`,...c)}(`Error while retrieving App Check token: ${f.error}`),f?.token})()}}function Jt(h){return(0,$.m9)(h)}class Is{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,$.ne)(u=>this.observer=u)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nc={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mp(h){return nc.loadJS(h)}function Op(h){return`__${h}${Math.floor(1e6*Math.random())}`}class Oe{constructor(c){this.type="recaptcha-enterprise",this.auth=Jt(c)}verify(c="verify",u=!1){var f=this;return(0,b.Z)(function*(){function y(){return y=(0,b.Z)(function*(P){if(!u){if(null==P.tenantId&&null!=P._agentRecaptchaConfig)return P._agentRecaptchaConfig.siteKey;if(null!=P.tenantId&&void 0!==P._tenantRecaptchaConfigs[P.tenantId])return P._tenantRecaptchaConfigs[P.tenantId].siteKey}return new Promise(function(){var Z=(0,b.Z)(function*(fe,ve){se(P,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ye=>{if(void 0!==ye.recaptchaKey){const un=new j(ye);return null==P.tenantId?P._agentRecaptchaConfig=un:P._tenantRecaptchaConfigs[P.tenantId]=un,fe(un.siteKey)}ve(new Error("recaptcha Enterprise site key undefined"))}).catch(ye=>{ve(ye)})});return function(fe,ve){return Z.apply(this,arguments)}}())}),y.apply(this,arguments)}function D(P,Z,fe){const ve=window.grecaptcha;R(ve)?ve.enterprise.ready(()=>{ve.enterprise.execute(P,{action:c}).then(ye=>{Z(ye)}).catch(()=>{Z("NO_RECAPTCHA")})}):fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((P,Z)=>{(function m(P){return y.apply(this,arguments)})(f.auth).then(fe=>{if(!u&&R(window.grecaptcha))D(fe,P,Z);else{if(typeof window>"u")return void Z(new Error("RecaptchaVerifier is only supported in browser"));let ve=function Xv(){return nc.recaptchaEnterpriseScript}();0!==ve.length&&(ve+=fe),Mp(ve).then(()=>{D(fe,P,Z)}).catch(ye=>{Z(ye)})}}).catch(fe=>{Z(fe)})})})()}}function ey(h,c,u){return xp.apply(this,arguments)}function xp(){return(xp=(0,b.Z)(function*(h,c,u,f=!1){const m=new Oe(h);let y;try{y=yield m.verify(u)}catch{y=yield m.verify(u,!0)}const D=Object.assign({},c);return Object.assign(D,f?{captchaResp:y}:{captchaResponse:y}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function ic(h,c,u,f){return ce.apply(this,arguments)}function ce(){return ce=(0,b.Z)(function*(h,c,u,f){var m;if(null!==(m=h._getRecaptchaConfig())&&void 0!==m&&m.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const y=yield ey(h,c,u,"getOobCode"===u);return f(h,y)}return f(h,c).catch(function(){var y=(0,b.Z)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${u} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const P=yield ey(h,c,u,"getOobCode"===u);return f(h,P)}return Promise.reject(D)});return function(D){return y.apply(this,arguments)}}())}),ce.apply(this,arguments)}function Pp(h){const c=h.indexOf(":");return c<0?"":h.substr(0,c+1)}function ka(h){if(!h)return null;const c=Number(h);return isNaN(c)?null:c}class Xs{constructor(c,u){this.providerId=c,this.signInMethod=u}toJSON(){return Ht("not implemented")}_getIdTokenResponse(c){return Ht("not implemented")}_linkToIdToken(c,u){return Ht("not implemented")}_getReauthenticationResolver(c){return Ht("not implemented")}}function kp(h,c){return Je.apply(this,arguments)}function Je(){return(Je=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:resetPassword",J(h,c))})).apply(this,arguments)}function oc(){return(oc=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ai(h,c){return ac.apply(this,arguments)}function ac(){return(ac=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Mt(){return(Mt=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",J(h,c))})).apply(this,arguments)}function ED(h,c){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithPassword",J(h,c))})).apply(this,arguments)}function ue(h,c){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:sendOobCode",J(h,c))})).apply(this,arguments)}function lc(){return(lc=(0,b.Z)(function*(h,c){return ue(h,c)})).apply(this,arguments)}function vd(h,c){return yd.apply(this,arguments)}function yd(){return(yd=(0,b.Z)(function*(h,c){return ue(h,c)})).apply(this,arguments)}function bd(h,c){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,b.Z)(function*(h,c){return ue(h,c)})).apply(this,arguments)}function Vp(){return(Vp=(0,b.Z)(function*(h,c){return ue(h,c)})).apply(this,arguments)}function Bp(){return(Bp=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithEmailLink",J(h,c))})).apply(this,arguments)}function Va(){return(Va=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithEmailLink",J(h,c))})).apply(this,arguments)}class Ts extends Xs{constructor(c,u,f,m=null){super("password",f),this._email=c,this._password=u,this._tenantId=m}static _fromEmailAndPassword(c,u){return new Ts(c,u,"password")}static _fromEmailAndCode(c,u,f=null){return new Ts(c,u,"emailLink",f)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c;if(u?.email&&u?.password){if("password"===u.signInMethod)return this._fromEmailAndPassword(u.email,u.password);if("emailLink"===u.signInMethod)return this._fromEmailAndCode(u.email,u.password,u.tenantId)}return null}_getIdTokenResponse(c){var u=this;return(0,b.Z)(function*(){switch(u.signInMethod){case"password":return ic(c,{returnSecureToken:!0,email:u._email,password:u._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ED);case"emailLink":return function ID(h,c){return Bp.apply(this,arguments)}(c,{email:u._email,oobCode:u._password});default:qe(c,"internal-error")}})()}_linkToIdToken(c,u){var f=this;return(0,b.Z)(function*(){switch(f.signInMethod){case"password":return ic(c,{idToken:u,returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ai);case"emailLink":return function La(h,c){return Va.apply(this,arguments)}(c,{idToken:u,email:f._email,oobCode:f._password});default:qe(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function ns(h,c){return wd.apply(this,arguments)}function wd(){return(wd=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithIdp",J(h,c))})).apply(this,arguments)}class pr extends Xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const u=new pr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(u.idToken=c.idToken),c.accessToken&&(u.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(u.nonce=c.nonce),c.pendingToken&&(u.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(u.accessToken=c.oauthToken,u.secret=c.oauthTokenSecret):qe("argument-error"),u}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:f,signInMethod:m}=u,y=(0,Gt._T)(u,["providerId","signInMethod"]);if(!f||!m)return null;const D=new pr(f,m);return D.idToken=y.idToken||void 0,D.accessToken=y.accessToken||void 0,D.secret=y.secret,D.nonce=y.nonce,D.pendingToken=y.pendingToken||null,D}_getIdTokenResponse(c){return ns(c,this.buildRequest())}_linkToIdToken(c,u){const f=this.buildRequest();return f.idToken=u,ns(c,f)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,ns(c,u)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const u={};this.idToken&&(u.id_token=this.idToken),this.accessToken&&(u.access_token=this.accessToken),this.secret&&(u.oauth_token_secret=this.secret),u.providerId=this.providerId,this.nonce&&!this.pendingToken&&(u.nonce=this.nonce),c.postBody=(0,$.xO)(u)}return c}}function Cd(){return(Cd=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:sendVerificationCode",J(h,c))})).apply(this,arguments)}function Ed(){return(Ed=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithPhoneNumber",J(h,c))})).apply(this,arguments)}function cc(){return(cc=(0,b.Z)(function*(h,c){const u=yield Ce(h,"POST","/v1/accounts:signInWithPhoneNumber",J(h,c));if(u.temporaryProof)throw dn(h,"account-exists-with-different-credential",u);return u})).apply(this,arguments)}const oe={USER_NOT_FOUND:"user-not-found"};function Ba(){return(Ba=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithPhoneNumber",J(h,Object.assign(Object.assign({},c),{operation:"REAUTH"})),oe)})).apply(this,arguments)}class gr extends Xs{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,u){return new gr({verificationId:c,verificationCode:u})}static _fromTokenResponse(c,u){return new gr({phoneNumber:c,temporaryProof:u})}_getIdTokenResponse(c){return function Ss(h,c){return Ed.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,u){return function ne(h,c){return cc.apply(this,arguments)}(c,Object.assign({idToken:u},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function uc(h,c){return Ba.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:u,verificationId:f,verificationCode:m}=this.params;return c&&u?{temporaryProof:c,phoneNumber:u}:{sessionInfo:f,code:m}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:y}=c;return f||u||m||y?new gr({verificationId:u,verificationCode:f,phoneNumber:m,temporaryProof:y}):null}}class ja{constructor(c){var u,f,m,y,D,P;const Z=(0,$.zd)((0,$.pd)(c)),fe=null!==(u=Z.apiKey)&&void 0!==u?u:null,ve=null!==(f=Z.oobCode)&&void 0!==f?f:null,ye=function iy(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(m=Z.mode)&&void 0!==m?m:null);Y(fe&&ve&&ye,"argument-error"),this.apiKey=fe,this.operation=ye,this.code=ve,this.continueUrl=null!==(y=Z.continueUrl)&&void 0!==y?y:null,this.languageCode=null!==(D=Z.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(P=Z.tenantId)&&void 0!==P?P:null}static parseLink(c){const u=function ry(h){const c=(0,$.zd)((0,$.pd)(h)).link,u=c?(0,$.zd)((0,$.pd)(c)).deep_link_id:null,f=(0,$.zd)((0,$.pd)(h)).deep_link_id;return(f?(0,$.zd)((0,$.pd)(f)).link:null)||f||u||c||h}(c);try{return new ja(u)}catch{return null}}}let Ro=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(u,f){return Ts._fromEmailAndPassword(u,f)}static credentialWithLink(u,f){const m=ja.parseLink(f);return Y(m,"argument-error"),Ts._fromEmailAndCode(u,m.code,m.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Fn{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class pi extends Fn{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class it extends pi{static credentialFromJSON(c){const u="string"==typeof c?JSON.parse(c):c;return Y("providerId"in u&&"signInMethod"in u,"argument-error"),pr._fromParams(u)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Y(c.idToken||c.accessToken,"argument-error"),pr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return it.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return it.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:u,oauthAccessToken:f,oauthTokenSecret:m,pendingToken:y,nonce:D,providerId:P}=c;if(!f&&!m&&!u&&!y||!P)return null;try{return new it(P)._credential({idToken:u,accessToken:f,nonce:D,pendingToken:y})}catch{return null}}}let Ua=(()=>{class h extends pi{constructor(){super("facebook.com")}static credential(u){return pr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),dc=(()=>{class h extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(u,f){return pr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:u,accessToken:f})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:f,oauthAccessToken:m}=u;if(!f&&!m)return null;try{return h.credential(f,m)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),hc=(()=>{class h extends pi{constructor(){super("github.com")}static credential(u){return pr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:u})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u||!("oauthAccessToken"in u)||!u.oauthAccessToken)return null;try{return h.credential(u.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class Ri extends Xs{constructor(c,u){super(c,c),this.pendingToken=u}_getIdTokenResponse(c){return ns(c,this.buildRequest())}_linkToIdToken(c,u){const f=this.buildRequest();return f.idToken=u,ns(c,f)}_getReauthenticationResolver(c){const u=this.buildRequest();return u.autoCreate=!1,ns(c,u)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const u="string"==typeof c?JSON.parse(c):c,{providerId:f,signInMethod:m,pendingToken:y}=u;return f&&m&&y&&f===m?new Ri(f,y):null}static _create(c,u){return new Ri(c,u)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $a extends Fn{constructor(c){Y(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return $a.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return $a.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const u=Ri.fromJSON(c);return Y(u,"argument-error"),u}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:u,providerId:f}=c;if(!u||!f)return null;try{return Ri._create(f,u)}catch{return null}}}let Dd=(()=>{class h extends pi{constructor(){super("twitter.com")}static credential(u,f){return pr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:u,oauthTokenSecret:f})}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthAccessToken:f,oauthTokenSecret:m}=u;if(!f||!m)return null;try{return h.credential(f,m)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function fc(h,c){return pc.apply(this,arguments)}function pc(){return(pc=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signUp",J(h,c))})).apply(this,arguments)}class Ui{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,u,f,m=!1){return(0,b.Z)(function*(){const y=yield W._fromIdTokenResponse(c,f,m),D=Mo(f);return new Ui({user:y,providerId:D,_tokenResponse:f,operationType:u})})()}static _forOperation(c,u,f){return(0,b.Z)(function*(){yield c._updateTokensIfNecessary(f,!0);const m=Mo(f);return new Ui({user:c,providerId:m,_tokenResponse:f,operationType:u})})()}}function Mo(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function gc(){return(gc=(0,b.Z)(function*(h){var c;const u=Jt(h);if(yield u._initializationPromise,null!==(c=u.currentUser)&&void 0!==c&&c.isAnonymous)return new Ui({user:u.currentUser,providerId:null,operationType:"signIn"});const f=yield fc(u,{returnSecureToken:!0}),m=yield Ui._fromIdTokenResponse(u,"signIn",f,!0);return yield u._updateCurrentUser(m.user),m})).apply(this,arguments)}class mc extends $.ZR{constructor(c,u,f,m){var y;super(u.code,u.message),this.operationType=f,this.user=m,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:c.name,tenantId:null!==(y=c.tenantId)&&void 0!==y?y:void 0,_serverResponse:u.customData._serverResponse,operationType:f}}static _fromErrorAndOperation(c,u,f,m){return new mc(c,u,f,m)}}function Id(h,c,u,f){return("reauthenticate"===c?u._getReauthenticationResolver(h):u._getIdTokenResponse(h)).catch(y=>{throw"auth/multi-factor-auth-required"===y.code?mc._fromErrorAndOperation(h,y,c,f):y})}function Hp(h){return new Set(h.map(({providerId:c})=>c).filter(c=>!!c))}function Hi(){return Hi=(0,b.Z)(function*(h,c){const u=(0,$.m9)(h);yield vc(!0,u,c);const{providerUserInfo:f}=yield function hn(h,c){return fn.apply(this,arguments)}(u.auth,{idToken:yield u.getIdToken(),deleteProvider:[c]}),m=Hp(f||[]);return u.providerData=u.providerData.filter(y=>m.has(y.providerId)),m.has("phone")||(u.phoneNumber=null),yield u.auth._persistUserIfCurrent(u),u}),Hi.apply(this,arguments)}function Td(h,c){return _c.apply(this,arguments)}function _c(){return(_c=(0,b.Z)(function*(h,c,u=!1){const f=yield ri(h,c._linkToIdToken(h.auth,yield h.getIdToken()),u);return Ui._forOperation(h,"link",f)})).apply(this,arguments)}function vc(h,c,u){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,b.Z)(function*(h,c,u){yield fi(c);const m=!1===h?"provider-already-linked":"no-such-provider";Y(Hp(c.providerData).has(u)===h,c.auth,m)})).apply(this,arguments)}function $p(h,c){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,b.Z)(function*(h,c,u=!1){const{auth:f}=h,m="reauthenticate";try{const y=yield ri(h,Id(f,m,c,h),u);Y(y.idToken,f,"internal-error");const D=Cs(y.idToken);Y(D,f,"internal-error");const{sub:P}=D;return Y(h.uid===P,f,"user-mismatch"),Ui._forOperation(h,m,y)}catch(y){throw"auth/user-not-found"===y?.code&&qe(f,"user-mismatch"),y}})).apply(this,arguments)}function Ad(h,c){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,b.Z)(function*(h,c,u=!1){const f="signIn",m=yield Id(h,f,c),y=yield Ui._fromIdTokenResponse(h,f,m);return u||(yield h._updateCurrentUser(y.user)),y})).apply(this,arguments)}function yc(h,c){return Md.apply(this,arguments)}function Md(){return(Md=(0,b.Z)(function*(h,c){return Ad(Jt(h),c)})).apply(this,arguments)}function si(h,c){return Od.apply(this,arguments)}function Od(){return(Od=(0,b.Z)(function*(h,c){const u=(0,$.m9)(h);return yield vc(!1,u,c.providerId),Td(u,c)})).apply(this,arguments)}function Gp(h,c){return xd.apply(this,arguments)}function xd(){return(xd=(0,b.Z)(function*(h,c){return $p((0,$.m9)(h),c)})).apply(this,arguments)}function Pd(){return(Pd=(0,b.Z)(function*(h,c){return Ce(h,"POST","/v1/accounts:signInWithCustomToken",J(h,c))})).apply(this,arguments)}function ae(){return ae=(0,b.Z)(function*(h,c){const u=Jt(h),f=yield function yt(h,c){return Pd.apply(this,arguments)}(u,{token:c,returnSecureToken:!0}),m=yield Ui._fromIdTokenResponse(u,"signIn",f);return yield u._updateCurrentUser(m.user),m}),ae.apply(this,arguments)}class Un{constructor(c,u){this.factorId=c,this.uid=u.mfaEnrollmentId,this.enrollmentTime=new Date(u.enrolledAt).toUTCString(),this.displayName=u.displayName}static _fromServerResponse(c,u){return"phoneInfo"in u?ct._fromServerResponse(c,u):"totpInfo"in u?Ln._fromServerResponse(c,u):qe(c,"internal-error")}}class ct extends Un{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,u){return new ct(u)}}class Ln extends Un{constructor(c){super("totp",c)}static _fromServerResponse(c,u){return new Ln(u)}}function Hn(h,c,u){var f;Y((null===(f=u.url)||void 0===f?void 0:f.length)>0,h,"invalid-continue-uri"),Y(typeof u.dynamicLinkDomain>"u"||u.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),c.continueUrl=u.url,c.dynamicLinkDomain=u.dynamicLinkDomain,c.canHandleCodeInApp=u.handleCodeInApp,u.iOS&&(Y(u.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),c.iOSBundleId=u.iOS.bundleId),u.android&&(Y(u.android.packageName.length>0,h,"missing-android-pkg-name"),c.androidInstallApp=u.android.installApp,c.androidMinimumVersionCode=u.android.minimumVersion,c.androidPackageName=u.android.packageName)}function As(h){return gi.apply(this,arguments)}function gi(){return(gi=(0,b.Z)(function*(h){const c=Jt(h);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function bc(){return(bc=(0,b.Z)(function*(h,c,u){const f=Jt(h),m={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};u&&Hn(f,m,u),yield ic(f,m,"getOobCode",vd)})).apply(this,arguments)}function kd(){return kd=(0,b.Z)(function*(h,c,u){yield kp((0,$.m9)(h),{oobCode:c,newPassword:u}).catch(function(){var f=(0,b.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&As(h),m});return function(m){return f.apply(this,arguments)}}())}),kd.apply(this,arguments)}function Xt(){return Xt=(0,b.Z)(function*(h,c){yield function CD(h,c){return Mt.apply(this,arguments)}((0,$.m9)(h),{oobCode:c})}),Xt.apply(this,arguments)}function pe(h,c){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,b.Z)(function*(h,c){const u=(0,$.m9)(h),f=yield kp(u,{oobCode:c}),m=f.requestType;switch(Y(m,u,"internal-error"),m){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(f.newEmail,u,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(f.mfaInfo,u,"internal-error");default:Y(f.email,u,"internal-error")}let y=null;return f.mfaInfo&&(y=Un._fromServerResponse(Jt(u),f.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.newEmail:f.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===f.requestType?f.email:f.newEmail)||null,multiFactorInfo:y},operation:m}})).apply(this,arguments)}function $i(){return($i=(0,b.Z)(function*(h,c){const{data:u}=yield pe((0,$.m9)(h),c);return u.email})).apply(this,arguments)}function $n(){return($n=(0,b.Z)(function*(h,c,u){const f=Jt(h),D=yield ic(f,{returnSecureToken:!0,email:c,password:u,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fc).catch(Z=>{throw"auth/password-does-not-meet-requirements"===Z.code&&As(h),Z}),P=yield Ui._fromIdTokenResponse(f,"signIn",D);return yield f._updateCurrentUser(P.user),P})).apply(this,arguments)}function Rr(){return(Rr=(0,b.Z)(function*(h,c,u){const f=Jt(h),m={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function y(D,P){Y(P.handleCodeInApp,f,"argument-error"),P&&Hn(f,D,P)})(m,u),yield ic(f,m,"getOobCode",bd)})).apply(this,arguments)}function eo(){return(eo=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h),m=Ro.credentialWithLink(c,u||an());return Y(m._tenantId===(f.tenantId||null),f,"tenant-id-mismatch"),yc(f,m)})).apply(this,arguments)}function Rs(){return(Rs=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:createAuthUri",J(h,c))})).apply(this,arguments)}function to(){return to=(0,b.Z)(function*(h,c){const f={identifier:c,continueUri:Ji()?an():"http://localhost"},{signinMethods:m}=yield function qp(h,c){return Rs.apply(this,arguments)}((0,$.m9)(h),f);return m||[]}),to.apply(this,arguments)}function nr(){return nr=(0,b.Z)(function*(h,c){const u=(0,$.m9)(h),m={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};c&&Hn(u.auth,m,c);const{email:y}=yield function _d(h,c){return lc.apply(this,arguments)}(u.auth,m);y!==h.email&&(yield h.reload())}),nr.apply(this,arguments)}function Cc(){return Cc=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h),y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:c};u&&Hn(f.auth,y,u);const{email:D}=yield function DD(h,c){return Vp.apply(this,arguments)}(f.auth,y);D!==h.email&&(yield h.reload())}),Cc.apply(this,arguments)}function mr(){return(mr=(0,b.Z)(function*(h,c){return H(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function no(){return no=(0,b.Z)(function*(h,{displayName:c,photoURL:u}){if(void 0===c&&void 0===u)return;const f=(0,$.m9)(h),y={idToken:yield f.getIdToken(),displayName:c,photoUrl:u,returnSecureToken:!0},D=yield ri(f,function Ms(h,c){return mr.apply(this,arguments)}(f.auth,y));f.displayName=D.displayName||null,f.photoURL=D.photoUrl||null;const P=f.providerData.find(({providerId:Z})=>"password"===Z);P&&(P.displayName=f.displayName,P.photoURL=f.photoURL),yield f._updateTokensIfNecessary(D)}),no.apply(this,arguments)}function Ec(h,c,u){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,b.Z)(function*(h,c,u){const{auth:f}=h,y={idToken:yield h.getIdToken(),returnSecureToken:!0};c&&(y.email=c),u&&(y.password=u);const D=yield ri(h,function md(h,c){return oc.apply(this,arguments)}(f,y));yield h._updateTokensIfNecessary(D,!0)}),Dc.apply(this,arguments)}class is{constructor(c,u,f={}){this.isNewUser=c,this.providerId=u,this.profile=f}}class io extends is{constructor(c,u,f,m){super(c,u,f),this.username=m}}class qa extends is{constructor(c,u){super(c,"facebook.com",u)}}class Kn extends io{constructor(c,u){super(c,"github.com",u,"string"==typeof u?.login?u?.login:null)}}class SD extends is{constructor(c,u){super(c,"google.com",u)}}class Mi extends io{constructor(c,u,f){super(c,"twitter.com",u,f)}}function mi(h){const{user:c,_tokenResponse:u}=h;return c.isAnonymous&&!u?{providerId:null,isNewUser:!1,profile:null}:function Mr(h){var c,u;if(!h)return null;const{providerId:f}=h,m=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},y=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!f&&h?.idToken){const D=null===(u=null===(c=Cs(h.idToken))||void 0===c?void 0:c.firebase)||void 0===u?void 0:u.sign_in_provider;if(D)return new is(y,"anonymous"!==D&&"custom"!==D?D:null)}if(!f)return null;switch(f){case"facebook.com":return new qa(y,m);case"github.com":return new Kn(y,m);case"google.com":return new SD(y,m);case"twitter.com":return new Mi(y,m,h.screenName||null);case"custom":case"anonymous":return new is(y,null);default:return new is(y,f,m)}}(u)}class Fo{constructor(c,u,f){this.type=c,this.credential=u,this.user=f}static _fromIdtoken(c,u){return new Fo("enroll",c,u)}static _fromMfaPendingCredential(c){return new Fo("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var u,f;if(c?.multiFactorSession){if(null!==(u=c.multiFactorSession)&&void 0!==u&&u.pendingCredential)return Fo._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.idToken)return Fo._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Yp{constructor(c,u,f){this.session=c,this.hints=u,this.signInResolver=f}static _fromError(c,u){const f=Jt(c),m=u.customData._serverResponse,y=(m.mfaInfo||[]).map(P=>Un._fromServerResponse(f,P));Y(m.mfaPendingCredential,f,"internal-error");const D=Fo._fromMfaPendingCredential(m.mfaPendingCredential);return new Yp(D,y,function(){var P=(0,b.Z)(function*(Z){const fe=yield Z._process(f,D);delete m.mfaInfo,delete m.mfaPendingCredential;const ve=Object.assign(Object.assign({},m),{idToken:fe.idToken,refreshToken:fe.refreshToken});switch(u.operationType){case"signIn":const ye=yield Ui._fromIdTokenResponse(f,u.operationType,ve);return yield f._updateCurrentUser(ye.user),ye;case"reauthenticate":return Y(u.user,f,"internal-error"),Ui._forOperation(u.user,u.operationType,ve);default:qe(f,"internal-error")}});return function(Z){return P.apply(this,arguments)}}())}resolveSignIn(c){var u=this;return(0,b.Z)(function*(){return u.signInResolver(c)})()}}class Qp{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(u=>{u.mfaInfo&&(this.enrolledFactors=u.mfaInfo.map(f=>Un._fromServerResponse(c.auth,f)))})}static _fromUser(c){return new Qp(c)}getSession(){var c=this;return(0,b.Z)(function*(){return Fo._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,u){var f=this;return(0,b.Z)(function*(){const m=c,y=yield f.getSession(),D=yield ri(f.user,m._process(f.user.auth,y,u));return yield f.user._updateTokensIfNecessary(D),f.user.reload()})()}unenroll(c){var u=this;return(0,b.Z)(function*(){const f="string"==typeof c?c:c.uid,m=yield u.user.getIdToken();try{const y=yield ri(u.user,function kD(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:withdraw",J(h,c))}(u.user.auth,{idToken:m,mfaEnrollmentId:f}));u.enrolledFactors=u.enrolledFactors.filter(({uid:D})=>D!==f),yield u.user._updateTokensIfNecessary(y),yield u.user.reload()}catch(y){throw y}})()}}const Ic=new WeakMap,Vd="__sak";class ly{constructor(c,u){this.storageRetriever=c,this.type=u}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,u){return this.storage.setItem(c,JSON.stringify(u)),Promise.resolve()}_get(c){const u=this.storage.getItem(c);return Promise.resolve(u?JSON.parse(u):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bd=(()=>{class h extends ly{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(u,f)=>this.onStorageEvent(u,f),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function FD(){const h=(0,$.z$)();return Ar(h)||Ue(h)}()&&function tt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(u){for(const f of Object.keys(this.listeners)){const m=this.storage.getItem(f),y=this.localCache[f];m!==y&&u(f,y,m)}}onStorageEvent(u,f=!1){if(!u.key)return void this.forAllChangedKeys((P,Z,fe)=>{this.notifyListeners(P,fe)});const m=u.key;if(f?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const P=this.storage.getItem(m);if(u.newValue!==P)null!==u.newValue?this.storage.setItem(m,u.newValue):this.storage.removeItem(m);else if(this.localCache[m]===u.newValue&&!f)return}const y=()=>{const P=this.storage.getItem(m);!f&&this.localCache[m]===P||this.notifyListeners(m,P)},D=this.storage.getItem(m);!function pn(){return(0,$.w1)()&&10===document.documentMode}()||D===u.newValue||u.newValue===u.oldValue?y():setTimeout(y,10)}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const y of Array.from(m))y(f&&JSON.parse(f))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((u,f,m)=>{this.onStorageEvent(new StorageEvent("storage",{key:u,oldValue:f,newValue:m}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(u,f){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[u]||(this.listeners[u]=new Set,this.localCache[u]=this.storage.getItem(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(u,f){var m=()=>super._set,y=this;return(0,b.Z)(function*(){yield m().call(y,u,f),y.localCache[u]=JSON.stringify(f)})()}_get(u){var f=()=>super._get,m=this;return(0,b.Z)(function*(){const y=yield f().call(m,u);return m.localCache[u]=JSON.stringify(y),y})()}_remove(u){var f=()=>super._remove,m=this;return(0,b.Z)(function*(){yield f().call(m,u),delete m.localCache[u]})()}}return h.type="LOCAL",h})(),_r=(()=>{class h extends ly{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(u,f){}_removeListener(u,f){}}return h.type="SESSION",h})();let Xp=(()=>{class h{constructor(u){this.eventTarget=u,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(u){const f=this.receivers.find(y=>y.isListeningto(u));if(f)return f;const m=new h(u);return this.receivers.push(m),m}isListeningto(u){return this.eventTarget===u}handleEvent(u){var f=this;return(0,b.Z)(function*(){const m=u,{eventId:y,eventType:D,data:P}=m.data,Z=f.handlersMap[D];if(!Z?.size)return;m.ports[0].postMessage({status:"ack",eventId:y,eventType:D});const fe=Array.from(Z).map(function(){var ye=(0,b.Z)(function*(un){return un(m.origin,P)});return function(un){return ye.apply(this,arguments)}}()),ve=yield function ir(h){return Promise.all(h.map(function(){var c=(0,b.Z)(function*(u){try{return{fulfilled:!0,value:yield u}}catch(f){return{fulfilled:!1,reason:f}}});return function(u){return c.apply(this,arguments)}}()))}(fe);m.ports[0].postMessage({status:"done",eventId:y,eventType:D,response:ve})})()}_subscribe(u,f){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[u]||(this.handlersMap[u]=new Set),this.handlersMap[u].add(f)}_unsubscribe(u,f){this.handlersMap[u]&&f&&this.handlersMap[u].delete(f),(!f||0===this.handlersMap[u].size)&&delete this.handlersMap[u],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function Lo(h="",c=10){let u="";for(let f=0;f<c;f++)u+=Math.floor(10*Math.random());return h+u}class eg{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,u,f=50){var m=this;return(0,b.Z)(function*(){const y=typeof MessageChannel<"u"?new MessageChannel:null;if(!y)throw new Error("connection_unavailable");let D,P;return new Promise((Z,fe)=>{const ve=Lo("",20);y.port1.start();const ye=setTimeout(()=>{fe(new Error("unsupported_event"))},f);P={messageChannel:y,onMessage(un){const Pi=un;if(Pi.data.eventId===ve)switch(Pi.data.status){case"ack":clearTimeout(ye),D=setTimeout(()=>{fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),Z(Pi.data.response);break;default:clearTimeout(ye),clearTimeout(D),fe(new Error("invalid_response"))}}},m.handlers.add(P),y.port1.addEventListener("message",P.onMessage),m.target.postMessage({eventType:c,eventId:ve,data:u},[y.port2])}).finally(()=>{P&&m.removeMessageHandler(P)})})()}}function yn(){return window}function Tc(){return typeof yn().WorkerGlobalScope<"u"&&"function"==typeof yn().importScripts}function Za(){return(Za=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hd="firebaseLocalStorageDb",xs="firebaseLocalStorage",so="fbase_key";class Vo{constructor(c){this.request=c}toPromise(){return new Promise((c,u)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{u(this.request.error)})})}}function $d(h,c){return h.transaction([xs],c?"readwrite":"readonly").objectStore(xs)}function ig(){const h=indexedDB.open(Hd,1);return new Promise((c,u)=>{h.addEventListener("error",()=>{u(h.error)}),h.addEventListener("upgradeneeded",()=>{const f=h.result;try{f.createObjectStore(xs,{keyPath:so})}catch(m){u(m)}}),h.addEventListener("success",(0,b.Z)(function*(){const f=h.result;f.objectStoreNames.contains(xs)?c(f):(f.close(),yield function LD(){const h=indexedDB.deleteDatabase(Hd);return new Vo(h).toPromise()}(),c(yield ig()))}))})}function rg(h,c,u){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,b.Z)(function*(h,c,u){const f=$d(h,!0).put({[so]:c,value:u});return new Vo(f).toPromise()})).apply(this,arguments)}function Nc(){return(Nc=(0,b.Z)(function*(h,c){const u=$d(h,!1).get(c),f=yield new Vo(u).toPromise();return void 0===f?null:f.value})).apply(this,arguments)}function Ac(h,c){const u=$d(h,!0).delete(c);return new Vo(u).toPromise()}const Ka=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var u=this;return(0,b.Z)(function*(){return u.db||(u.db=yield ig()),u.db})()}_withRetries(u){var f=this;return(0,b.Z)(function*(){let m=0;for(;;)try{const y=yield f._openDb();return yield u(y)}catch(y){if(m++>3)throw y;f.db&&(f.db.close(),f.db=void 0)}})()}initializeServiceWorkerMessaging(){var u=this;return(0,b.Z)(function*(){return Tc()?u.initializeReceiver():u.initializeSender()})()}initializeReceiver(){var u=this;return(0,b.Z)(function*(){u.receiver=Xp._getInstance(function ng(){return Tc()?self:null}()),u.receiver._subscribe("keyChanged",function(){var f=(0,b.Z)(function*(m,y){return{keyProcessed:(yield u._poll()).includes(y.key)}});return function(m,y){return f.apply(this,arguments)}}()),u.receiver._subscribe("ping",function(){var f=(0,b.Z)(function*(m,y){return["keyChanged"]});return function(m,y){return f.apply(this,arguments)}}())})()}initializeSender(){var u=this;return(0,b.Z)(function*(){var f,m;if(u.activeServiceWorker=yield function Ud(){return Za.apply(this,arguments)}(),!u.activeServiceWorker)return;u.sender=new eg(u.activeServiceWorker);const y=yield u.sender._send("ping",{},800);y&&null!==(f=y[0])&&void 0!==f&&f.fulfilled&&null!==(m=y[0])&&void 0!==m&&m.value.includes("keyChanged")&&(u.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(u){var f=this;return(0,b.Z)(function*(){if(f.sender&&f.activeServiceWorker&&function tg(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===f.activeServiceWorker)try{yield f.sender._send("keyChanged",{key:u},f.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const u=yield ig();return yield rg(u,Vd,"1"),yield Ac(u,Vd),!0}catch{}return!1})()}_withPendingWrite(u){var f=this;return(0,b.Z)(function*(){f.pendingWrites++;try{yield u()}finally{f.pendingWrites--}})()}_set(u,f){var m=this;return(0,b.Z)(function*(){return m._withPendingWrite((0,b.Z)(function*(){return yield m._withRetries(y=>rg(y,u,f)),m.localCache[u]=f,m.notifyServiceWorker(u)}))})()}_get(u){var f=this;return(0,b.Z)(function*(){const m=yield f._withRetries(y=>function VD(h,c){return Nc.apply(this,arguments)}(y,u));return f.localCache[u]=m,m})()}_remove(u){var f=this;return(0,b.Z)(function*(){return f._withPendingWrite((0,b.Z)(function*(){return yield f._withRetries(m=>Ac(m,u)),delete f.localCache[u],f.notifyServiceWorker(u)}))})()}_poll(){var u=this;return(0,b.Z)(function*(){const f=yield u._withRetries(D=>{const P=$d(D,!1).getAll();return new Vo(P).toPromise()});if(!f)return[];if(0!==u.pendingWrites)return[];const m=[],y=new Set;if(0!==f.length)for(const{fbase_key:D,value:P}of f)y.add(D),JSON.stringify(u.localCache[D])!==JSON.stringify(P)&&(u.notifyListeners(D,P),m.push(D));for(const D of Object.keys(u.localCache))u.localCache[D]&&!y.has(D)&&(u.notifyListeners(D,null),m.push(D));return m})()}notifyListeners(u,f){this.localCache[u]=f;const m=this.listeners[u];if(m)for(const y of Array.from(m))y(f)}startPolling(){var u=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return u._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(u,f){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[u]||(this.listeners[u]=new Set,this._get(u)),this.listeners[u].add(f)}_removeListener(u,f){this.listeners[u]&&(this.listeners[u].delete(f),0===this.listeners[u].size&&delete this.listeners[u]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),Rc=1e12;class ag{constructor(c){this.auth=c,this.counter=Rc,this._widgets=new Map}render(c,u){const f=this.counter;return this._widgets.set(f,new fy(c,this.auth.name,u||{})),this.counter++,f}reset(c){var u;const f=c||Rc;null===(u=this._widgets.get(f))||void 0===u||u.delete(),this._widgets.delete(f)}getResponse(c){var u;return(null===(u=this._widgets.get(c||Rc))||void 0===u?void 0:u.getResponse())||""}execute(c){var u=this;return(0,b.Z)(function*(){var f;return null===(f=u._widgets.get(c||Rc))||void 0===f||f.execute(),""})()}}class fy{constructor(c,u,f){this.params=f,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const m="string"==typeof c?document.getElementById(c):c;Y(m,"argument-error",{appName:u}),this.container=m,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lg(h){const c=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<h;f++)c.push(u.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":u}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,u)try{u()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zd=Op("rcb"),BD=new er(3e4,6e4);class py{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=yn().grecaptcha)||void 0===c||!c.render)}load(c,u=""){return Y(function Yn(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(u),c,"argument-error"),this.shouldResolveImmediately(u)&&x(yn().grecaptcha)?Promise.resolve(yn().grecaptcha):new Promise((f,m)=>{const y=yn().setTimeout(()=>{m(Tt(c,"network-request-failed"))},BD.get());yn()[zd]=()=>{yn().clearTimeout(y),delete yn()[zd];const P=yn().grecaptcha;if(!P||!x(P))return void m(Tt(c,"internal-error"));const Z=P.render;P.render=(fe,ve)=>{const ye=Z(fe,ve);return this.counter++,ye},this.hostLanguage=u,f(P)},Mp(`${function vD(){return nc.recaptchaV2Script}()}?${(0,$.xO)({onload:zd,render:"explicit",hl:u})}`).catch(()=>{clearTimeout(y),m(Tt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var u;return!(null===(u=yn().grecaptcha)||void 0===u||!u.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cg{load(c){return(0,b.Z)(function*(){return new ag(c)})()}clearedOneInstance(){}}const ug="recaptcha",gy={theme:"light",type:"image"};class dg{constructor(c,u,f=Object.assign({},gy)){this.parameters=f,this.type=ug,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(c),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const m="string"==typeof u?document.getElementById(u):u;Y(m,this.auth,"argument-error"),this.container=m,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cg:new py,this.validateStartingState()}verify(){var c=this;return(0,b.Z)(function*(){c.assertNotDestroyed();const u=yield c.render(),f=c.getAssertedRecaptcha();return f.getResponse(u)||new Promise(y=>{const D=P=>{P&&(c.tokenChangeListeners.delete(D),y(P))};c.tokenChangeListeners.add(D),c.isInvisible&&f.execute(u)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return u=>{if(this.tokenChangeListeners.forEach(f=>f(u)),"function"==typeof c)c(u);else if("string"==typeof c){const f=yn()[c];"function"==typeof f&&f(u)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,b.Z)(function*(){if(yield c.init(),!c.widgetId){let u=c.container;if(!c.isInvisible){const f=document.createElement("div");u.appendChild(f),u=f}c.widgetId=c.getAssertedRecaptcha().render(u,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,b.Z)(function*(){Y(Ji()&&!Tc(),c.auth,"internal-error"),yield function hg(){let h=null;return new Promise(c=>{"complete"!==document.readyState?(h=()=>c(),window.addEventListener("load",h)):c()}).catch(c=>{throw h&&window.removeEventListener("load",h),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const u=yield function X(h){return le.apply(this,arguments)}(c.auth);Y(u,c.auth,"internal-error"),c.parameters.sitekey=u})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qd{constructor(c,u){this.verificationId=c,this.onConfirmation=u}confirm(c){const u=gr._fromVerification(this.verificationId,c);return this.onConfirmation(u)}}function Kd(){return(Kd=(0,b.Z)(function*(h,c,u){const f=Jt(h),m=yield Bo(f,c,(0,$.m9)(u));return new qd(m,y=>yc(f,y))})).apply(this,arguments)}function Mc(){return(Mc=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h);yield vc(!1,f,"phone");const m=yield Bo(f.auth,c,(0,$.m9)(u));return new qd(m,y=>si(f,y))})).apply(this,arguments)}function Ot(){return(Ot=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h),m=yield Bo(f.auth,c,(0,$.m9)(u));return new qd(m,y=>Gp(f,y))})).apply(this,arguments)}function Bo(h,c,u){return jo.apply(this,arguments)}function jo(){return jo=(0,b.Z)(function*(h,c,u){var f;const m=yield u.verify();try{let y;if(Y("string"==typeof m,h,"argument-error"),Y(u.type===ug,h,"argument-error"),y="string"==typeof c?{phoneNumber:c}:c,"session"in y){const D=y.session;if("phoneNumber"in y)return Y("enroll"===D.type,h,"internal-error"),(yield function OD(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:start",J(h,c))}(h,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:y.phoneNumber,recaptchaToken:m}})).phoneSessionInfo.sessionInfo;{Y("signin"===D.type,h,"internal-error");const P=(null===(f=y.multiFactorHint)||void 0===f?void 0:f.uid)||y.multiFactorUid;return Y(P,h,"missing-multi-factor-info"),(yield function uy(h,c){return H(h,"POST","/v2/accounts/mfaSignIn:start",J(h,c))}(h,{mfaPendingCredential:D.credential,mfaEnrollmentId:P,phoneSignInInfo:{recaptchaToken:m}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Ao(h,c){return Cd.apply(this,arguments)}(h,{phoneNumber:y.phoneNumber,recaptchaToken:m});return D}}finally{u._reset()}}),jo.apply(this,arguments)}function Yd(){return(Yd=(0,b.Z)(function*(h,c){yield Td((0,$.m9)(h),c)})).apply(this,arguments)}let Uo=(()=>{class h{constructor(u){this.providerId=h.PROVIDER_ID,this.auth=Jt(u)}verifyPhoneNumber(u,f){return Bo(this.auth,u,(0,$.m9)(f))}static credential(u,f){return gr._fromVerification(u,f)}static credentialFromResult(u){return h.credentialFromTaggedObject(u)}static credentialFromError(u){return h.credentialFromTaggedObject(u.customData||{})}static credentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{phoneNumber:f,temporaryProof:m}=u;return f&&m?gr._fromTokenResponse(f,m):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function rr(h,c){return c?Ze(c):(Y(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class _i extends Xs{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return ns(c,this._buildIdpRequest())}_linkToIdToken(c,u){return ns(c,this._buildIdpRequest(u))}_getReauthenticationResolver(c){return ns(c,this._buildIdpRequest())}_buildIdpRequest(c){const u={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(u.idToken=c),u}}function my(h){return Ad(h.auth,new _i(h),h.bypassAuthState)}function _y(h){const{auth:c,user:u}=h;return Y(u,c,"internal-error"),$p(u,new _i(h),h.bypassAuthState)}function vy(h){return xr.apply(this,arguments)}function xr(){return(xr=(0,b.Z)(function*(h){const{auth:c,user:u}=h;return Y(u,c,"internal-error"),Td(u,new _i(h),h.bypassAuthState)})).apply(this,arguments)}class Qd{constructor(c,u,f,m,y=!1){this.auth=c,this.resolver=f,this.user=m,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(u)?u:[u]}execute(){var c=this;return new Promise(function(){var u=(0,b.Z)(function*(f,m){c.pendingPromise={resolve:f,reject:m};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(y){c.reject(y)}});return function(f,m){return u.apply(this,arguments)}}())}onAuthEvent(c){var u=this;return(0,b.Z)(function*(){const{urlResponse:f,sessionId:m,postBody:y,tenantId:D,error:P,type:Z}=c;if(P)return void u.reject(P);const fe={auth:u.auth,requestUri:f,sessionId:m,tenantId:D||void 0,postBody:y||void 0,user:u.user,bypassAuthState:u.bypassAuthState};try{u.resolve(yield u.getIdpTask(Z)(fe))}catch(ve){u.reject(ve)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return my;case"linkViaPopup":case"linkViaRedirect":return vy;case"reauthViaPopup":case"reauthViaRedirect":return _y;default:qe(this.auth,"internal-error")}}resolve(c){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yy=new er(2e3,1e4);function Oc(){return(Oc=(0,b.Z)(function*(h,c,u){const f=Jt(h);je(h,c,Fn);const m=rr(f,u);return new mg(f,"signInViaPopup",c,m).executeNotNull()})).apply(this,arguments)}function Jd(){return(Jd=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h);je(f.auth,c,Fn);const m=rr(f.auth,u);return new mg(f.auth,"reauthViaPopup",c,m,f).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h);je(f.auth,c,Fn);const m=rr(f.auth,u);return new mg(f.auth,"linkViaPopup",c,m,f).executeNotNull()})).apply(this,arguments)}let mg=(()=>{class h extends Qd{constructor(u,f,m,y,D){super(u,f,y,D),this.provider=m,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var u=this;return(0,b.Z)(function*(){const f=yield u.execute();return Y(f,u.auth,"internal-error"),f})()}onExecution(){var u=this;return(0,b.Z)(function*(){$t(1===u.filter.length,"Popup operations only handle one event");const f=Lo();u.authWindow=yield u.resolver._openPopup(u.auth,u.provider,u.filter[0],f),u.authWindow.associatedEvent=f,u.resolver._originValidation(u.auth).catch(m=>{u.reject(m)}),u.resolver._isIframeWebStorageSupported(u.auth,m=>{m||u.reject(Tt(u.auth,"web-storage-unsupported"))}),u.pollUserCancellation()})()}get eventId(){var u;return(null===(u=this.authWindow)||void 0===u?void 0:u.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const u=()=>{var f,m;this.pollId=null!==(m=null===(f=this.authWindow)||void 0===f?void 0:f.window)&&void 0!==m&&m.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(u,yy.get())};u()}}return h.currentPopupAction=null,h})();const by="pendingRedirect",Ya=new Map;class wy extends Qd{constructor(c,u,f=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],u,void 0,f),this.eventId=null}execute(){var c=()=>super.execute,u=this;return(0,b.Z)(function*(){let f=Ya.get(u.auth._key());if(!f){try{const y=(yield function _g(h,c){return Ps.apply(this,arguments)}(u.resolver,u.auth))?yield c().call(u):null;f=()=>Promise.resolve(y)}catch(m){f=()=>Promise.reject(m)}Ya.set(u.auth._key(),f)}return u.bypassAuthState||Ya.set(u.auth._key(),()=>Promise.resolve(null)),f()})()}onAuthEvent(c){var u=()=>super.onAuthEvent,f=this;return(0,b.Z)(function*(){if("signInViaRedirect"===c.type)return u().call(f,c);if("unknown"!==c.type){if(c.eventId){const m=yield f.auth._redirectUserForId(c.eventId);if(m)return f.user=m,u().call(f,c);f.resolve(null)}}else f.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function Ps(){return(Ps=(0,b.Z)(function*(h,c){const u=ee(c),f=vg(h);if(!(yield f._isAvailable()))return!1;const m="true"===(yield f._get(u));return yield f._remove(u),m})).apply(this,arguments)}function Xd(h,c){return eh.apply(this,arguments)}function eh(){return(eh=(0,b.Z)(function*(h,c){return vg(h)._set(ee(c),"true")})).apply(this,arguments)}function th(h,c){Ya.set(h._key(),c)}function vg(h){return Ze(h._redirectPersistence)}function ee(h){return jn(by,h.config.apiKey,h.name)}function gt(h,c,u){return function vi(h,c,u){return Qn.apply(this,arguments)}(h,c,u)}function Qn(){return(Qn=(0,b.Z)(function*(h,c,u){const f=Jt(h);je(h,c,Fn),yield f._initializationPromise;const m=rr(f,u);return yield Xd(m,f),m._openRedirect(f,c,"signInViaRedirect")})).apply(this,arguments)}function Jn(h,c,u){return function yg(h,c,u){return oo.apply(this,arguments)}(h,c,u)}function oo(){return(oo=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h);je(f.auth,c,Fn),yield f.auth._initializationPromise;const m=rr(f.auth,u);yield Xd(m,f.auth);const y=yield kr(f);return m._openRedirect(f.auth,c,"reauthViaRedirect",y)})).apply(this,arguments)}function Pr(h,c,u){return function nh(h,c,u){return Qa.apply(this,arguments)}(h,c,u)}function Qa(){return(Qa=(0,b.Z)(function*(h,c,u){const f=(0,$.m9)(h);je(f.auth,c,Fn),yield f.auth._initializationPromise;const m=rr(f.auth,u);yield vc(!1,f,c.providerId),yield Xd(m,f.auth);const y=yield kr(f);return m._openRedirect(f.auth,c,"linkViaRedirect",y)})).apply(this,arguments)}function bg(){return(bg=(0,b.Z)(function*(h,c){return yield Jt(h)._initializationPromise,Ja(h,c,!1)})).apply(this,arguments)}function Ja(h,c){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,b.Z)(function*(h,c,u=!1){const f=Jt(h),m=rr(f,c),D=yield new wy(f,m,u).execute();return D&&!u&&(delete D.user._redirectEventId,yield f._persistUserIfCurrent(D.user),yield f._setRedirectUser(null,c)),D})).apply(this,arguments)}function kr(h){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,b.Z)(function*(h){const c=Lo(`${h.uid}:::`);return h._redirectEventId=c,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),c})).apply(this,arguments)}class Fr{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let u=!1;return this.consumers.forEach(f=>{this.isEventForConsumer(c,f)&&(u=!0,this.sendToConsumer(c,f),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Dy(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ih(h);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,u||(this.queuedRedirectEvent=c,u=!0)),u}sendToConsumer(c,u){var f;if(c.error&&!ih(c)){const m=(null===(f=c.error.code)||void 0===f?void 0:f.split("auth/")[1])||"internal-error";u.onError(Tt(this.auth,m))}else u.onAuthEvent(c)}isEventForConsumer(c,u){const f=null===u.eventId||!!c.eventId&&c.eventId===u.eventId;return u.filter.includes(c.type)&&f}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wg(c))}saveEventToCache(c){this.cachedEventUids.add(wg(c)),this.lastProcessedEventTime=Date.now()}}function wg(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(c=>c).join("-")}function ih({type:h,error:c}){return"unknown"===h&&"auth/no-auth-event"===c?.code}function Cg(h){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,b.Z)(function*(h,c={}){return H(h,"GET","/v1/projects",c)})).apply(this,arguments)}const rh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eg=/^https?/;function oh(){return(oh=(0,b.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:c}=yield Cg(h);for(const u of c)try{if(Dg(u))return}catch{}qe(h,"unauthorized-domain")})).apply(this,arguments)}function Dg(h){const c=an(),{protocol:u,hostname:f}=new URL(c);if(h.startsWith("chrome-extension://")){const D=new URL(h);return""===D.hostname&&""===f?"chrome-extension:"===u&&h.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===u&&D.hostname===f}if(!Eg.test(u))return!1;if(rh.test(h))return f===h;const m=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+m+"|"+m+")$","i").test(f)}const ah=new er(3e4,6e4);function lh(){const h=yn().___jsl;if(h?.H)for(const c of Object.keys(h.H))if(h.H[c].r=h.H[c].r||[],h.H[c].L=h.H[c].L||[],h.H[c].r=[...h.H[c].L],h.CP)for(let u=0;u<h.CP.length;u++)h.CP[u]=null}let el=null;const ch=new er(5e3,15e3),Iy="__/auth/iframe",Ty="emulator/auth/iframe",yi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ao=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ln(h){const c=h.config;Y(c.authDomain,h,"auth-domain-config-required");const u=c.emulator?V(c,Ty):`https://${h.config.authDomain}/${Iy}`,f={apiKey:c.apiKey,appName:h.name,v:Re.SDK_VERSION},m=ao.get(h.config.apiHost);m&&(f.eid=m);const y=h._getFrameworks();return y.length&&(f.fw=y.join(",")),`${u}?${(0,$.xO)(f).slice(1)}`}function uh(){return uh=(0,b.Z)(function*(h){const c=yield function Tg(h){return el=el||function Ig(h){return new Promise((c,u)=>{var f,m,y;function D(){lh(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{lh(),u(Tt(h,"network-request-failed"))},timeout:ah.get()})}if(null!==(m=null===(f=yn().gapi)||void 0===f?void 0:f.iframes)&&void 0!==m&&m.Iframe)c(gapi.iframes.getContext());else{if(null===(y=yn().gapi)||void 0===y||!y.load){const P=Op("iframefcb");return yn()[P]=()=>{gapi.load?D():u(Tt(h,"network-request-failed"))},Mp(`${function yD(){return nc.gapiScript}()}?onload=${P}`).catch(Z=>u(Z))}D()}}).catch(c=>{throw el=null,c})}(h),el}(h),u=yn().gapi;return Y(u,h,"internal-error"),c.open({where:document.body,url:ln(h),messageHandlersFilter:u.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yi,dontclear:!0},f=>new Promise(function(){var m=(0,b.Z)(function*(y,D){yield f.restyle({setHideOnLeave:!1});const P=Tt(h,"network-request-failed"),Z=yn().setTimeout(()=>{D(P)},ch.get());function fe(){yn().clearTimeout(Z),y(f)}f.ping(fe).then(fe,()=>{D(P)})});return function(y,D){return m.apply(this,arguments)}}()))}),uh.apply(this,arguments)}const Ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rs{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lc="__/auth/handler",Vc="emulator/auth/handler",dh=encodeURIComponent("fac");function Bc(h,c,u,f,m,y){return jc.apply(this,arguments)}function jc(){return(jc=(0,b.Z)(function*(h,c,u,f,m,y){Y(h.config.authDomain,h,"auth-domain-config-required"),Y(h.config.apiKey,h,"invalid-api-key");const D={apiKey:h.config.apiKey,appName:h.name,authType:u,redirectUrl:f,v:Re.SDK_VERSION,eventId:m};if(c instanceof Fn){c.setDefaultLanguage(h.languageCode),D.providerId=c.providerId||"",(0,$.xb)(c.getCustomParameters())||(D.customParameters=JSON.stringify(c.getCustomParameters()));for(const[ve,ye]of Object.entries(y||{}))D[ve]=ye}if(c instanceof pi){const ve=c.getScopes().filter(ye=>""!==ye);ve.length>0&&(D.scopes=ve.join(","))}h.tenantId&&(D.tid=h.tenantId);const P=D;for(const ve of Object.keys(P))void 0===P[ve]&&delete P[ve];const Z=yield h._getAppCheckToken(),fe=Z?`#${dh}=${encodeURIComponent(Z)}`:"";return`${function My({config:h}){return h.emulator?V(h,Vc):`https://${h.authDomain}/${Lc}`}(h)}?${(0,$.xO)(P).slice(1)}${fe}`})).apply(this,arguments)}const ks="webStorageSupport",Ag=class tl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=Ja,this._overrideRedirectResult=th}_openPopup(c,u,f,m){var y=this;return(0,b.Z)(function*(){var D;$t(null===(D=y.eventManagers[c._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const P=yield Bc(c,u,f,an(),m);return function Ry(h,c,u,f=500,m=600){const y=Math.max((window.screen.availHeight-m)/2,0).toString(),D=Math.max((window.screen.availWidth-f)/2,0).toString();let P="";const Z=Object.assign(Object.assign({},Ny),{width:f.toString(),height:m.toString(),top:y,left:D}),fe=(0,$.z$)().toLowerCase();u&&(P=tc(fe)?"_blank":u),jt(fe)&&(c=c||"http://localhost",Z.scrollbars="yes");const ve=Object.entries(Z).reduce((un,[Pi,cl])=>`${un}${Pi}=${cl},`,"");if(function G(h=(0,$.z$)()){var c;return Ue(h)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(fe)&&"_self"!==P)return function Fc(h,c){const u=document.createElement("a");u.href=h,u.target=c;const f=document.createEvent("MouseEvent");f.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),u.dispatchEvent(f)}(c||"",P),new rs(null);const ye=window.open(c||"",P,ve);Y(ye,h,"popup-blocked");try{ye.focus()}catch{}return new rs(ye)}(c,P,Lo())})()}_openRedirect(c,u,f,m){var y=this;return(0,b.Z)(function*(){return yield y._originValidation(c),function jd(h){yn().location.href=h}(yield Bc(c,u,f,an(),m)),new Promise(()=>{})})()}_initialize(c){const u=c._key();if(this.eventManagers[u]){const{manager:m,promise:y}=this.eventManagers[u];return m?Promise.resolve(m):($t(y,"If manager is not set, promise should be"),y)}const f=this.initAndGetManager(c);return this.eventManagers[u]={promise:f},f.catch(()=>{delete this.eventManagers[u]}),f}initAndGetManager(c){var u=this;return(0,b.Z)(function*(){const f=yield function Sy(h){return uh.apply(this,arguments)}(c),m=new Fr(c);return f.register("authEvent",y=>(Y(y?.authEvent,c,"invalid-auth-event"),{status:m.onEvent(y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),u.eventManagers[c._key()]={manager:m},u.iframes[c._key()]=f,m})()}_isIframeWebStorageSupported(c,u){this.iframes[c._key()].send(ks,{type:ks},m=>{var y;const D=null===(y=m?.[0])||void 0===y?void 0:y[ks];void 0!==D&&u(!!D),qe(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function sh(h){return oh.apply(this,arguments)}(c)),this.originValidationPromises[u]}get _shouldInitProactively(){return we()||Ar()||Ue()}};class jD{constructor(c){this.factorId=c}_process(c,u,f){switch(u.type){case"enroll":return this._finalizeEnroll(c,u.credential,f);case"signin":return this._finalizeSignIn(c,u.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class nl extends jD{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new nl(c)}_finalizeEnroll(c,u,f){return function xD(h,c){return H(h,"POST","/v2/accounts/mfaEnrollment:finalize",J(h,c))}(c,{idToken:u,displayName:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,u){return function sg(h,c){return H(h,"POST","/v2/accounts/mfaSignIn:finalize",J(h,c))}(c,{mfaPendingCredential:u,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let UD=(()=>{class h{constructor(){}static assertion(u){return nl._fromCredential(u)}}return h.FACTOR_ID="phone",h})();var Uc="@firebase/auth";class xy{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var u=this;return(0,b.Z)(function*(){return u.assertAuthConfigured(),yield u.auth._initializationPromise,u.auth.currentUser?{accessToken:yield u.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const u=this.auth.onIdTokenChanged(f=>{c(f?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,u),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const u=this.internalListeners.get(c);u&&(this.internalListeners.delete(c),u(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lo(){return window}(0,$.Pz)("authIdTokenMaxAge"),function _D(h){nc=h}({loadJS:h=>new Promise((c,u)=>{const f=document.createElement("script");f.setAttribute("src",h),f.onload=c,f.onerror=m=>{const y=Tt("internal-error");y.customData=m,u(y)},f.type="text/javascript",f.charset="UTF-8",function Lr(){var h,c;return null!==(c=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==c?c:document}().appendChild(f)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ph(h){(0,Re._registerComponent)(new Kt.wA("auth",(c,{options:u})=>{const f=c.getProvider("app").getImmediate(),m=c.getProvider("heartbeat"),y=c.getProvider("app-check-internal"),{apiKey:D,authDomain:P}=f.options;Y(D&&!D.includes(":"),"invalid-api-key",{appName:f.name});const Z={apiKey:D,authDomain:P,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:No(h)},fe=new Jv(f,m,y,Z);return function ty(h,c){const u=c?.persistence||[],f=(Array.isArray(u)?u:[u]).map(Ze);c?.errorMap&&h._updateErrorMap(c.errorMap),h._initializeWithPersistence(f,c?.popupRedirectResolver)}(fe,u),fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,u,f)=>{c.getProvider("auth-internal").initialize()})),(0,Re._registerComponent)(new Kt.wA("auth-internal",c=>{const u=Jt(c.getProvider("auth").getImmediate());return new xy(u)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.registerVersion)(Uc,"1.6.0",function il(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,Re.registerVersion)(Uc,"1.6.0","esm2017")}("Browser");function Gc(){return Gc=(0,b.Z)(function*(h,c,u){var f;const{BuildInfo:m}=lo();$t(c.sessionId,"AuthEvent did not contain a session ID");const y=yield function xg(h){return _h.apply(this,arguments)}(c.sessionId),D={};return Ue()?D.ibi=m.packageName:N()?D.apn=m.packageName:qe(h,"operation-not-supported-in-this-environment"),m.displayName&&(D.appDisplayName=m.displayName),D.sessionId=y,Bc(h,u,c.type,void 0,null!==(f=c.eventId)&&void 0!==f?f:void 0,D)}),Gc.apply(this,arguments)}function rl(){return(rl=(0,b.Z)(function*(h){const{BuildInfo:c}=lo(),u={};Ue()?u.iosBundleId=c.packageName:N()?u.androidPackageName=c.packageName:qe(h,"operation-not-supported-in-this-environment"),yield Cg(h,u)})).apply(this,arguments)}function zc(){return(zc=(0,b.Z)(function*(h,c,u){const{cordova:f}=lo();let m=()=>{};try{yield new Promise((y,D)=>{let P=null;function Z(){var ye;y();const un=null===(ye=f.plugins.browsertab)||void 0===ye?void 0:ye.close;"function"==typeof un&&un(),"function"==typeof u?.close&&u.close()}function fe(){P||(P=window.setTimeout(()=>{D(Tt(h,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&fe()}c.addPassiveListener(Z),document.addEventListener("resume",fe,!1),N()&&document.addEventListener("visibilitychange",ve,!1),m=()=>{c.removePassiveListener(Z),document.removeEventListener("resume",fe,!1),document.removeEventListener("visibilitychange",ve,!1),P&&window.clearTimeout(P)}})}finally{m()}})).apply(this,arguments)}function _h(){return(_h=(0,b.Z)(function*(h){const c=function qc(h){if($t(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const c=new ArrayBuffer(h.length),u=new Uint8Array(c);for(let f=0;f<h.length;f++)u[f]=h.charCodeAt(f);return u}(h),u=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(u)).map(m=>m.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ky extends Fr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(u=>u(c)),super.onEvent(c)}initialized(){var c=this;return(0,b.Z)(function*(){yield c.initPromise})()}}function Go(h){return vh.apply(this,arguments)}function vh(){return(vh=(0,b.Z)(function*(h){const c=yield cn()._get(sl(h));return c&&(yield cn()._remove(sl(h))),c})).apply(this,arguments)}function Fy(){const h=[];for(let u=0;u<20;u++){const f=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(f))}return h.join("")}function cn(){return Ze(Bd)}function sl(h){return jn("authEvent",h.config.apiKey,h.name)}function Vr(h){if(!h?.includes("?"))return{};const[c,...u]=h.split("?");return(0,$.zd)(u.join("?"))}const qo=class zo{constructor(){this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ja,this._overrideRedirectResult=th}_initialize(c){var u=this;return(0,b.Z)(function*(){const f=c._key();let m=u.eventManagers.get(f);return m||(m=new ky(c),u.eventManagers.set(f,m),u.attachCallbackListeners(c,m)),m})()}_openPopup(c){qe(c,"operation-not-supported-in-this-environment")}_openRedirect(c,u,f,m){var y=this;return(0,b.Z)(function*(){!function Og(h){var c,u,f,m,y,D,P,Z,fe,ve;const ye=lo();Y("function"==typeof(null===(c=ye?.universalLinks)||void 0===c?void 0:c.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(u=ye?.BuildInfo)||void 0===u?void 0:u.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(y=null===(m=null===(f=ye?.cordova)||void 0===f?void 0:f.plugins)||void 0===m?void 0:m.browsertab)||void 0===y?void 0:y.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Z=null===(P=null===(D=ye?.cordova)||void 0===D?void 0:D.plugins)||void 0===P?void 0:P.browsertab)||void 0===Z?void 0:Z.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(ve=null===(fe=ye?.cordova)||void 0===fe?void 0:fe.InAppBrowser)||void 0===ve?void 0:ve.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const D=yield y._initialize(c);yield D.initialized(),D.resetRedirect(),function Cy(){Ya.clear()}(),yield y._originValidation(c);const P=function Pg(h,c,u=null){return{type:c,eventId:u,urlResponse:null,sessionId:Fy(),postBody:null,tenantId:h.tenantId,error:Tt(h,"no-auth-event")}}(c,f,m);yield function kg(h,c){return cn()._set(sl(h),c)}(c,P);const Z=yield function mh(h,c,u){return Gc.apply(this,arguments)}(c,P,u),fe=yield function Py(h){const{cordova:c}=lo();return new Promise(u=>{c.plugins.browsertab.isAvailable(f=>{let m=null;f?c.plugins.browsertab.openUrl(h):m=c.InAppBrowser.open(h,function nt(h=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),u(m)})})}(Z);return function Mg(h,c,u){return zc.apply(this,arguments)}(c,D,fe)})()}_isIframeWebStorageSupported(c,u){throw new Error("Method not implemented.")}_originValidation(c){const u=c._key();return this.originValidationPromises[u]||(this.originValidationPromises[u]=function Wc(h){return rl.apply(this,arguments)}(c)),this.originValidationPromises[u]}attachCallbackListeners(c,u){const{universalLinks:f,handleOpenURL:m,BuildInfo:y}=lo(),D=setTimeout((0,b.Z)(function*(){yield Go(c),u.onEvent(yh())}),500),P=function(){var ve=(0,b.Z)(function*(ye){clearTimeout(D);const un=yield Go(c);let Pi=null;un&&ye?.url&&(Pi=function bi(h,c){var u,f;const m=function Fg(h){const c=Vr(h),u=c.link?decodeURIComponent(c.link):void 0,f=Vr(u).link,m=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Vr(m).link||m||f||u||h}(c);if(m.includes("/__/auth/callback")){const y=Vr(m),D=y.firebaseError?function Ly(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(y.firebaseError)):null,P=null===(f=null===(u=D?.code)||void 0===u?void 0:u.split("auth/"))||void 0===f?void 0:f[1],Z=P?Tt(P):null;return Z?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:Z,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:m,postBody:null}}return null}(un,ye.url)),u.onEvent(Pi||yh())});return function(un){return ve.apply(this,arguments)}}();typeof f<"u"&&"function"==typeof f.subscribe&&f.subscribe(null,P);const Z=m,fe=`${y.packageName.toLowerCase()}://`;lo().handleOpenURL=function(){var ve=(0,b.Z)(function*(ye){if(ye.toLowerCase().startsWith(fe)&&P({url:ye}),"function"==typeof Z)try{Z(ye)}catch(un){console.error(un)}});return function(ye){return ve.apply(this,arguments)}}()}};function yh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tt("no-auth-event")}}function Zc(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function By(h=(0,$.z$)()){return!("file:"!==Zc()&&"ionic:"!==Zc()&&"capacitor:"!==Zc()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lg(){try{const h=self.localStorage,c=Lo();if(h)return h.setItem(c,"1"),h.removeItem(c),!function Ko(h=(0,$.z$)()){return function ZD(){return(0,$.w1)()&&11===document?.documentMode}()||function KD(h=(0,$.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,$.hl)()}catch{return wh()&&(0,$.hl)()}return!1}function wh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bn(){return(function zD(){return"http:"===Zc()||"https:"===Zc()}()||(0,$.ru)()||By())&&!function qD(){return(0,$.b$)()||(0,$.UG)()}()&&Lg()&&!wh()}function Vg(){return By()&&typeof document<"u"}function Ch(){return(Ch=(0,b.Z)(function*(){return!!Vg()&&new Promise(h=>{const c=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),h(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},Yo=Y,al="persistence";function Eh(h){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,b.Z)(function*(h){yield h._initializationPromise;const c=Uy(),u=jn(al,h.config.apiKey,h.name);c&&c.setItem(u,h._getPersistence())})).apply(this,arguments)}function Uy(){var h;try{return(null===(h=function sr(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const Wi=Y;class Br{constructor(){this.browserResolver=Ze(Ag),this.cordovaResolver=Ze(qo),this.underlyingResolver=null,this._redirectPersistence=_r,this._completeRedirectFn=Ja,this._overrideRedirectResult=th}_initialize(c){var u=this;return(0,b.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,u,f,m){var y=this;return(0,b.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openPopup(c,u,f,m)})()}_openRedirect(c,u,f,m){var y=this;return(0,b.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._openRedirect(c,u,f,m)})()}_isIframeWebStorageSupported(c,u){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,u)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Vg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,b.Z)(function*(){if(c.underlyingResolver)return;const u=yield function ol(){return Ch.apply(this,arguments)}();c.underlyingResolver=u?c.cordovaResolver:c.browserResolver})()}}function uo(h){return h.unwrap()}function jg(h){return Ug(h)}function Ug(h){const{_tokenResponse:c}=h instanceof $.ZR?h.customData:h;if(!c)return null;if(!(h instanceof $.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Uo.credentialFromResult(h);const u=c.providerId;if(!u||u===Ye.PASSWORD)return null;let f;switch(u){case Ye.GOOGLE:f=dc;break;case Ye.FACEBOOK:f=Ua;break;case Ye.GITHUB:f=hc;break;case Ye.TWITTER:f=Dd;break;default:const{oauthIdToken:m,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:P,nonce:Z}=c;return y||D||m||P?P?u.startsWith("saml.")?Ri._create(u,P):pr._fromParams({providerId:u,signInMethod:u,pendingToken:P,idToken:m,accessToken:y}):new it(u).credential({idToken:m,accessToken:y,rawNonce:Z}):null}return h instanceof $.ZR?f.credentialFromError(h):f.credentialFromResult(h)}function xi(h,c){return c.catch(u=>{throw u instanceof $.ZR&&function Hy(h,c){var u;const f=null===(u=c.customData)||void 0===u?void 0:u._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new $y(h,function MD(h,c){var u;const f=(0,$.m9)(h),m=c;return Y(c.customData.operationType,f,"argument-error"),Y(null===(u=m.customData._serverResponse)||void 0===u?void 0:u.mfaPendingCredential,f,"argument-error"),Yp._fromError(f,m)}(h,c));else if(f){const m=Ug(c),y=c;m&&(y.credential=m,y.tenantId=f.tenantId||void 0,y.email=f.email||void 0,y.phoneNumber=f.phoneNumber||void 0)}}(h,u),u}).then(u=>{const m=u.user;return{operationType:u.operationType,credential:jg(u),additionalUserInfo:mi(u),user:vr.getOrCreate(m)}})}function Dh(h,c){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,b.Z)(function*(h,c){const u=yield c;return{verificationId:u.verificationId,confirm:f=>xi(h,u.confirm(f))}})).apply(this,arguments)}class $y{constructor(c,u){this.resolver=u,this.auth=function YD(h){return h.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return xi(uo(this.auth),this.resolver.resolveSignIn(c))}}class vr{constructor(c){this._delegate=c,this.multiFactor=function Jp(h){const c=(0,$.m9)(h);return Ic.has(c)||Ic.set(c,Qp._fromUser(c)),Ic.get(c)}(c)}static getOrCreate(c){return vr.USER_MAP.has(c)||vr.USER_MAP.set(c,new vr(c)),vr.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var u=this;return(0,b.Z)(function*(){return xi(u.auth,si(u._delegate,c))})()}linkWithPhoneNumber(c,u){var f=this;return(0,b.Z)(function*(){return Dh(f.auth,function Or(h,c,u){return Mc.apply(this,arguments)}(f._delegate,c,u))})()}linkWithPopup(c){var u=this;return(0,b.Z)(function*(){return xi(u.auth,function ke(h,c,u){return xc.apply(this,arguments)}(u._delegate,c,Br))})()}linkWithRedirect(c){var u=this;return(0,b.Z)(function*(){return yield Eh(Jt(u.auth)),Pr(u._delegate,c,Br)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var u=this;return(0,b.Z)(function*(){return xi(u.auth,Gp(u._delegate,c))})()}reauthenticateWithPhoneNumber(c,u){return Dh(this.auth,function fg(h,c,u){return Ot.apply(this,arguments)}(this._delegate,c,u))}reauthenticateWithPopup(c){return xi(this.auth,function gg(h,c,u){return Jd.apply(this,arguments)}(this._delegate,c,Br))}reauthenticateWithRedirect(c){var u=this;return(0,b.Z)(function*(){return yield Eh(Jt(u.auth)),Jn(u._delegate,c,Br)})()}sendEmailVerification(c){return function Po(h,c){return nr.apply(this,arguments)}(this._delegate,c)}unlink(c){var u=this;return(0,b.Z)(function*(){return yield function sy(h,c){return Hi.apply(this,arguments)}(u._delegate,c),u})()}updateEmail(c){return function rt(h,c){return Ec((0,$.m9)(h),c,null)}(this._delegate,c)}updatePassword(c){return function TD(h,c){return Ec((0,$.m9)(h),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Oi(h,c){return Yd.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function za(h,c){return no.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,u){return function Wa(h,c,u){return Cc.apply(this,arguments)}(this._delegate,c,u)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vr.USER_MAP=new WeakMap;const Fs=Y;let Hg=(()=>{class h{constructor(u,f){if(this.app=u,f.isInitialized())return this._delegate=f.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:m}=u.options;Fs(m,"invalid-api-key",{appName:u.name}),Fs(m,"invalid-api-key",{appName:u.name});const y=typeof window<"u"?Br:void 0;this._delegate=f.initialize({options:{persistence:Gy(m,u.name),popupRedirectResolver:y}}),this._delegate._updateErrorMap(on),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(u){this._delegate.languageCode=u}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(u){this._delegate.tenantId=u}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(u,f){!function pd(h,c,u){const f=Jt(h);Y(f._canInitEmulator,f,"emulator-config-failed"),Y(/^https?:\/\//.test(c),f,"invalid-emulator-scheme");const m=!!u?.disableWarnings,y=Pp(c),{host:D,port:P}=function sc(h){const c=Pp(h),u=/(\/\/)?([^?#/]+)/.exec(h.substr(c.length));if(!u)return{host:"",port:null};const f=u[2].split("@").pop()||"",m=/^(\[[^\]]+\])(:|$)/.exec(f);if(m){const y=m[1];return{host:y,port:ka(f.substr(y.length+1))}}{const[y,D]=f.split(":");return{host:y,port:ka(D)}}}(c);f.config.emulator={url:`${y}//${D}${null===P?"":`:${P}`}/`},f.settings.appVerificationDisabledForTesting=!0,f.emulatorConfig=Object.freeze({host:D,port:P,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:m})}),m||function gd(){function h(){const c=document.createElement("p"),u=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",u.position="fixed",u.width="100%",u.backgroundColor="#ffffff",u.border=".1em solid #000000",u.color="#b50000",u.bottom="0px",u.left="0px",u.margin="0px",u.zIndex="10000",u.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,u,f)}applyActionCode(u){return function oy(h,c){return Xt.apply(this,arguments)}(this._delegate,u)}checkActionCode(u){return pe(this._delegate,u)}confirmPasswordReset(u,f){return function wc(h,c,u){return kd.apply(this,arguments)}(this._delegate,u,f)}createUserWithEmailAndPassword(u,f){var m=this;return(0,b.Z)(function*(){return xi(m._delegate,function Ga(h,c,u){return $n.apply(this,arguments)}(m._delegate,u,f))})()}fetchProvidersForEmail(u){return this.fetchSignInMethodsForEmail(u)}fetchSignInMethodsForEmail(u){return function vn(h,c){return to.apply(this,arguments)}(this._delegate,u)}isSignInWithEmailLink(u){return function xo(h,c){const u=ja.parseLink(c);return"EMAIL_SIGNIN"===u?.operation}(0,u)}getRedirectResult(){var u=this;return(0,b.Z)(function*(){Fs(bn(),u._delegate,"operation-not-supported-in-this-environment");const f=yield function Ey(h,c){return bg.apply(this,arguments)}(u._delegate,Br);return f?xi(u._delegate,Promise.resolve(f)):{credential:null,user:null}})()}addFrameworkForLogging(u){!function bh(h,c){Jt(h)._logFramework(c)}(this._delegate,u)}onAuthStateChanged(u,f,m){const{next:y,error:D,complete:P}=Qo(u,f,m);return this._delegate.onAuthStateChanged(y,D,P)}onIdTokenChanged(u,f,m){const{next:y,error:D,complete:P}=Qo(u,f,m);return this._delegate.onIdTokenChanged(y,D,P)}sendSignInLinkToEmail(u,f){return function _n(h,c,u){return Rr.apply(this,arguments)}(this._delegate,u,f)}sendPasswordResetEmail(u,f){return function zp(h,c,u){return bc.apply(this,arguments)}(this._delegate,u,f||void 0)}setPersistence(u){var f=this;return(0,b.Z)(function*(){let m;switch(function ll(h,c){Yo(Object.values(Gn).includes(c),h,"invalid-persistence-type"),(0,$.b$)()?Yo(c!==Gn.SESSION,h,"unsupported-persistence-type"):(0,$.UG)()?Yo(c===Gn.NONE,h,"unsupported-persistence-type"):wh()?Yo(c===Gn.NONE||c===Gn.LOCAL&&(0,$.hl)(),h,"unsupported-persistence-type"):Yo(c===Gn.NONE||Lg(),h,"unsupported-persistence-type")}(f._delegate,u),u){case Gn.SESSION:m=_r;break;case Gn.LOCAL:m=(yield Ze(Ka)._isAvailable())?Ka:Bd;break;case Gn.NONE:m=Qt;break;default:return qe("argument-error",{appName:f._delegate.name})}return f._delegate.setPersistence(m)})()}signInAndRetrieveDataWithCredential(u){return this.signInWithCredential(u)}signInAnonymously(){return xi(this._delegate,function Up(h){return gc.apply(this,arguments)}(this._delegate))}signInWithCredential(u){return xi(this._delegate,yc(this._delegate,u))}signInWithCustomToken(u){return xi(this._delegate,function Wp(h,c){return ae.apply(this,arguments)}(this._delegate,u))}signInWithEmailAndPassword(u,f){return xi(this._delegate,function Oo(h,c,u){return yc((0,$.m9)(h),Ro.credential(c,u)).catch(function(){var f=(0,b.Z)(function*(m){throw"auth/password-does-not-meet-requirements"===m.code&&As(h),m});return function(m){return f.apply(this,arguments)}}())}(this._delegate,u,f))}signInWithEmailLink(u,f){return xi(this._delegate,function Be(h,c,u){return eo.apply(this,arguments)}(this._delegate,u,f))}signInWithPhoneNumber(u,f){return Dh(this._delegate,function Zd(h,c,u){return Kd.apply(this,arguments)}(this._delegate,u,f))}signInWithPopup(u){var f=this;return(0,b.Z)(function*(){return Fs(bn(),f._delegate,"operation-not-supported-in-this-environment"),xi(f._delegate,function pg(h,c,u){return Oc.apply(this,arguments)}(f._delegate,u,Br))})()}signInWithRedirect(u){var f=this;return(0,b.Z)(function*(){return Fs(bn(),f._delegate,"operation-not-supported-in-this-environment"),yield Eh(f._delegate),gt(f._delegate,u,Br)})()}updateCurrentUser(u){return this._delegate.updateCurrentUser(u)}verifyPasswordResetCode(u){return function en(h,c){return $i.apply(this,arguments)}(this._delegate,u)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Gn,h})();function Qo(h,c,u){let f=h;"function"!=typeof h&&({next:f,error:c,complete:u}=h);const m=f;return{next:D=>m(D&&vr.getOrCreate(D)),error:c,complete:u}}function Gy(h,c){const u=function jy(h,c){const u=Uy();if(!u)return[];const f=jn(al,h,c);switch(u.getItem(f)){case Gn.NONE:return[Qt];case Gn.LOCAL:return[Ka,_r];case Gn.SESSION:return[_r];default:return[]}}(h,c);if(typeof self<"u"&&!u.includes(Ka)&&u.push(Ka),typeof window<"u")for(const f of[Bd,_r])u.includes(f)||u.push(f);return u.includes(Qt)||u.push(Qt),u}class Jo{constructor(){this.providerId="phone",this._delegate=new Uo(uo(Ie.Z.auth()))}static credential(c,u){return Uo.credential(c,u)}verifyPhoneNumber(c,u){return this._delegate.verifyPhoneNumber(c,u)}unwrap(){return this._delegate}}Jo.PHONE_SIGN_IN_METHOD=Uo.PHONE_SIGN_IN_METHOD,Jo.PROVIDER_ID=Uo.PROVIDER_ID;const Wy=Y;class $g{constructor(c,u,f=Ie.Z.app()){var m;Wy(null===(m=f.options)||void 0===m?void 0:m.apiKey,"invalid-api-key",{appName:f.name}),this._delegate=new dg(f.auth(),c,u),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Kc(h){h.INTERNAL.registerComponent(new Kt.wA("auth-compat",c=>{const u=c.getProvider("app-compat").getImmediate(),f=c.getProvider("auth");return new Hg(u,f)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ro,FacebookAuthProvider:Ua,GithubAuthProvider:hc,GoogleAuthProvider:dc,OAuthProvider:it,SAMLAuthProvider:$a,PhoneAuthProvider:Jo,PhoneMultiFactorGenerator:UD,RecaptchaVerifier:$g,TwitterAuthProvider:Dd,Auth:Hg,AuthCredential:Xs,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.2")}(Ie.Z)},861:(Vi,In,Le)=>{function b($,Re,Xe,Gt,Kt,xn,Ye){try{var Q=$[xn](Ye),re=Q.value}catch(me){return void Xe(me)}Q.done?Re(re):Promise.resolve(re).then(Gt,Kt)}function Ie($){return function(){var Re=this,Xe=arguments;return new Promise(function(Gt,Kt){var xn=$.apply(Re,Xe);function Ye(re){b(xn,Gt,Kt,Ye,Q,"next",re)}function Q(re){b(xn,Gt,Kt,Ye,Q,"throw",re)}Ye(void 0)})}}Le.d(In,{Z:()=>Ie})},582:(Vi,In,Le)=>{function Re(V,U){var L={};for(var q in V)Object.prototype.hasOwnProperty.call(V,q)&&U.indexOf(q)<0&&(L[q]=V[q]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(q=Object.getOwnPropertySymbols(V);J<q.length;J++)U.indexOf(q[J])<0&&Object.prototype.propertyIsEnumerable.call(V,q[J])&&(L[q[J]]=V[q[J]])}return L}function me(V,U,L,q){return new(L||(L=Promise))(function(H,he){function et(dt){try{Ce(q.next(dt))}catch(Wt){he(Wt)}}function ge(dt){try{Ce(q.throw(dt))}catch(Wt){he(Wt)}}function Ce(dt){dt.done?H(dt.value):function J(H){return H instanceof L?H:new L(function(he){he(H)})}(dt.value).then(et,ge)}Ce((q=q.apply(V,U||[])).next())})}function Rt(V){return this instanceof Rt?(this.v=V,this):new Rt(V)}function qe(V,U,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,q=L.apply(V,U||[]),H=[];return J={},he("next"),he("throw"),he("return"),J[Symbol.asyncIterator]=function(){return this},J;function he(St){q[St]&&(J[St]=function(Pn){return new Promise(function(dn,x){H.push([St,Pn,dn,x])>1||et(St,Pn)})})}function et(St,Pn){try{!function ge(St){St.value instanceof Rt?Promise.resolve(St.value.v).then(Ce,dt):Wt(H[0][2],St)}(q[St](Pn))}catch(dn){Wt(H[0][3],dn)}}function Ce(St){et("next",St)}function dt(St){et("throw",St)}function Wt(St,Pn){St(Pn),H.shift(),H.length&&et(H[0][0],H[0][1])}}function ii(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,U=V[Symbol.asyncIterator];return U?U.call(V):(V=function _t(V){var U="function"==typeof Symbol&&Symbol.iterator,L=U&&V[U],q=0;if(L)return L.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&q>=V.length&&(V=void 0),{value:V&&V[q++],done:!V}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),L={},q("next"),q("throw"),q("return"),L[Symbol.asyncIterator]=function(){return this},L);function q(H){L[H]=V[H]&&function(he){return new Promise(function(et,ge){!function J(H,he,et,ge){Promise.resolve(ge).then(function(Ce){H({value:Ce,done:et})},he)}(et,ge,(he=V[H](he)).done,he.value)})}}}Le.d(In,{FC:()=>qe,KL:()=>ii,_T:()=>Re,mG:()=>me,qq:()=>Rt}),"function"==typeof SuppressedError&&SuppressedError}},Vi=>{var In=b=>Vi(Vi.s=b);In(614),In(646)}]);